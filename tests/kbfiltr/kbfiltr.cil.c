/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is true */

#line 323 "kbfiltr_simpl2.cil.c"
void __globinit_kbfiltr(void) ;
extern void __CrestInit(void)  __attribute__((__crest_skip__)) ;
extern void __CrestHandleReturn(int id , long long val )  __attribute__((__crest_skip__)) ;
extern void __CrestReturn(int id )  __attribute__((__crest_skip__)) ;
extern void __CrestCall(int id , unsigned int fid )  __attribute__((__crest_skip__)) ;
extern void __CrestBranch(int id , int bid , unsigned char b )  __attribute__((__crest_skip__)) ;
extern void __CrestApply2(int id , int op , long long val )  __attribute__((__crest_skip__)) ;
extern void __CrestApply1(int id , int op , long long val )  __attribute__((__crest_skip__)) ;
extern void __CrestClearStack(int id )  __attribute__((__crest_skip__)) ;
extern void __CrestStore(int id , unsigned long addr )  __attribute__((__crest_skip__)) ;
extern void __CrestLoad(int id , unsigned long addr , long long val )  __attribute__((__crest_skip__)) ;
#line 202 "../../bin/../include/crest.h"
extern void __CrestInt(int *x )  __attribute__((__crest_skip__)) ;
#line 3 "kbfiltr.c"
int KernelMode  ;
#line 4 "kbfiltr.c"
int Executive  ;
#line 5 "kbfiltr.c"
int DevicePowerState  ;
#line 6 "kbfiltr.c"
int s  ;
#line 7 "kbfiltr.c"
int UNLOADED  ;
#line 8 "kbfiltr.c"
int NP  ;
#line 9 "kbfiltr.c"
int DC  ;
#line 10 "kbfiltr.c"
int SKIP1  ;
#line 11 "kbfiltr.c"
int SKIP2  ;
#line 12 "kbfiltr.c"
int MPR1  ;
#line 13 "kbfiltr.c"
int MPR3  ;
#line 14 "kbfiltr.c"
int IPC  ;
#line 15 "kbfiltr.c"
int pended  ;
#line 16 "kbfiltr.c"
int compFptr  ;
#line 17 "kbfiltr.c"
int compRegistered  ;
#line 18 "kbfiltr.c"
int lowerDriverReturn  ;
#line 19 "kbfiltr.c"
int setEventCalled  ;
#line 20 "kbfiltr.c"
int customIrp  ;
#line 21 "kbfiltr.c"
int myStatus  ;
#line 23 "kbfiltr.c"
void stub_driver_init(void) 
{ 


  {
  __CrestCall(1, 1);

  __CrestLoad(2, (unsigned long )(& NP), (long long )NP);
  __CrestStore(3, (unsigned long )(& s));
#line 52
  s = NP;
  __CrestLoad(4, (unsigned long )0, (long long )0);
  __CrestStore(5, (unsigned long )(& pended));
#line 53
  pended = 0;
  __CrestLoad(6, (unsigned long )0, (long long )0);
  __CrestStore(7, (unsigned long )(& compFptr));
#line 54
  compFptr = 0;
  __CrestLoad(8, (unsigned long )0, (long long )0);
  __CrestStore(9, (unsigned long )(& compRegistered));
#line 55
  compRegistered = 0;
  __CrestLoad(10, (unsigned long )0, (long long )0);
  __CrestStore(11, (unsigned long )(& lowerDriverReturn));
#line 56
  lowerDriverReturn = 0;
  __CrestLoad(12, (unsigned long )0, (long long )0);
  __CrestStore(13, (unsigned long )(& setEventCalled));
#line 57
  setEventCalled = 0;
  __CrestLoad(14, (unsigned long )0, (long long )0);
  __CrestStore(15, (unsigned long )(& customIrp));
#line 58
  customIrp = 0;

  {
  __CrestReturn(16);
#line 23
  return;
  }
}
}
#line 62 "kbfiltr_simpl2.cil.c"
void _BLAST_init(void) 
{ 


  {
  __CrestCall(17, 2);

  __CrestLoad(18, (unsigned long )0, (long long )0);
  __CrestStore(19, (unsigned long )(& UNLOADED));
#line 66
  UNLOADED = 0;
  __CrestLoad(20, (unsigned long )0, (long long )1);
  __CrestStore(21, (unsigned long )(& NP));
#line 67
  NP = 1;
  __CrestLoad(22, (unsigned long )0, (long long )2);
  __CrestStore(23, (unsigned long )(& DC));
#line 68
  DC = 2;
  __CrestLoad(24, (unsigned long )0, (long long )3);
  __CrestStore(25, (unsigned long )(& SKIP1));
#line 69
  SKIP1 = 3;
  __CrestLoad(26, (unsigned long )0, (long long )4);
  __CrestStore(27, (unsigned long )(& SKIP2));
#line 70
  SKIP2 = 4;
  __CrestLoad(28, (unsigned long )0, (long long )5);
  __CrestStore(29, (unsigned long )(& MPR1));
#line 71
  MPR1 = 5;
  __CrestLoad(30, (unsigned long )0, (long long )6);
  __CrestStore(31, (unsigned long )(& MPR3));
#line 72
  MPR3 = 6;
  __CrestLoad(32, (unsigned long )0, (long long )7);
  __CrestStore(33, (unsigned long )(& IPC));
#line 73
  IPC = 7;
  __CrestLoad(34, (unsigned long )(& UNLOADED), (long long )UNLOADED);
  __CrestStore(35, (unsigned long )(& s));
#line 74
  s = UNLOADED;
  __CrestLoad(36, (unsigned long )0, (long long )0);
  __CrestStore(37, (unsigned long )(& pended));
#line 75
  pended = 0;
  __CrestLoad(38, (unsigned long )0, (long long )0);
  __CrestStore(39, (unsigned long )(& compFptr));
#line 76
  compFptr = 0;
  __CrestLoad(40, (unsigned long )0, (long long )0);
  __CrestStore(41, (unsigned long )(& compRegistered));
#line 77
  compRegistered = 0;
  __CrestLoad(42, (unsigned long )0, (long long )0);
  __CrestStore(43, (unsigned long )(& lowerDriverReturn));
#line 78
  lowerDriverReturn = 0;
  __CrestLoad(44, (unsigned long )0, (long long )0);
  __CrestStore(45, (unsigned long )(& setEventCalled));
#line 79
  setEventCalled = 0;
  __CrestLoad(46, (unsigned long )0, (long long )0);
  __CrestStore(47, (unsigned long )(& customIrp));
#line 80
  customIrp = 0;

  {
  __CrestReturn(48);
#line 62
  return;
  }
}
}
#line 84
void IofCompleteRequest(int Irp , int PriorityBoost ) ;
#line 85
void errorFn(void) ;
#line 200
int IofCallDriver(int DeviceObject , int Irp ) ;
#line 205
int KeWaitForSingleObject(int Object , int WaitReason , int WaitMode , int Alertable ,
                          int Timeout ) ;
#line 86 "kbfiltr_simpl2.cil.c"
int KbFilter_PnP(int DeviceObject , int Irp ) 
{ 
  int devExt ;
  int irpStack ;
  int status ;
  int event ;
  int DeviceObject__DeviceExtension ;
  int Irp__Tail__Overlay__CurrentStackLocation ;
  int irpStack__MinorFunction ;
  int devExt__TopOfStack ;
  int devExt__Started ;
  int devExt__Removed ;
  int devExt__SurpriseRemoved ;
  int Irp__IoStatus__Status ;
  int Irp__IoStatus__Information ;
  int Irp__CurrentLocation ;
  int irpSp ;
  int nextIrpSp ;
  int nextIrpSp__Control ;
  int irpSp___0 ;
  int irpSp__Context ;
  int irpSp__Control ;
  long __cil_tmp23 ;

  {
  __CrestCall(51, 3);
  __CrestStore(50, (unsigned long )(& Irp));
  __CrestStore(49, (unsigned long )(& DeviceObject));
#line 90
  __CrestInt(& event);
#line 91
  __CrestInt(& DeviceObject__DeviceExtension);
#line 92
  __CrestInt(& Irp__Tail__Overlay__CurrentStackLocation);
#line 93
  __CrestInt(& irpStack__MinorFunction);
#line 94
  __CrestInt(& devExt__TopOfStack);
#line 100
  __CrestInt(& Irp__CurrentLocation);
  __CrestLoad(52, (unsigned long )0, (long long )0);
  __CrestStore(53, (unsigned long )(& status));
#line 107
  status = 0;
  __CrestLoad(54, (unsigned long )(& DeviceObject__DeviceExtension), (long long )DeviceObject__DeviceExtension);
  __CrestStore(55, (unsigned long )(& devExt));
#line 108
  devExt = DeviceObject__DeviceExtension;
  __CrestLoad(56, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation), (long long )Irp__Tail__Overlay__CurrentStackLocation);
  __CrestStore(57, (unsigned long )(& irpStack));
#line 109
  irpStack = Irp__Tail__Overlay__CurrentStackLocation;
  {
  __CrestLoad(60, (unsigned long )(& irpStack__MinorFunction), (long long )irpStack__MinorFunction);
  __CrestLoad(59, (unsigned long )0, (long long )0);
  __CrestApply2(58, 12, (long long )(irpStack__MinorFunction == 0));
#line 110
  if (irpStack__MinorFunction == 0) {
    __CrestBranch(61, 9, 1);
#line 111
    goto switch_0_0;
  } else {
    __CrestBranch(62, 10, 0);
    {
    __CrestLoad(65, (unsigned long )(& irpStack__MinorFunction), (long long )irpStack__MinorFunction);
    __CrestLoad(64, (unsigned long )0, (long long )23);
    __CrestApply2(63, 12, (long long )(irpStack__MinorFunction == 23));
#line 113
    if (irpStack__MinorFunction == 23) {
      __CrestBranch(66, 11, 1);
#line 114
      goto switch_0_23;
    } else {
      __CrestBranch(67, 12, 0);
      {
      __CrestLoad(70, (unsigned long )(& irpStack__MinorFunction), (long long )irpStack__MinorFunction);
      __CrestLoad(69, (unsigned long )0, (long long )2);
      __CrestApply2(68, 12, (long long )(irpStack__MinorFunction == 2));
#line 116
      if (irpStack__MinorFunction == 2) {
        __CrestBranch(71, 13, 1);
#line 117
        goto switch_0_2;
      } else {
        __CrestBranch(72, 14, 0);
        {
        __CrestLoad(75, (unsigned long )(& irpStack__MinorFunction), (long long )irpStack__MinorFunction);
        __CrestLoad(74, (unsigned long )0, (long long )1);
        __CrestApply2(73, 12, (long long )(irpStack__MinorFunction == 1));
#line 119
        if (irpStack__MinorFunction == 1) {
          __CrestBranch(76, 15, 1);
#line 120
          goto switch_0_1;
        } else {
          __CrestBranch(77, 16, 0);
          {
          __CrestLoad(80, (unsigned long )(& irpStack__MinorFunction), (long long )irpStack__MinorFunction);
          __CrestLoad(79, (unsigned long )0, (long long )5);
          __CrestApply2(78, 12, (long long )(irpStack__MinorFunction == 5));
#line 122
          if (irpStack__MinorFunction == 5) {
            __CrestBranch(81, 17, 1);
#line 123
            goto switch_0_1;
          } else {
            __CrestBranch(82, 18, 0);
            {
            __CrestLoad(85, (unsigned long )(& irpStack__MinorFunction), (long long )irpStack__MinorFunction);
            __CrestLoad(84, (unsigned long )0, (long long )3);
            __CrestApply2(83, 12, (long long )(irpStack__MinorFunction == 3));
#line 125
            if (irpStack__MinorFunction == 3) {
              __CrestBranch(86, 19, 1);
#line 126
              goto switch_0_1;
            } else {
              __CrestBranch(87, 20, 0);
              {
              __CrestLoad(90, (unsigned long )(& irpStack__MinorFunction), (long long )irpStack__MinorFunction);
              __CrestLoad(89, (unsigned long )0, (long long )6);
              __CrestApply2(88, 12, (long long )(irpStack__MinorFunction == 6));
#line 128
              if (irpStack__MinorFunction == 6) {
                __CrestBranch(91, 21, 1);
#line 129
                goto switch_0_1;
              } else {
                __CrestBranch(92, 22, 0);
                {
                __CrestLoad(95, (unsigned long )(& irpStack__MinorFunction), (long long )irpStack__MinorFunction);
                __CrestLoad(94, (unsigned long )0, (long long )13);
                __CrestApply2(93, 12, (long long )(irpStack__MinorFunction == 13));
#line 131
                if (irpStack__MinorFunction == 13) {
                  __CrestBranch(96, 23, 1);
#line 132
                  goto switch_0_1;
                } else {
                  __CrestBranch(97, 24, 0);
                  {
                  __CrestLoad(100, (unsigned long )(& irpStack__MinorFunction), (long long )irpStack__MinorFunction);
                  __CrestLoad(99, (unsigned long )0, (long long )4);
                  __CrestApply2(98, 12, (long long )(irpStack__MinorFunction == 4));
#line 134
                  if (irpStack__MinorFunction == 4) {
                    __CrestBranch(101, 25, 1);
#line 135
                    goto switch_0_1;
                  } else {
                    __CrestBranch(102, 26, 0);
                    {
                    __CrestLoad(105, (unsigned long )(& irpStack__MinorFunction),
                                (long long )irpStack__MinorFunction);
                    __CrestLoad(104, (unsigned long )0, (long long )7);
                    __CrestApply2(103, 12, (long long )(irpStack__MinorFunction == 7));
#line 137
                    if (irpStack__MinorFunction == 7) {
                      __CrestBranch(106, 27, 1);
#line 138
                      goto switch_0_1;
                    } else {
                      __CrestBranch(107, 28, 0);
                      {
                      __CrestLoad(110, (unsigned long )(& irpStack__MinorFunction),
                                  (long long )irpStack__MinorFunction);
                      __CrestLoad(109, (unsigned long )0, (long long )8);
                      __CrestApply2(108, 12, (long long )(irpStack__MinorFunction == 8));
#line 140
                      if (irpStack__MinorFunction == 8) {
                        __CrestBranch(111, 29, 1);
#line 141
                        goto switch_0_1;
                      } else {
                        __CrestBranch(112, 30, 0);
                        {
                        __CrestLoad(115, (unsigned long )(& irpStack__MinorFunction),
                                    (long long )irpStack__MinorFunction);
                        __CrestLoad(114, (unsigned long )0, (long long )9);
                        __CrestApply2(113, 12, (long long )(irpStack__MinorFunction == 9));
#line 143
                        if (irpStack__MinorFunction == 9) {
                          __CrestBranch(116, 31, 1);
#line 144
                          goto switch_0_1;
                        } else {
                          __CrestBranch(117, 32, 0);
                          {
                          __CrestLoad(120, (unsigned long )(& irpStack__MinorFunction),
                                      (long long )irpStack__MinorFunction);
                          __CrestLoad(119, (unsigned long )0, (long long )12);
                          __CrestApply2(118, 12, (long long )(irpStack__MinorFunction == 12));
#line 146
                          if (irpStack__MinorFunction == 12) {
                            __CrestBranch(121, 33, 1);
#line 147
                            goto switch_0_1;
                          } else {
                            __CrestBranch(122, 34, 0);
                            {
                            __CrestLoad(125, (unsigned long )(& irpStack__MinorFunction),
                                        (long long )irpStack__MinorFunction);
                            __CrestLoad(124, (unsigned long )0, (long long )10);
                            __CrestApply2(123, 12, (long long )(irpStack__MinorFunction == 10));
#line 149
                            if (irpStack__MinorFunction == 10) {
                              __CrestBranch(126, 35, 1);
#line 150
                              goto switch_0_1;
                            } else {
                              __CrestBranch(127, 36, 0);
                              {
                              __CrestLoad(130, (unsigned long )(& irpStack__MinorFunction),
                                          (long long )irpStack__MinorFunction);
                              __CrestLoad(129, (unsigned long )0, (long long )11);
                              __CrestApply2(128, 12, (long long )(irpStack__MinorFunction == 11));
#line 152
                              if (irpStack__MinorFunction == 11) {
                                __CrestBranch(131, 37, 1);
#line 153
                                goto switch_0_1;
                              } else {
                                __CrestBranch(132, 38, 0);
                                {
                                __CrestLoad(135, (unsigned long )(& irpStack__MinorFunction),
                                            (long long )irpStack__MinorFunction);
                                __CrestLoad(134, (unsigned long )0, (long long )15);
                                __CrestApply2(133, 12, (long long )(irpStack__MinorFunction == 15));
#line 155
                                if (irpStack__MinorFunction == 15) {
                                  __CrestBranch(136, 39, 1);
#line 156
                                  goto switch_0_1;
                                } else {
                                  __CrestBranch(137, 40, 0);
                                  {
                                  __CrestLoad(140, (unsigned long )(& irpStack__MinorFunction),
                                              (long long )irpStack__MinorFunction);
                                  __CrestLoad(139, (unsigned long )0, (long long )16);
                                  __CrestApply2(138, 12, (long long )(irpStack__MinorFunction == 16));
#line 158
                                  if (irpStack__MinorFunction == 16) {
                                    __CrestBranch(141, 41, 1);
#line 159
                                    goto switch_0_1;
                                  } else {
                                    __CrestBranch(142, 42, 0);
                                    {
                                    __CrestLoad(145, (unsigned long )(& irpStack__MinorFunction),
                                                (long long )irpStack__MinorFunction);
                                    __CrestLoad(144, (unsigned long )0, (long long )17);
                                    __CrestApply2(143, 12, (long long )(irpStack__MinorFunction == 17));
#line 161
                                    if (irpStack__MinorFunction == 17) {
                                      __CrestBranch(146, 43, 1);
#line 162
                                      goto switch_0_1;
                                    } else {
                                      __CrestBranch(147, 44, 0);
                                      {
                                      __CrestLoad(150, (unsigned long )(& irpStack__MinorFunction),
                                                  (long long )irpStack__MinorFunction);
                                      __CrestLoad(149, (unsigned long )0, (long long )18);
                                      __CrestApply2(148, 12, (long long )(irpStack__MinorFunction == 18));
#line 164
                                      if (irpStack__MinorFunction == 18) {
                                        __CrestBranch(151, 45, 1);
#line 165
                                        goto switch_0_1;
                                      } else {
                                        __CrestBranch(152, 46, 0);
                                        {
                                        __CrestLoad(155, (unsigned long )(& irpStack__MinorFunction),
                                                    (long long )irpStack__MinorFunction);
                                        __CrestLoad(154, (unsigned long )0, (long long )19);
                                        __CrestApply2(153, 12, (long long )(irpStack__MinorFunction == 19));
#line 167
                                        if (irpStack__MinorFunction == 19) {
                                          __CrestBranch(156, 47, 1);
#line 168
                                          goto switch_0_1;
                                        } else {
                                          __CrestBranch(157, 48, 0);
                                          {
                                          __CrestLoad(160, (unsigned long )(& irpStack__MinorFunction),
                                                      (long long )irpStack__MinorFunction);
                                          __CrestLoad(159, (unsigned long )0, (long long )20);
                                          __CrestApply2(158, 12, (long long )(irpStack__MinorFunction == 20));
#line 170
                                          if (irpStack__MinorFunction == 20) {
                                            __CrestBranch(161, 49, 1);
#line 171
                                            goto switch_0_1;
                                          } else {
                                            __CrestBranch(162, 50, 0);
#line 173
                                            goto switch_0_1;
                                            {
                                            __CrestLoad(163, (unsigned long )0, (long long )(0 != 0));
#line 175
                                            if (0 != 0) {
                                              __CrestBranch(164, 52, 1);
                                              switch_0_0: 
                                              __CrestLoad(166, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation),
                                                          (long long )Irp__Tail__Overlay__CurrentStackLocation);
                                              __CrestStore(167, (unsigned long )(& irpSp));
#line 177
                                              irpSp = Irp__Tail__Overlay__CurrentStackLocation;
                                              __CrestLoad(170, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation),
                                                          (long long )Irp__Tail__Overlay__CurrentStackLocation);
                                              __CrestLoad(169, (unsigned long )0,
                                                          (long long )1);
                                              __CrestApply2(168, 1, (long long )(Irp__Tail__Overlay__CurrentStackLocation - 1));
                                              __CrestStore(171, (unsigned long )(& nextIrpSp));
#line 178
                                              nextIrpSp = Irp__Tail__Overlay__CurrentStackLocation - 1;
                                              __CrestLoad(172, (unsigned long )0,
                                                          (long long )0);
                                              __CrestStore(173, (unsigned long )(& nextIrpSp__Control));
#line 179
                                              nextIrpSp__Control = 0;
                                              {
                                              __CrestLoad(176, (unsigned long )(& s),
                                                          (long long )s);
                                              __CrestLoad(175, (unsigned long )(& NP),
                                                          (long long )NP);
                                              __CrestApply2(174, 13, (long long )(s != NP));
#line 180
                                              if (s != NP) {
                                                __CrestBranch(177, 54, 1);
#line 182
                                                errorFn();
                                                __CrestClearStack(179);
                                              } else {
                                                __CrestBranch(178, 55, 0);
                                                {
                                                __CrestLoad(182, (unsigned long )(& compRegistered),
                                                            (long long )compRegistered);
                                                __CrestLoad(181, (unsigned long )0,
                                                            (long long )0);
                                                __CrestApply2(180, 13, (long long )(compRegistered != 0));
#line 185
                                                if (compRegistered != 0) {
                                                  __CrestBranch(183, 56, 1);
#line 187
                                                  errorFn();
                                                  __CrestClearStack(185);
                                                } else {
                                                  __CrestBranch(184, 57, 0);
                                                  __CrestLoad(186, (unsigned long )0,
                                                              (long long )1);
                                                  __CrestStore(187, (unsigned long )(& compRegistered));
#line 190
                                                  compRegistered = 1;
                                                }
                                                }
                                              }
                                              }
                                              __CrestLoad(190, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation),
                                                          (long long )Irp__Tail__Overlay__CurrentStackLocation);
                                              __CrestLoad(189, (unsigned long )0,
                                                          (long long )1);
                                              __CrestApply2(188, 1, (long long )(Irp__Tail__Overlay__CurrentStackLocation - 1));
                                              __CrestStore(191, (unsigned long )(& irpSp___0));
#line 194
                                              irpSp___0 = Irp__Tail__Overlay__CurrentStackLocation - 1;
                                              __CrestLoad(192, (unsigned long )(& event),
                                                          (long long )event);
                                              __CrestStore(193, (unsigned long )(& irpSp__Context));
#line 195
                                              irpSp__Context = event;
                                              __CrestLoad(194, (unsigned long )0,
                                                          (long long )224);
                                              __CrestStore(195, (unsigned long )(& irpSp__Control));
#line 196
                                              irpSp__Control = 224;
                                              __CrestLoad(196, (unsigned long )(& devExt__TopOfStack),
                                                          (long long )devExt__TopOfStack);
                                              __CrestLoad(197, (unsigned long )(& Irp),
                                                          (long long )Irp);
#line 200
                                              status = IofCallDriver(devExt__TopOfStack,
                                                                     Irp);
                                              __CrestHandleReturn(199, (long long )status);
                                              __CrestStore(198, (unsigned long )(& status));
                                              __CrestLoad(200, (unsigned long )(& status),
                                                          (long long )status);
                                              __CrestStore(201, (unsigned long )(& __cil_tmp23));
#line 203
                                              __cil_tmp23 = (long )status;
                                              {
                                              __CrestLoad(204, (unsigned long )(& __cil_tmp23),
                                                          (long long )__cil_tmp23);
                                              __CrestLoad(203, (unsigned long )0,
                                                          (long long )259L);
                                              __CrestApply2(202, 12, (long long )(__cil_tmp23 == 259L));
#line 203
                                              if (__cil_tmp23 == 259L) {
                                                __CrestBranch(205, 60, 1);
                                                __CrestLoad(207, (unsigned long )(& event),
                                                            (long long )event);
                                                __CrestLoad(208, (unsigned long )(& Executive),
                                                            (long long )Executive);
                                                __CrestLoad(209, (unsigned long )(& KernelMode),
                                                            (long long )KernelMode);
                                                __CrestLoad(210, (unsigned long )0,
                                                            (long long )0);
                                                __CrestLoad(211, (unsigned long )0,
                                                            (long long )0);
#line 205
                                                KeWaitForSingleObject(event, Executive,
                                                                      KernelMode,
                                                                      0, 0);
                                                __CrestClearStack(212);
                                              } else {
                                                __CrestBranch(206, 61, 0);

                                              }
                                              }
                                              {
                                              __CrestLoad(215, (unsigned long )(& status),
                                                          (long long )status);
                                              __CrestLoad(214, (unsigned long )0,
                                                          (long long )0);
                                              __CrestApply2(213, 17, (long long )(status >= 0));
#line 212
                                              if (status >= 0) {
                                                __CrestBranch(216, 63, 1);
                                                {
                                                __CrestLoad(220, (unsigned long )(& myStatus),
                                                            (long long )myStatus);
                                                __CrestLoad(219, (unsigned long )0,
                                                            (long long )0);
                                                __CrestApply2(218, 17, (long long )(myStatus >= 0));
#line 213
                                                if (myStatus >= 0) {
                                                  __CrestBranch(221, 64, 1);
                                                  __CrestLoad(223, (unsigned long )0,
                                                              (long long )1);
                                                  __CrestStore(224, (unsigned long )(& devExt__Started));
#line 214
                                                  devExt__Started = 1;
                                                  __CrestLoad(225, (unsigned long )0,
                                                              (long long )0);
                                                  __CrestStore(226, (unsigned long )(& devExt__Removed));
#line 215
                                                  devExt__Removed = 0;
                                                  __CrestLoad(227, (unsigned long )0,
                                                              (long long )0);
                                                  __CrestStore(228, (unsigned long )(& devExt__SurpriseRemoved));
#line 216
                                                  devExt__SurpriseRemoved = 0;
                                                } else {
                                                  __CrestBranch(222, 65, 0);

                                                }
                                                }
                                              } else {
                                                __CrestBranch(217, 66, 0);

                                              }
                                              }
                                              __CrestLoad(229, (unsigned long )(& status),
                                                          (long long )status);
                                              __CrestStore(230, (unsigned long )(& Irp__IoStatus__Status));
#line 224
                                              Irp__IoStatus__Status = status;
                                              __CrestLoad(231, (unsigned long )(& status),
                                                          (long long )status);
                                              __CrestStore(232, (unsigned long )(& myStatus));
#line 225
                                              myStatus = status;
                                              __CrestLoad(233, (unsigned long )0,
                                                          (long long )0);
                                              __CrestStore(234, (unsigned long )(& Irp__IoStatus__Information));
#line 226
                                              Irp__IoStatus__Information = 0;
                                              __CrestLoad(235, (unsigned long )(& Irp),
                                                          (long long )Irp);
                                              __CrestLoad(236, (unsigned long )0,
                                                          (long long )0);
#line 227
                                              IofCompleteRequest(Irp, 0);
                                              __CrestClearStack(237);
#line 229
                                              goto switch_0_break;
                                              switch_0_23: 
                                              __CrestLoad(238, (unsigned long )0,
                                                          (long long )1);
                                              __CrestStore(239, (unsigned long )(& devExt__SurpriseRemoved));
#line 231
                                              devExt__SurpriseRemoved = 1;
                                              {
                                              __CrestLoad(242, (unsigned long )(& s),
                                                          (long long )s);
                                              __CrestLoad(241, (unsigned long )(& NP),
                                                          (long long )NP);
                                              __CrestApply2(240, 12, (long long )(s == NP));
#line 232
                                              if (s == NP) {
                                                __CrestBranch(243, 71, 1);
                                                __CrestLoad(245, (unsigned long )(& SKIP1),
                                                            (long long )SKIP1);
                                                __CrestStore(246, (unsigned long )(& s));
#line 233
                                                s = SKIP1;
                                              } else {
                                                __CrestBranch(244, 72, 0);
#line 236
                                                errorFn();
                                                __CrestClearStack(247);
                                              }
                                              }
                                              __CrestLoad(250, (unsigned long )(& Irp__CurrentLocation),
                                                          (long long )Irp__CurrentLocation);
                                              __CrestLoad(249, (unsigned long )0,
                                                          (long long )1);
                                              __CrestApply2(248, 0, (long long )(Irp__CurrentLocation + 1));
                                              __CrestStore(251, (unsigned long )(& Irp__CurrentLocation));
#line 240
                                              Irp__CurrentLocation ++;
                                              __CrestLoad(254, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation),
                                                          (long long )Irp__Tail__Overlay__CurrentStackLocation);
                                              __CrestLoad(253, (unsigned long )0,
                                                          (long long )1);
                                              __CrestApply2(252, 0, (long long )(Irp__Tail__Overlay__CurrentStackLocation + 1));
                                              __CrestStore(255, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation));
#line 241
                                              Irp__Tail__Overlay__CurrentStackLocation ++;
                                              __CrestLoad(256, (unsigned long )(& devExt__TopOfStack),
                                                          (long long )devExt__TopOfStack);
                                              __CrestLoad(257, (unsigned long )(& Irp),
                                                          (long long )Irp);
#line 242
                                              status = IofCallDriver(devExt__TopOfStack,
                                                                     Irp);
                                              __CrestHandleReturn(259, (long long )status);
                                              __CrestStore(258, (unsigned long )(& status));
#line 245
                                              goto switch_0_break;
                                              switch_0_2: 
                                              __CrestLoad(260, (unsigned long )0,
                                                          (long long )1);
                                              __CrestStore(261, (unsigned long )(& devExt__Removed));
#line 247
                                              devExt__Removed = 1;
                                              {
                                              __CrestLoad(264, (unsigned long )(& s),
                                                          (long long )s);
                                              __CrestLoad(263, (unsigned long )(& NP),
                                                          (long long )NP);
                                              __CrestApply2(262, 12, (long long )(s == NP));
#line 248
                                              if (s == NP) {
                                                __CrestBranch(265, 77, 1);
                                                __CrestLoad(267, (unsigned long )(& SKIP1),
                                                            (long long )SKIP1);
                                                __CrestStore(268, (unsigned long )(& s));
#line 249
                                                s = SKIP1;
                                              } else {
                                                __CrestBranch(266, 78, 0);
#line 252
                                                errorFn();
                                                __CrestClearStack(269);
                                              }
                                              }
                                              __CrestLoad(272, (unsigned long )(& Irp__CurrentLocation),
                                                          (long long )Irp__CurrentLocation);
                                              __CrestLoad(271, (unsigned long )0,
                                                          (long long )1);
                                              __CrestApply2(270, 0, (long long )(Irp__CurrentLocation + 1));
                                              __CrestStore(273, (unsigned long )(& Irp__CurrentLocation));
#line 256
                                              Irp__CurrentLocation ++;
                                              __CrestLoad(276, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation),
                                                          (long long )Irp__Tail__Overlay__CurrentStackLocation);
                                              __CrestLoad(275, (unsigned long )0,
                                                          (long long )1);
                                              __CrestApply2(274, 0, (long long )(Irp__Tail__Overlay__CurrentStackLocation + 1));
                                              __CrestStore(277, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation));
#line 257
                                              Irp__Tail__Overlay__CurrentStackLocation ++;
                                              __CrestLoad(278, (unsigned long )(& devExt__TopOfStack),
                                                          (long long )devExt__TopOfStack);
                                              __CrestLoad(279, (unsigned long )(& Irp),
                                                          (long long )Irp);
#line 258
                                              IofCallDriver(devExt__TopOfStack, Irp);
                                              __CrestClearStack(280);
                                              __CrestLoad(281, (unsigned long )0,
                                                          (long long )0);
                                              __CrestStore(282, (unsigned long )(& status));
#line 259
                                              status = 0;
#line 261
                                              goto switch_0_break;
                                              switch_0_1: ;
                                              {
                                              __CrestLoad(285, (unsigned long )(& s),
                                                          (long long )s);
                                              __CrestLoad(284, (unsigned long )(& NP),
                                                          (long long )NP);
                                              __CrestApply2(283, 12, (long long )(s == NP));
#line 281
                                              if (s == NP) {
                                                __CrestBranch(286, 83, 1);
                                                __CrestLoad(288, (unsigned long )(& SKIP1),
                                                            (long long )SKIP1);
                                                __CrestStore(289, (unsigned long )(& s));
#line 282
                                                s = SKIP1;
                                              } else {
                                                __CrestBranch(287, 84, 0);
#line 285
                                                errorFn();
                                                __CrestClearStack(290);
                                              }
                                              }
                                              __CrestLoad(293, (unsigned long )(& Irp__CurrentLocation),
                                                          (long long )Irp__CurrentLocation);
                                              __CrestLoad(292, (unsigned long )0,
                                                          (long long )1);
                                              __CrestApply2(291, 0, (long long )(Irp__CurrentLocation + 1));
                                              __CrestStore(294, (unsigned long )(& Irp__CurrentLocation));
#line 289
                                              Irp__CurrentLocation ++;
                                              __CrestLoad(297, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation),
                                                          (long long )Irp__Tail__Overlay__CurrentStackLocation);
                                              __CrestLoad(296, (unsigned long )0,
                                                          (long long )1);
                                              __CrestApply2(295, 0, (long long )(Irp__Tail__Overlay__CurrentStackLocation + 1));
                                              __CrestStore(298, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation));
#line 290
                                              Irp__Tail__Overlay__CurrentStackLocation ++;
                                              __CrestLoad(299, (unsigned long )(& devExt__TopOfStack),
                                                          (long long )devExt__TopOfStack);
                                              __CrestLoad(300, (unsigned long )(& Irp),
                                                          (long long )Irp);
#line 291
                                              status = IofCallDriver(devExt__TopOfStack,
                                                                     Irp);
                                              __CrestHandleReturn(302, (long long )status);
                                              __CrestStore(301, (unsigned long )(& status));
#line 294
                                              goto switch_0_break;
                                            } else {
                                              __CrestBranch(165, 87, 0);
                                              switch_0_break: ;
                                            }
                                            }
                                          }
                                          }
                                        }
                                        }
                                      }
                                      }
                                    }
                                    }
                                  }
                                  }
                                }
                                }
                              }
                              }
                            }
                            }
                          }
                          }
                        }
                        }
                      }
                      }
                    }
                    }
                  }
                  }
                }
                }
              }
              }
            }
            }
          }
          }
        }
        }
      }
      }
    }
    }
  }
  }
  {
  __CrestLoad(303, (unsigned long )(& status), (long long )status);
  __CrestReturn(304);
#line 320
  return (status);
  }
}
}
#line 381
int KbFilter_CreateClose(int DeviceObject , int Irp ) ;
#line 396
int KbFilter_Power(int DeviceObject , int Irp ) ;
#line 401
int KbFilter_InternIoCtl(int DeviceObject , int Irp ) ;
#line 323 "kbfiltr_simpl2.cil.c"
int main(void) 
{ 
  int status ;
  int irp ;
  int pirp ;
  int pirp__IoStatus__Status ;
  int irp_choice ;
  int devobj ;
  int tmp_ndt_1 ;
  int tmp_ndt_2 ;
  int tmp_ndt_3 ;
  int tmp_ndt_4 ;
  int tmp_ndt_5 ;
  int __retres13 ;

  {
  __globinit_kbfiltr();
  __CrestCall(305, 4);
#line 325
  __CrestInt(& irp);
#line 328
  __CrestInt(& irp_choice);
#line 329
  __CrestInt(& devobj);
  __CrestLoad(306, (unsigned long )0, (long long )0);
  __CrestStore(307, (unsigned long )(& KernelMode));
#line 332
  KernelMode = 0;
  __CrestLoad(308, (unsigned long )0, (long long )0);
  __CrestStore(309, (unsigned long )(& Executive));
#line 333
  Executive = 0;
  __CrestLoad(310, (unsigned long )0, (long long )1);
  __CrestStore(311, (unsigned long )(& DevicePowerState));
#line 334
  DevicePowerState = 1;
  __CrestLoad(312, (unsigned long )0, (long long )0);
  __CrestStore(313, (unsigned long )(& s));
#line 335
  s = 0;
  __CrestLoad(314, (unsigned long )0, (long long )0);
  __CrestStore(315, (unsigned long )(& UNLOADED));
#line 336
  UNLOADED = 0;
  __CrestLoad(316, (unsigned long )0, (long long )0);
  __CrestStore(317, (unsigned long )(& NP));
#line 337
  NP = 0;
  __CrestLoad(318, (unsigned long )0, (long long )0);
  __CrestStore(319, (unsigned long )(& DC));
#line 338
  DC = 0;
  __CrestLoad(320, (unsigned long )0, (long long )0);
  __CrestStore(321, (unsigned long )(& SKIP1));
#line 339
  SKIP1 = 0;
  __CrestLoad(322, (unsigned long )0, (long long )0);
  __CrestStore(323, (unsigned long )(& SKIP2));
#line 340
  SKIP2 = 0;
  __CrestLoad(324, (unsigned long )0, (long long )0);
  __CrestStore(325, (unsigned long )(& MPR1));
#line 341
  MPR1 = 0;
  __CrestLoad(326, (unsigned long )0, (long long )0);
  __CrestStore(327, (unsigned long )(& MPR3));
#line 342
  MPR3 = 0;
  __CrestLoad(328, (unsigned long )0, (long long )0);
  __CrestStore(329, (unsigned long )(& IPC));
#line 343
  IPC = 0;
  __CrestLoad(330, (unsigned long )0, (long long )0);
  __CrestStore(331, (unsigned long )(& pended));
#line 344
  pended = 0;
  __CrestLoad(332, (unsigned long )0, (long long )0);
  __CrestStore(333, (unsigned long )(& compFptr));
#line 345
  compFptr = 0;
  __CrestLoad(334, (unsigned long )0, (long long )0);
  __CrestStore(335, (unsigned long )(& compRegistered));
#line 346
  compRegistered = 0;
  __CrestLoad(336, (unsigned long )0, (long long )0);
  __CrestStore(337, (unsigned long )(& lowerDriverReturn));
#line 347
  lowerDriverReturn = 0;
  __CrestLoad(338, (unsigned long )0, (long long )0);
  __CrestStore(339, (unsigned long )(& setEventCalled));
#line 348
  setEventCalled = 0;
  __CrestLoad(340, (unsigned long )0, (long long )0);
  __CrestStore(341, (unsigned long )(& customIrp));
#line 349
  customIrp = 0;
  __CrestLoad(342, (unsigned long )0, (long long )0);
  __CrestStore(343, (unsigned long )(& myStatus));
#line 350
  myStatus = 0;
  __CrestLoad(344, (unsigned long )0, (long long )0);
  __CrestStore(345, (unsigned long )(& status));
#line 334
  status = 0;
  __CrestLoad(346, (unsigned long )(& irp), (long long )irp);
  __CrestStore(347, (unsigned long )(& pirp));
#line 335
  pirp = irp;
#line 336
  _BLAST_init();
  __CrestClearStack(348);
  __CrestLoad(351, (unsigned long )(& status), (long long )status);
  __CrestLoad(350, (unsigned long )0, (long long )0);
  __CrestApply2(349, 17, (long long )(status >= 0));
#line 338
  if (status >= 0) {
    __CrestBranch(352, 91, 1);
    __CrestLoad(354, (unsigned long )(& NP), (long long )NP);
    __CrestStore(355, (unsigned long )(& s));
#line 339
    s = NP;
    __CrestLoad(356, (unsigned long )0, (long long )0);
    __CrestStore(357, (unsigned long )(& customIrp));
#line 340
    customIrp = 0;
    __CrestLoad(358, (unsigned long )(& customIrp), (long long )customIrp);
    __CrestStore(359, (unsigned long )(& setEventCalled));
#line 341
    setEventCalled = customIrp;
    __CrestLoad(360, (unsigned long )(& setEventCalled), (long long )setEventCalled);
    __CrestStore(361, (unsigned long )(& lowerDriverReturn));
#line 342
    lowerDriverReturn = setEventCalled;
    __CrestLoad(362, (unsigned long )(& lowerDriverReturn), (long long )lowerDriverReturn);
    __CrestStore(363, (unsigned long )(& compRegistered));
#line 343
    compRegistered = lowerDriverReturn;
    __CrestLoad(364, (unsigned long )(& compRegistered), (long long )compRegistered);
    __CrestStore(365, (unsigned long )(& pended));
#line 344
    pended = compRegistered;
    __CrestLoad(366, (unsigned long )0, (long long )0);
    __CrestStore(367, (unsigned long )(& pirp__IoStatus__Status));
#line 345
    pirp__IoStatus__Status = 0;
    __CrestLoad(368, (unsigned long )0, (long long )0);
    __CrestStore(369, (unsigned long )(& myStatus));
#line 346
    myStatus = 0;
    {
    __CrestLoad(372, (unsigned long )(& irp_choice), (long long )irp_choice);
    __CrestLoad(371, (unsigned long )0, (long long )0);
    __CrestApply2(370, 12, (long long )(irp_choice == 0));
#line 347
    if (irp_choice == 0) {
      __CrestBranch(373, 93, 1);
      __CrestLoad(375, (unsigned long )0, (long long )-1073741637);
      __CrestStore(376, (unsigned long )(& pirp__IoStatus__Status));
#line 348
      pirp__IoStatus__Status = -1073741637;
      __CrestLoad(377, (unsigned long )0, (long long )-1073741637);
      __CrestStore(378, (unsigned long )(& myStatus));
#line 349
      myStatus = -1073741637;
    } else {
      __CrestBranch(374, 94, 0);

    }
    }
#line 354
    stub_driver_init();
    __CrestClearStack(379);
    {
    __CrestLoad(382, (unsigned long )(& status), (long long )status);
    __CrestLoad(381, (unsigned long )0, (long long )0);
    __CrestApply2(380, 16, (long long )(status < 0));
#line 356
    if (status < 0) {
      __CrestBranch(383, 97, 1);
      __CrestLoad(385, (unsigned long )0, (long long )-1);
      __CrestStore(386, (unsigned long )(& __retres13));
#line 357
      __retres13 = -1;
#line 357
      goto return_label;
    } else {
      __CrestBranch(384, 99, 0);

    }
    }
#line 362
    __CrestInt(& tmp_ndt_1);
    {
    __CrestLoad(389, (unsigned long )(& tmp_ndt_1), (long long )tmp_ndt_1);
    __CrestLoad(388, (unsigned long )0, (long long )0);
    __CrestApply2(387, 12, (long long )(tmp_ndt_1 == 0));
#line 363
    if (tmp_ndt_1 == 0) {
      __CrestBranch(390, 102, 1);
#line 364
      goto switch_1_0;
    } else {
      __CrestBranch(391, 103, 0);
#line 365
      __CrestInt(& tmp_ndt_2);
      {
      __CrestLoad(394, (unsigned long )(& tmp_ndt_2), (long long )tmp_ndt_2);
      __CrestLoad(393, (unsigned long )0, (long long )1);
      __CrestApply2(392, 12, (long long )(tmp_ndt_2 == 1));
#line 366
      if (tmp_ndt_2 == 1) {
        __CrestBranch(395, 105, 1);
#line 367
        goto switch_1_1;
      } else {
        __CrestBranch(396, 106, 0);
#line 368
        __CrestInt(& tmp_ndt_3);
        {
        __CrestLoad(399, (unsigned long )(& tmp_ndt_3), (long long )tmp_ndt_3);
        __CrestLoad(398, (unsigned long )0, (long long )3);
        __CrestApply2(397, 12, (long long )(tmp_ndt_3 == 3));
#line 369
        if (tmp_ndt_3 == 3) {
          __CrestBranch(400, 108, 1);
#line 370
          goto switch_1_3;
        } else {
          __CrestBranch(401, 109, 0);
#line 371
          __CrestInt(& tmp_ndt_4);
          {
          __CrestLoad(404, (unsigned long )(& tmp_ndt_4), (long long )tmp_ndt_4);
          __CrestLoad(403, (unsigned long )0, (long long )4);
          __CrestApply2(402, 12, (long long )(tmp_ndt_4 == 4));
#line 372
          if (tmp_ndt_4 == 4) {
            __CrestBranch(405, 111, 1);
#line 373
            goto switch_1_4;
          } else {
            __CrestBranch(406, 112, 0);
#line 374
            __CrestInt(& tmp_ndt_5);
            {
            __CrestLoad(409, (unsigned long )(& tmp_ndt_5), (long long )tmp_ndt_5);
            __CrestLoad(408, (unsigned long )0, (long long )8);
            __CrestApply2(407, 12, (long long )(tmp_ndt_5 == 8));
#line 375
            if (tmp_ndt_5 == 8) {
              __CrestBranch(410, 114, 1);
#line 376
              goto switch_1_8;
            } else {
              __CrestBranch(411, 115, 0);
#line 378
              goto switch_1_default;
              {
              __CrestLoad(412, (unsigned long )0, (long long )(0 != 0));
#line 378
              if (0 != 0) {
                __CrestBranch(413, 117, 1);
                switch_1_0: 
                __CrestLoad(415, (unsigned long )(& devobj), (long long )devobj);
                __CrestLoad(416, (unsigned long )(& pirp), (long long )pirp);
#line 381
                status = KbFilter_CreateClose(devobj, pirp);
                __CrestHandleReturn(418, (long long )status);
                __CrestStore(417, (unsigned long )(& status));
#line 383
                goto switch_1_break;
                switch_1_1: 
                __CrestLoad(419, (unsigned long )(& devobj), (long long )devobj);
                __CrestLoad(420, (unsigned long )(& pirp), (long long )pirp);
#line 386
                status = KbFilter_CreateClose(devobj, pirp);
                __CrestHandleReturn(422, (long long )status);
                __CrestStore(421, (unsigned long )(& status));
#line 388
                goto switch_1_break;
                switch_1_3: 
                __CrestLoad(423, (unsigned long )(& devobj), (long long )devobj);
                __CrestLoad(424, (unsigned long )(& pirp), (long long )pirp);
#line 391
                status = KbFilter_PnP(devobj, pirp);
                __CrestHandleReturn(426, (long long )status);
                __CrestStore(425, (unsigned long )(& status));
#line 393
                goto switch_1_break;
                switch_1_4: 
                __CrestLoad(427, (unsigned long )(& devobj), (long long )devobj);
                __CrestLoad(428, (unsigned long )(& pirp), (long long )pirp);
#line 396
                status = KbFilter_Power(devobj, pirp);
                __CrestHandleReturn(430, (long long )status);
                __CrestStore(429, (unsigned long )(& status));
#line 398
                goto switch_1_break;
                switch_1_8: 
                __CrestLoad(431, (unsigned long )(& devobj), (long long )devobj);
                __CrestLoad(432, (unsigned long )(& pirp), (long long )pirp);
#line 401
                status = KbFilter_InternIoCtl(devobj, pirp);
                __CrestHandleReturn(434, (long long )status);
                __CrestStore(433, (unsigned long )(& status));
#line 403
                goto switch_1_break;
                switch_1_default: ;
                __CrestLoad(435, (unsigned long )0, (long long )-1);
                __CrestStore(436, (unsigned long )(& __retres13));
#line 405
                __retres13 = -1;
#line 405
                goto return_label;
              } else {
                __CrestBranch(414, 130, 0);
                switch_1_break: ;
              }
              }
            }
            }
          }
          }
        }
        }
      }
      }
    }
    }
  } else {
    __CrestBranch(353, 131, 0);

  }
  __CrestLoad(439, (unsigned long )(& pended), (long long )pended);
  __CrestLoad(438, (unsigned long )0, (long long )1);
  __CrestApply2(437, 12, (long long )(pended == 1));
#line 418
  if (pended == 1) {
    __CrestBranch(440, 133, 1);
    {
    __CrestLoad(444, (unsigned long )(& s), (long long )s);
    __CrestLoad(443, (unsigned long )(& NP), (long long )NP);
    __CrestApply2(442, 12, (long long )(s == NP));
#line 419
    if (s == NP) {
      __CrestBranch(445, 134, 1);
      __CrestLoad(447, (unsigned long )(& NP), (long long )NP);
      __CrestStore(448, (unsigned long )(& s));
#line 420
      s = NP;
    } else {
      __CrestBranch(446, 135, 0);
#line 422
      goto _L___2;
    }
    }
  } else {
    __CrestBranch(441, 136, 0);
    _L___2: 
    {
    __CrestLoad(451, (unsigned long )(& pended), (long long )pended);
    __CrestLoad(450, (unsigned long )0, (long long )1);
    __CrestApply2(449, 12, (long long )(pended == 1));
#line 426
    if (pended == 1) {
      __CrestBranch(452, 137, 1);
      {
      __CrestLoad(456, (unsigned long )(& s), (long long )s);
      __CrestLoad(455, (unsigned long )(& MPR3), (long long )MPR3);
      __CrestApply2(454, 12, (long long )(s == MPR3));
#line 427
      if (s == MPR3) {
        __CrestBranch(457, 138, 1);
        __CrestLoad(459, (unsigned long )(& MPR3), (long long )MPR3);
        __CrestStore(460, (unsigned long )(& s));
#line 428
        s = MPR3;
      } else {
        __CrestBranch(458, 139, 0);
#line 430
        goto _L___1;
      }
      }
    } else {
      __CrestBranch(453, 140, 0);
      _L___1: 
      {
      __CrestLoad(463, (unsigned long )(& s), (long long )s);
      __CrestLoad(462, (unsigned long )(& UNLOADED), (long long )UNLOADED);
      __CrestApply2(461, 13, (long long )(s != UNLOADED));
#line 434
      if (s != UNLOADED) {
        __CrestBranch(464, 141, 1);
        {
        __CrestLoad(468, (unsigned long )(& status), (long long )status);
        __CrestLoad(467, (unsigned long )0, (long long )-1);
        __CrestApply2(466, 13, (long long )(status != -1));
#line 437
        if (status != -1) {
          __CrestBranch(469, 142, 1);
          {
          __CrestLoad(473, (unsigned long )(& s), (long long )s);
          __CrestLoad(472, (unsigned long )(& SKIP2), (long long )SKIP2);
          __CrestApply2(471, 13, (long long )(s != SKIP2));
#line 440
          if (s != SKIP2) {
            __CrestBranch(474, 143, 1);
            {
            __CrestLoad(478, (unsigned long )(& s), (long long )s);
            __CrestLoad(477, (unsigned long )(& IPC), (long long )IPC);
            __CrestApply2(476, 13, (long long )(s != IPC));
#line 441
            if (s != IPC) {
              __CrestBranch(479, 144, 1);
              {
              __CrestLoad(483, (unsigned long )(& s), (long long )s);
              __CrestLoad(482, (unsigned long )(& DC), (long long )DC);
              __CrestApply2(481, 12, (long long )(s == DC));
#line 442
              if (s == DC) {
                __CrestBranch(484, 145, 1);
#line 443
                goto _L___0;
              } else {
                __CrestBranch(485, 146, 0);

              }
              }
            } else {
              __CrestBranch(480, 147, 0);
#line 446
              goto _L___0;
            }
            }
          } else {
            __CrestBranch(475, 148, 0);
            _L___0: 
            {
            __CrestLoad(488, (unsigned long )(& pended), (long long )pended);
            __CrestLoad(487, (unsigned long )0, (long long )1);
            __CrestApply2(486, 12, (long long )(pended == 1));
#line 452
            if (pended == 1) {
              __CrestBranch(489, 149, 1);
              {
              __CrestLoad(493, (unsigned long )(& status), (long long )status);
              __CrestLoad(492, (unsigned long )0, (long long )259);
              __CrestApply2(491, 13, (long long )(status != 259));
#line 453
              if (status != 259) {
                __CrestBranch(494, 150, 1);
#line 455
                errorFn();
                __CrestClearStack(496);
              } else {
                __CrestBranch(495, 151, 0);

              }
              }
            } else {
              __CrestBranch(490, 152, 0);

            }
            }
          }
          }
        } else {
          __CrestBranch(470, 153, 0);

        }
        }
      } else {
        __CrestBranch(465, 154, 0);

      }
      }
    }
    }
  }
  __CrestLoad(497, (unsigned long )(& status), (long long )status);
  __CrestStore(498, (unsigned long )(& __retres13));
#line 480
  __retres13 = status;
  return_label: /* CIL Label */ 
  {
  __CrestLoad(499, (unsigned long )(& __retres13), (long long )__retres13);
  __CrestReturn(500);
#line 323
  return (__retres13);
  }
}
}
#line 483 "kbfiltr_simpl2.cil.c"
void stubMoreProcessingRequired(void) 
{ 


  {
  __CrestCall(501, 5);

  {
  __CrestLoad(504, (unsigned long )(& s), (long long )s);
  __CrestLoad(503, (unsigned long )(& NP), (long long )NP);
  __CrestApply2(502, 12, (long long )(s == NP));
#line 487
  if (s == NP) {
    __CrestBranch(505, 158, 1);
    __CrestLoad(507, (unsigned long )(& MPR1), (long long )MPR1);
    __CrestStore(508, (unsigned long )(& s));
#line 488
    s = MPR1;
  } else {
    __CrestBranch(506, 159, 0);
#line 491
    errorFn();
    __CrestClearStack(509);
  }
  }

  {
  __CrestReturn(510);
#line 483
  return;
  }
}
}
#line 506
int KbFilter_Complete(int DeviceObject , int Irp , int Context ) ;
#line 497 "kbfiltr_simpl2.cil.c"
int IofCallDriver(int DeviceObject , int Irp ) 
{ 
  int returnVal2 ;
  int compRetStatus ;
  int lcontext ;
  long long __cil_tmp7 ;
  int tmp_ndt_6 ;
  int tmp_ndt_7 ;

  {
  __CrestCall(513, 6);
  __CrestStore(512, (unsigned long )(& Irp));
  __CrestStore(511, (unsigned long )(& DeviceObject));
#line 501
  __CrestInt(& lcontext);
  {
  __CrestLoad(516, (unsigned long )(& compRegistered), (long long )compRegistered);
  __CrestLoad(515, (unsigned long )0, (long long )0);
  __CrestApply2(514, 13, (long long )(compRegistered != 0));
#line 504
  if (compRegistered != 0) {
    __CrestBranch(517, 164, 1);
    __CrestLoad(519, (unsigned long )(& DeviceObject), (long long )DeviceObject);
    __CrestLoad(520, (unsigned long )(& Irp), (long long )Irp);
    __CrestLoad(521, (unsigned long )(& lcontext), (long long )lcontext);
#line 506
    compRetStatus = KbFilter_Complete(DeviceObject, Irp, lcontext);
    __CrestHandleReturn(523, (long long )compRetStatus);
    __CrestStore(522, (unsigned long )(& compRetStatus));
    __CrestLoad(524, (unsigned long )(& compRetStatus), (long long )compRetStatus);
    __CrestStore(525, (unsigned long )(& __cil_tmp7));
#line 508
    __cil_tmp7 = (long long )compRetStatus;
    {
    __CrestLoad(528, (unsigned long )(& __cil_tmp7), (long long )__cil_tmp7);
    __CrestLoad(527, (unsigned long )0, (long long )-1073741802LL);
    __CrestApply2(526, 12, (long long )(__cil_tmp7 == -1073741802LL));
#line 508
    if (__cil_tmp7 == -1073741802LL) {
      __CrestBranch(529, 166, 1);
#line 510
      stubMoreProcessingRequired();
      __CrestClearStack(531);
    } else {
      __CrestBranch(530, 167, 0);

    }
    }
  } else {
    __CrestBranch(518, 168, 0);

  }
  }
#line 519
  __CrestInt(& tmp_ndt_6);
  {
  __CrestLoad(534, (unsigned long )(& tmp_ndt_6), (long long )tmp_ndt_6);
  __CrestLoad(533, (unsigned long )0, (long long )0);
  __CrestApply2(532, 12, (long long )(tmp_ndt_6 == 0));
#line 520
  if (tmp_ndt_6 == 0) {
    __CrestBranch(535, 171, 1);
#line 521
    goto switch_2_0;
  } else {
    __CrestBranch(536, 172, 0);
#line 522
    __CrestInt(& tmp_ndt_7);
    {
    __CrestLoad(539, (unsigned long )(& tmp_ndt_7), (long long )tmp_ndt_7);
    __CrestLoad(538, (unsigned long )0, (long long )1);
    __CrestApply2(537, 12, (long long )(tmp_ndt_7 == 1));
#line 523
    if (tmp_ndt_7 == 1) {
      __CrestBranch(540, 174, 1);
#line 524
      goto switch_2_1;
    } else {
      __CrestBranch(541, 175, 0);
#line 526
      goto switch_2_default;
      {
      __CrestLoad(542, (unsigned long )0, (long long )(0 != 0));
#line 526
      if (0 != 0) {
        __CrestBranch(543, 177, 1);
        switch_2_0: 
        __CrestLoad(545, (unsigned long )0, (long long )0);
        __CrestStore(546, (unsigned long )(& returnVal2));
#line 528
        returnVal2 = 0;
#line 529
        goto switch_2_break;
        switch_2_1: 
        __CrestLoad(547, (unsigned long )0, (long long )-1073741823);
        __CrestStore(548, (unsigned long )(& returnVal2));
#line 531
        returnVal2 = -1073741823;
#line 532
        goto switch_2_break;
        switch_2_default: 
        __CrestLoad(549, (unsigned long )0, (long long )259);
        __CrestStore(550, (unsigned long )(& returnVal2));
#line 534
        returnVal2 = 259;
#line 535
        goto switch_2_break;
      } else {
        __CrestBranch(544, 183, 0);
        switch_2_break: ;
      }
      }
    }
    }
  }
  }
  {
  __CrestLoad(553, (unsigned long )(& s), (long long )s);
  __CrestLoad(552, (unsigned long )(& NP), (long long )NP);
  __CrestApply2(551, 12, (long long )(s == NP));
#line 542
  if (s == NP) {
    __CrestBranch(554, 185, 1);
    __CrestLoad(556, (unsigned long )(& IPC), (long long )IPC);
    __CrestStore(557, (unsigned long )(& s));
#line 543
    s = IPC;
    __CrestLoad(558, (unsigned long )(& returnVal2), (long long )returnVal2);
    __CrestStore(559, (unsigned long )(& lowerDriverReturn));
#line 544
    lowerDriverReturn = returnVal2;
  } else {
    __CrestBranch(555, 186, 0);
    {
    __CrestLoad(562, (unsigned long )(& s), (long long )s);
    __CrestLoad(561, (unsigned long )(& MPR1), (long long )MPR1);
    __CrestApply2(560, 12, (long long )(s == MPR1));
#line 546
    if (s == MPR1) {
      __CrestBranch(563, 187, 1);
      {
      __CrestLoad(567, (unsigned long )(& returnVal2), (long long )returnVal2);
      __CrestLoad(566, (unsigned long )0, (long long )259);
      __CrestApply2(565, 12, (long long )(returnVal2 == 259));
#line 547
      if (returnVal2 == 259) {
        __CrestBranch(568, 188, 1);
        __CrestLoad(570, (unsigned long )(& MPR3), (long long )MPR3);
        __CrestStore(571, (unsigned long )(& s));
#line 548
        s = MPR3;
        __CrestLoad(572, (unsigned long )(& returnVal2), (long long )returnVal2);
        __CrestStore(573, (unsigned long )(& lowerDriverReturn));
#line 549
        lowerDriverReturn = returnVal2;
      } else {
        __CrestBranch(569, 189, 0);
        __CrestLoad(574, (unsigned long )(& NP), (long long )NP);
        __CrestStore(575, (unsigned long )(& s));
#line 551
        s = NP;
        __CrestLoad(576, (unsigned long )(& returnVal2), (long long )returnVal2);
        __CrestStore(577, (unsigned long )(& lowerDriverReturn));
#line 552
        lowerDriverReturn = returnVal2;
      }
      }
    } else {
      __CrestBranch(564, 190, 0);
      {
      __CrestLoad(580, (unsigned long )(& s), (long long )s);
      __CrestLoad(579, (unsigned long )(& SKIP1), (long long )SKIP1);
      __CrestApply2(578, 12, (long long )(s == SKIP1));
#line 555
      if (s == SKIP1) {
        __CrestBranch(581, 191, 1);
        __CrestLoad(583, (unsigned long )(& SKIP2), (long long )SKIP2);
        __CrestStore(584, (unsigned long )(& s));
#line 556
        s = SKIP2;
        __CrestLoad(585, (unsigned long )(& returnVal2), (long long )returnVal2);
        __CrestStore(586, (unsigned long )(& lowerDriverReturn));
#line 557
        lowerDriverReturn = returnVal2;
      } else {
        __CrestBranch(582, 192, 0);
#line 560
        errorFn();
        __CrestClearStack(587);
      }
      }
    }
    }
  }
  }
  {
  __CrestLoad(588, (unsigned long )(& returnVal2), (long long )returnVal2);
  __CrestReturn(589);
#line 565
  return (returnVal2);
  }
}
}
#line 568 "kbfiltr_simpl2.cil.c"
void IofCompleteRequest(int Irp , int PriorityBoost ) 
{ 


  {
  __CrestCall(592, 7);
  __CrestStore(591, (unsigned long )(& PriorityBoost));
  __CrestStore(590, (unsigned long )(& Irp));
  {
  __CrestLoad(595, (unsigned long )(& s), (long long )s);
  __CrestLoad(594, (unsigned long )(& NP), (long long )NP);
  __CrestApply2(593, 12, (long long )(s == NP));
#line 572
  if (s == NP) {
    __CrestBranch(596, 195, 1);
    __CrestLoad(598, (unsigned long )(& DC), (long long )DC);
    __CrestStore(599, (unsigned long )(& s));
#line 573
    s = DC;
  } else {
    __CrestBranch(597, 196, 0);
#line 576
    errorFn();
    __CrestClearStack(600);
  }
  }

  {
  __CrestReturn(601);
#line 568
  return;
  }
}
}
#line 582 "kbfiltr_simpl2.cil.c"
int KeSetEvent(int Event , int Increment , int Wait ) 
{ 
  int l ;

  {
  __CrestCall(605, 8);
  __CrestStore(604, (unsigned long )(& Wait));
  __CrestStore(603, (unsigned long )(& Increment));
  __CrestStore(602, (unsigned long )(& Event));
#line 583
  __CrestInt(& l);
  __CrestLoad(606, (unsigned long )0, (long long )1);
  __CrestStore(607, (unsigned long )(& setEventCalled));
#line 586
  setEventCalled = 1;
  {
  __CrestLoad(608, (unsigned long )(& l), (long long )l);
  __CrestReturn(609);
#line 587
  return (l);
  }
}
}
#line 590 "kbfiltr_simpl2.cil.c"
int KeWaitForSingleObject(int Object , int WaitReason , int WaitMode , int Alertable ,
                          int Timeout ) 
{ 
  int tmp_ndt_8 ;
  int __retres7 ;

  {
  __CrestCall(615, 9);
  __CrestStore(614, (unsigned long )(& Timeout));
  __CrestStore(613, (unsigned long )(& Alertable));
  __CrestStore(612, (unsigned long )(& WaitMode));
  __CrestStore(611, (unsigned long )(& WaitReason));
  __CrestStore(610, (unsigned long )(& Object));
  {
  __CrestLoad(618, (unsigned long )(& s), (long long )s);
  __CrestLoad(617, (unsigned long )(& MPR3), (long long )MPR3);
  __CrestApply2(616, 12, (long long )(s == MPR3));
#line 595
  if (s == MPR3) {
    __CrestBranch(619, 202, 1);
    {
    __CrestLoad(623, (unsigned long )(& setEventCalled), (long long )setEventCalled);
    __CrestLoad(622, (unsigned long )0, (long long )1);
    __CrestApply2(621, 12, (long long )(setEventCalled == 1));
#line 596
    if (setEventCalled == 1) {
      __CrestBranch(624, 203, 1);
      __CrestLoad(626, (unsigned long )(& NP), (long long )NP);
      __CrestStore(627, (unsigned long )(& s));
#line 597
      s = NP;
      __CrestLoad(628, (unsigned long )0, (long long )0);
      __CrestStore(629, (unsigned long )(& setEventCalled));
#line 598
      setEventCalled = 0;
    } else {
      __CrestBranch(625, 204, 0);
#line 600
      goto _L;
    }
    }
  } else {
    __CrestBranch(620, 205, 0);
    _L: 
    {
    __CrestLoad(632, (unsigned long )(& customIrp), (long long )customIrp);
    __CrestLoad(631, (unsigned long )0, (long long )1);
    __CrestApply2(630, 12, (long long )(customIrp == 1));
#line 604
    if (customIrp == 1) {
      __CrestBranch(633, 206, 1);
      __CrestLoad(635, (unsigned long )(& NP), (long long )NP);
      __CrestStore(636, (unsigned long )(& s));
#line 605
      s = NP;
      __CrestLoad(637, (unsigned long )0, (long long )0);
      __CrestStore(638, (unsigned long )(& customIrp));
#line 606
      customIrp = 0;
    } else {
      __CrestBranch(634, 207, 0);
      {
      __CrestLoad(641, (unsigned long )(& s), (long long )s);
      __CrestLoad(640, (unsigned long )(& MPR3), (long long )MPR3);
      __CrestApply2(639, 12, (long long )(s == MPR3));
#line 608
      if (s == MPR3) {
        __CrestBranch(642, 208, 1);
#line 610
        errorFn();
        __CrestClearStack(644);
      } else {
        __CrestBranch(643, 209, 0);

      }
      }
    }
    }
  }
  }
#line 618
  __CrestInt(& tmp_ndt_8);
  {
  __CrestLoad(647, (unsigned long )(& tmp_ndt_8), (long long )tmp_ndt_8);
  __CrestLoad(646, (unsigned long )0, (long long )0);
  __CrestApply2(645, 12, (long long )(tmp_ndt_8 == 0));
#line 619
  if (tmp_ndt_8 == 0) {
    __CrestBranch(648, 212, 1);
#line 620
    goto switch_3_0;
  } else {
    __CrestBranch(649, 213, 0);
#line 622
    goto switch_3_default;
    {
    __CrestLoad(650, (unsigned long )0, (long long )(0 != 0));
#line 622
    if (0 != 0) {
      __CrestBranch(651, 215, 1);
      switch_3_0: 
      __CrestLoad(653, (unsigned long )0, (long long )0);
      __CrestStore(654, (unsigned long )(& __retres7));
#line 624
      __retres7 = 0;
#line 624
      goto return_label;
      switch_3_default: ;
      __CrestLoad(655, (unsigned long )0, (long long )-1073741823);
      __CrestStore(656, (unsigned long )(& __retres7));
#line 626
      __retres7 = -1073741823;
#line 626
      goto return_label;
    } else {
      __CrestBranch(652, 220, 0);

    }
    }
  }
  }
  return_label: /* CIL Label */ 
  {
  __CrestLoad(657, (unsigned long )(& __retres7), (long long )__retres7);
  __CrestReturn(658);
#line 590
  return (__retres7);
  }
}
}
#line 634 "kbfiltr_simpl2.cil.c"
int KbFilter_Complete(int DeviceObject , int Irp , int Context ) 
{ 
  int event ;
  int __retres5 ;

  {
  __CrestCall(662, 10);
  __CrestStore(661, (unsigned long )(& Context));
  __CrestStore(660, (unsigned long )(& Irp));
  __CrestStore(659, (unsigned long )(& DeviceObject));
  __CrestLoad(663, (unsigned long )(& Context), (long long )Context);
  __CrestStore(664, (unsigned long )(& event));
#line 639
  event = Context;
  __CrestLoad(665, (unsigned long )(& event), (long long )event);
  __CrestLoad(666, (unsigned long )0, (long long )0);
  __CrestLoad(667, (unsigned long )0, (long long )0);
#line 640
  KeSetEvent(event, 0, 0);
  __CrestClearStack(668);
  __CrestLoad(669, (unsigned long )0, (long long )-1073741802);
  __CrestStore(670, (unsigned long )(& __retres5));
#line 642
  __retres5 = -1073741802;
  {
  __CrestLoad(671, (unsigned long )(& __retres5), (long long )__retres5);
  __CrestReturn(672);
#line 634
  return (__retres5);
  }
}
}
#line 678
int KbFilter_DispatchPassThrough(int DeviceObject , int Irp ) ;
#line 645 "kbfiltr_simpl2.cil.c"
int KbFilter_CreateClose(int DeviceObject , int Irp ) 
{ 
  int irpStack__MajorFunction ;
  int devExt__UpperConnectData__ClassService ;
  int Irp__IoStatus__Status ;
  int status ;
  int tmp ;

  {
  __CrestCall(675, 11);
  __CrestStore(674, (unsigned long )(& Irp));
  __CrestStore(673, (unsigned long )(& DeviceObject));
#line 646
  __CrestInt(& irpStack__MajorFunction);
#line 647
  __CrestInt(& devExt__UpperConnectData__ClassService);
  __CrestLoad(676, (unsigned long )(& myStatus), (long long )myStatus);
  __CrestStore(677, (unsigned long )(& status));
#line 653
  status = myStatus;
  {
  __CrestLoad(680, (unsigned long )(& irpStack__MajorFunction), (long long )irpStack__MajorFunction);
  __CrestLoad(679, (unsigned long )0, (long long )0);
  __CrestApply2(678, 12, (long long )(irpStack__MajorFunction == 0));
#line 654
  if (irpStack__MajorFunction == 0) {
    __CrestBranch(681, 227, 1);
#line 655
    goto switch_4_0;
  } else {
    __CrestBranch(682, 228, 0);
    {
    __CrestLoad(685, (unsigned long )(& irpStack__MajorFunction), (long long )irpStack__MajorFunction);
    __CrestLoad(684, (unsigned long )0, (long long )2);
    __CrestApply2(683, 12, (long long )(irpStack__MajorFunction == 2));
#line 657
    if (irpStack__MajorFunction == 2) {
      __CrestBranch(686, 229, 1);
#line 658
      goto switch_4_2;
    } else {
      __CrestBranch(687, 230, 0);
      {
      __CrestLoad(688, (unsigned long )0, (long long )(0 != 0));
#line 660
      if (0 != 0) {
        __CrestBranch(689, 231, 1);
        switch_4_0: ;
        {
        __CrestLoad(693, (unsigned long )(& devExt__UpperConnectData__ClassService),
                    (long long )devExt__UpperConnectData__ClassService);
        __CrestLoad(692, (unsigned long )0, (long long )0);
        __CrestApply2(691, 12, (long long )(devExt__UpperConnectData__ClassService == 0));
#line 662
        if (devExt__UpperConnectData__ClassService == 0) {
          __CrestBranch(694, 233, 1);
          __CrestLoad(696, (unsigned long )0, (long long )-1073741436);
          __CrestStore(697, (unsigned long )(& status));
#line 663
          status = -1073741436;
        } else {
          __CrestBranch(695, 234, 0);

        }
        }
#line 665
        goto switch_4_break;
        switch_4_2: ;
#line 667
        goto switch_4_break;
      } else {
        __CrestBranch(690, 238, 0);
        switch_4_break: ;
      }
      }
    }
    }
  }
  }
  __CrestLoad(698, (unsigned long )(& status), (long long )status);
  __CrestStore(699, (unsigned long )(& Irp__IoStatus__Status));
#line 676
  Irp__IoStatus__Status = status;
  __CrestLoad(700, (unsigned long )(& status), (long long )status);
  __CrestStore(701, (unsigned long )(& myStatus));
#line 677
  myStatus = status;
  __CrestLoad(702, (unsigned long )(& DeviceObject), (long long )DeviceObject);
  __CrestLoad(703, (unsigned long )(& Irp), (long long )Irp);
#line 678
  tmp = KbFilter_DispatchPassThrough(DeviceObject, Irp);
  __CrestHandleReturn(705, (long long )tmp);
  __CrestStore(704, (unsigned long )(& tmp));
  {
  __CrestLoad(706, (unsigned long )(& tmp), (long long )tmp);
  __CrestReturn(707);
#line 680
  return (tmp);
  }
}
}
#line 683 "kbfiltr_simpl2.cil.c"
int KbFilter_DispatchPassThrough(int DeviceObject , int Irp ) 
{ 
  int Irp__Tail__Overlay__CurrentStackLocation ;
  int Irp__CurrentLocation ;
  int DeviceObject__DeviceExtension__TopOfStack ;
  int irpStack ;
  int tmp ;

  {
  __CrestCall(710, 12);
  __CrestStore(709, (unsigned long )(& Irp));
  __CrestStore(708, (unsigned long )(& DeviceObject));
#line 684
  __CrestInt(& Irp__Tail__Overlay__CurrentStackLocation);
#line 685
  __CrestInt(& Irp__CurrentLocation);
#line 686
  __CrestInt(& DeviceObject__DeviceExtension__TopOfStack);
  __CrestLoad(711, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation), (long long )Irp__Tail__Overlay__CurrentStackLocation);
  __CrestStore(712, (unsigned long )(& irpStack));
#line 691
  irpStack = Irp__Tail__Overlay__CurrentStackLocation;
  {
  __CrestLoad(715, (unsigned long )(& s), (long long )s);
  __CrestLoad(714, (unsigned long )(& NP), (long long )NP);
  __CrestApply2(713, 12, (long long )(s == NP));
#line 692
  if (s == NP) {
    __CrestBranch(716, 243, 1);
    __CrestLoad(718, (unsigned long )(& SKIP1), (long long )SKIP1);
    __CrestStore(719, (unsigned long )(& s));
#line 693
    s = SKIP1;
  } else {
    __CrestBranch(717, 244, 0);
#line 696
    errorFn();
    __CrestClearStack(720);
  }
  }
  __CrestLoad(723, (unsigned long )(& Irp__CurrentLocation), (long long )Irp__CurrentLocation);
  __CrestLoad(722, (unsigned long )0, (long long )1);
  __CrestApply2(721, 0, (long long )(Irp__CurrentLocation + 1));
  __CrestStore(724, (unsigned long )(& Irp__CurrentLocation));
#line 700
  Irp__CurrentLocation ++;
  __CrestLoad(727, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation), (long long )Irp__Tail__Overlay__CurrentStackLocation);
  __CrestLoad(726, (unsigned long )0, (long long )1);
  __CrestApply2(725, 0, (long long )(Irp__Tail__Overlay__CurrentStackLocation + 1));
  __CrestStore(728, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation));
#line 701
  Irp__Tail__Overlay__CurrentStackLocation ++;
  __CrestLoad(729, (unsigned long )(& DeviceObject__DeviceExtension__TopOfStack),
              (long long )DeviceObject__DeviceExtension__TopOfStack);
  __CrestLoad(730, (unsigned long )(& Irp), (long long )Irp);
#line 702
  tmp = IofCallDriver(DeviceObject__DeviceExtension__TopOfStack, Irp);
  __CrestHandleReturn(732, (long long )tmp);
  __CrestStore(731, (unsigned long )(& tmp));
  {
  __CrestLoad(733, (unsigned long )(& tmp), (long long )tmp);
  __CrestReturn(734);
#line 704
  return (tmp);
  }
}
}
#line 762
int PoCallDriver(int DeviceObject , int Irp ) ;
#line 707 "kbfiltr_simpl2.cil.c"
int KbFilter_Power(int DeviceObject , int Irp ) 
{ 
  int irpStack__MinorFunction ;
  int devExt__DeviceState ;
  int powerState__DeviceState ;
  int Irp__CurrentLocation ;
  int Irp__Tail__Overlay__CurrentStackLocation ;
  int devExt__TopOfStack ;
  int powerType ;
  int tmp ;

  {
  __CrestCall(737, 13);
  __CrestStore(736, (unsigned long )(& Irp));
  __CrestStore(735, (unsigned long )(& DeviceObject));
#line 708
  __CrestInt(& irpStack__MinorFunction);
#line 710
  __CrestInt(& powerState__DeviceState);
#line 711
  __CrestInt(& Irp__CurrentLocation);
#line 712
  __CrestInt(& Irp__Tail__Overlay__CurrentStackLocation);
#line 713
  __CrestInt(& devExt__TopOfStack);
#line 714
  __CrestInt(& powerType);
  {
  __CrestLoad(740, (unsigned long )(& irpStack__MinorFunction), (long long )irpStack__MinorFunction);
  __CrestLoad(739, (unsigned long )0, (long long )2);
  __CrestApply2(738, 12, (long long )(irpStack__MinorFunction == 2));
#line 718
  if (irpStack__MinorFunction == 2) {
    __CrestBranch(741, 249, 1);
#line 719
    goto switch_5_2;
  } else {
    __CrestBranch(742, 250, 0);
    {
    __CrestLoad(745, (unsigned long )(& irpStack__MinorFunction), (long long )irpStack__MinorFunction);
    __CrestLoad(744, (unsigned long )0, (long long )1);
    __CrestApply2(743, 12, (long long )(irpStack__MinorFunction == 1));
#line 721
    if (irpStack__MinorFunction == 1) {
      __CrestBranch(746, 251, 1);
#line 722
      goto switch_5_1;
    } else {
      __CrestBranch(747, 252, 0);
      {
      __CrestLoad(750, (unsigned long )(& irpStack__MinorFunction), (long long )irpStack__MinorFunction);
      __CrestLoad(749, (unsigned long )0, (long long )0);
      __CrestApply2(748, 12, (long long )(irpStack__MinorFunction == 0));
#line 724
      if (irpStack__MinorFunction == 0) {
        __CrestBranch(751, 253, 1);
#line 725
        goto switch_5_0;
      } else {
        __CrestBranch(752, 254, 0);
        {
        __CrestLoad(755, (unsigned long )(& irpStack__MinorFunction), (long long )irpStack__MinorFunction);
        __CrestLoad(754, (unsigned long )0, (long long )3);
        __CrestApply2(753, 12, (long long )(irpStack__MinorFunction == 3));
#line 727
        if (irpStack__MinorFunction == 3) {
          __CrestBranch(756, 255, 1);
#line 728
          goto switch_5_3;
        } else {
          __CrestBranch(757, 256, 0);
#line 730
          goto switch_5_default;
          {
          __CrestLoad(758, (unsigned long )0, (long long )(0 != 0));
#line 732
          if (0 != 0) {
            __CrestBranch(759, 258, 1);
            switch_5_2: ;
            {
            __CrestLoad(763, (unsigned long )(& powerType), (long long )powerType);
            __CrestLoad(762, (unsigned long )(& DevicePowerState), (long long )DevicePowerState);
            __CrestApply2(761, 12, (long long )(powerType == DevicePowerState));
#line 734
            if (powerType == DevicePowerState) {
              __CrestBranch(764, 260, 1);
              __CrestLoad(766, (unsigned long )(& powerState__DeviceState), (long long )powerState__DeviceState);
              __CrestStore(767, (unsigned long )(& devExt__DeviceState));
#line 735
              devExt__DeviceState = powerState__DeviceState;
            } else {
              __CrestBranch(765, 261, 0);

            }
            }
            switch_5_1: ;
            switch_5_0: ;
            switch_5_3: ;
            switch_5_default: ;
#line 741
            goto switch_5_break;
          } else {
            __CrestBranch(760, 267, 0);
            switch_5_break: ;
          }
          }
        }
        }
      }
      }
    }
    }
  }
  }
  {
  __CrestLoad(770, (unsigned long )(& s), (long long )s);
  __CrestLoad(769, (unsigned long )(& NP), (long long )NP);
  __CrestApply2(768, 12, (long long )(s == NP));
#line 752
  if (s == NP) {
    __CrestBranch(771, 269, 1);
    __CrestLoad(773, (unsigned long )(& SKIP1), (long long )SKIP1);
    __CrestStore(774, (unsigned long )(& s));
#line 753
    s = SKIP1;
  } else {
    __CrestBranch(772, 270, 0);
#line 756
    errorFn();
    __CrestClearStack(775);
  }
  }
  __CrestLoad(778, (unsigned long )(& Irp__CurrentLocation), (long long )Irp__CurrentLocation);
  __CrestLoad(777, (unsigned long )0, (long long )1);
  __CrestApply2(776, 0, (long long )(Irp__CurrentLocation + 1));
  __CrestStore(779, (unsigned long )(& Irp__CurrentLocation));
#line 760
  Irp__CurrentLocation ++;
  __CrestLoad(782, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation), (long long )Irp__Tail__Overlay__CurrentStackLocation);
  __CrestLoad(781, (unsigned long )0, (long long )1);
  __CrestApply2(780, 0, (long long )(Irp__Tail__Overlay__CurrentStackLocation + 1));
  __CrestStore(783, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation));
#line 761
  Irp__Tail__Overlay__CurrentStackLocation ++;
  __CrestLoad(784, (unsigned long )(& devExt__TopOfStack), (long long )devExt__TopOfStack);
  __CrestLoad(785, (unsigned long )(& Irp), (long long )Irp);
#line 762
  tmp = PoCallDriver(devExt__TopOfStack, Irp);
  __CrestHandleReturn(787, (long long )tmp);
  __CrestStore(786, (unsigned long )(& tmp));
  {
  __CrestLoad(788, (unsigned long )(& tmp), (long long )tmp);
  __CrestReturn(789);
#line 764
  return (tmp);
  }
}
}
#line 767 "kbfiltr_simpl2.cil.c"
int PoCallDriver(int DeviceObject , int Irp ) 
{ 
  int compRetStatus ;
  int returnVal ;
  int lcontext ;
  unsigned long __cil_tmp7 ;
  long __cil_tmp8 ;
  int tmp_ndt_9 ;
  int tmp_ndt_10 ;

  {
  __CrestCall(792, 14);
  __CrestStore(791, (unsigned long )(& Irp));
  __CrestStore(790, (unsigned long )(& DeviceObject));
#line 771
  __CrestInt(& lcontext);
  {
  __CrestLoad(795, (unsigned long )(& compRegistered), (long long )compRegistered);
  __CrestLoad(794, (unsigned long )0, (long long )0);
  __CrestApply2(793, 13, (long long )(compRegistered != 0));
#line 774
  if (compRegistered != 0) {
    __CrestBranch(796, 275, 1);
    __CrestLoad(798, (unsigned long )(& DeviceObject), (long long )DeviceObject);
    __CrestLoad(799, (unsigned long )(& Irp), (long long )Irp);
    __CrestLoad(800, (unsigned long )(& lcontext), (long long )lcontext);
#line 776
    compRetStatus = KbFilter_Complete(DeviceObject, Irp, lcontext);
    __CrestHandleReturn(802, (long long )compRetStatus);
    __CrestStore(801, (unsigned long )(& compRetStatus));
    __CrestLoad(803, (unsigned long )(& compRetStatus), (long long )compRetStatus);
    __CrestStore(804, (unsigned long )(& __cil_tmp7));
#line 778
    __cil_tmp7 = (unsigned long )compRetStatus;
    {
    __CrestLoad(807, (unsigned long )(& __cil_tmp7), (long long )__cil_tmp7);
    __CrestLoad(806, (unsigned long )0, (long long )0xffffffffc0000016UL);
    __CrestApply2(805, 12, (long long )(__cil_tmp7 == 0xffffffffc0000016UL));
#line 778
    if (__cil_tmp7 == 0xffffffffc0000016UL) {
      __CrestBranch(808, 277, 1);
#line 780
      stubMoreProcessingRequired();
      __CrestClearStack(810);
    } else {
      __CrestBranch(809, 278, 0);

    }
    }
  } else {
    __CrestBranch(797, 279, 0);

  }
  }
#line 789
  __CrestInt(& tmp_ndt_9);
  {
  __CrestLoad(813, (unsigned long )(& tmp_ndt_9), (long long )tmp_ndt_9);
  __CrestLoad(812, (unsigned long )0, (long long )0);
  __CrestApply2(811, 12, (long long )(tmp_ndt_9 == 0));
#line 790
  if (tmp_ndt_9 == 0) {
    __CrestBranch(814, 282, 1);
#line 791
    goto switch_6_0;
  } else {
    __CrestBranch(815, 283, 0);
#line 792
    __CrestInt(& tmp_ndt_10);
    {
    __CrestLoad(818, (unsigned long )(& tmp_ndt_10), (long long )tmp_ndt_10);
    __CrestLoad(817, (unsigned long )0, (long long )1);
    __CrestApply2(816, 12, (long long )(tmp_ndt_10 == 1));
#line 793
    if (tmp_ndt_10 == 1) {
      __CrestBranch(819, 285, 1);
#line 794
      goto switch_6_1;
    } else {
      __CrestBranch(820, 286, 0);
#line 796
      goto switch_6_default;
      {
      __CrestLoad(821, (unsigned long )0, (long long )(0 != 0));
#line 796
      if (0 != 0) {
        __CrestBranch(822, 288, 1);
        switch_6_0: 
        __CrestLoad(824, (unsigned long )0, (long long )0);
        __CrestStore(825, (unsigned long )(& returnVal));
#line 798
        returnVal = 0;
#line 799
        goto switch_6_break;
        switch_6_1: 
        __CrestLoad(826, (unsigned long )0, (long long )-1073741823);
        __CrestStore(827, (unsigned long )(& returnVal));
#line 801
        returnVal = -1073741823;
#line 802
        goto switch_6_break;
        switch_6_default: 
        __CrestLoad(828, (unsigned long )0, (long long )259);
        __CrestStore(829, (unsigned long )(& returnVal));
#line 804
        returnVal = 259;
#line 805
        goto switch_6_break;
      } else {
        __CrestBranch(823, 294, 0);
        switch_6_break: ;
      }
      }
    }
    }
  }
  }
  {
  __CrestLoad(832, (unsigned long )(& s), (long long )s);
  __CrestLoad(831, (unsigned long )(& NP), (long long )NP);
  __CrestApply2(830, 12, (long long )(s == NP));
#line 812
  if (s == NP) {
    __CrestBranch(833, 296, 1);
    __CrestLoad(835, (unsigned long )(& IPC), (long long )IPC);
    __CrestStore(836, (unsigned long )(& s));
#line 813
    s = IPC;
    __CrestLoad(837, (unsigned long )(& returnVal), (long long )returnVal);
    __CrestStore(838, (unsigned long )(& lowerDriverReturn));
#line 814
    lowerDriverReturn = returnVal;
  } else {
    __CrestBranch(834, 297, 0);
    {
    __CrestLoad(841, (unsigned long )(& s), (long long )s);
    __CrestLoad(840, (unsigned long )(& MPR1), (long long )MPR1);
    __CrestApply2(839, 12, (long long )(s == MPR1));
#line 816
    if (s == MPR1) {
      __CrestBranch(842, 298, 1);
      __CrestLoad(844, (unsigned long )(& returnVal), (long long )returnVal);
      __CrestStore(845, (unsigned long )(& __cil_tmp8));
#line 817
      __cil_tmp8 = (long )returnVal;
      {
      __CrestLoad(848, (unsigned long )(& __cil_tmp8), (long long )__cil_tmp8);
      __CrestLoad(847, (unsigned long )0, (long long )259L);
      __CrestApply2(846, 12, (long long )(__cil_tmp8 == 259L));
#line 817
      if (__cil_tmp8 == 259L) {
        __CrestBranch(849, 300, 1);
        __CrestLoad(851, (unsigned long )(& MPR3), (long long )MPR3);
        __CrestStore(852, (unsigned long )(& s));
#line 818
        s = MPR3;
        __CrestLoad(853, (unsigned long )(& returnVal), (long long )returnVal);
        __CrestStore(854, (unsigned long )(& lowerDriverReturn));
#line 819
        lowerDriverReturn = returnVal;
      } else {
        __CrestBranch(850, 301, 0);
        __CrestLoad(855, (unsigned long )(& NP), (long long )NP);
        __CrestStore(856, (unsigned long )(& s));
#line 821
        s = NP;
        __CrestLoad(857, (unsigned long )(& returnVal), (long long )returnVal);
        __CrestStore(858, (unsigned long )(& lowerDriverReturn));
#line 822
        lowerDriverReturn = returnVal;
      }
      }
    } else {
      __CrestBranch(843, 302, 0);
      {
      __CrestLoad(861, (unsigned long )(& s), (long long )s);
      __CrestLoad(860, (unsigned long )(& SKIP1), (long long )SKIP1);
      __CrestApply2(859, 12, (long long )(s == SKIP1));
#line 825
      if (s == SKIP1) {
        __CrestBranch(862, 303, 1);
        __CrestLoad(864, (unsigned long )(& SKIP2), (long long )SKIP2);
        __CrestStore(865, (unsigned long )(& s));
#line 826
        s = SKIP2;
        __CrestLoad(866, (unsigned long )(& returnVal), (long long )returnVal);
        __CrestStore(867, (unsigned long )(& lowerDriverReturn));
#line 827
        lowerDriverReturn = returnVal;
      } else {
        __CrestBranch(863, 304, 0);
#line 830
        errorFn();
        __CrestClearStack(868);
      }
      }
    }
    }
  }
  }
  {
  __CrestLoad(869, (unsigned long )(& returnVal), (long long )returnVal);
  __CrestReturn(870);
#line 835
  return (returnVal);
  }
}
}
#line 838 "kbfiltr_simpl2.cil.c"
int KbFilter_InternIoCtl(int DeviceObject , int Irp ) 
{ 
  int Irp__IoStatus__Information ;
  int irpStack__Parameters__DeviceIoControl__IoControlCode ;
  int devExt__UpperConnectData__ClassService ;
  int irpStack__Parameters__DeviceIoControl__InputBufferLength ;
  int sizeof__CONNECT_DATA ;
  int irpStack__Parameters__DeviceIoControl__Type3InputBuffer ;
  int sizeof__INTERNAL_I8042_HOOK_KEYBOARD ;
  int hookKeyboard__InitializationRoutine ;
  int hookKeyboard__IsrRoutine ;
  int Irp__IoStatus__Status ;
  int hookKeyboard ;
  int connectData ;
  int status ;
  int tmp ;
  int __cil_tmp20 ;
  int __cil_tmp24 ;
  int __cil_tmp28 ;
  int __cil_tmp29 ;
  int __cil_tmp32 ;
  int __cil_tmp35 ;
  int __cil_tmp38 ;
  int __cil_tmp41 ;
  int __cil_tmp44 ;
  int __retres46 ;

  {
  __CrestCall(873, 15);
  __CrestStore(872, (unsigned long )(& Irp));
  __CrestStore(871, (unsigned long )(& DeviceObject));
#line 840
  __CrestInt(& irpStack__Parameters__DeviceIoControl__IoControlCode);
#line 841
  __CrestInt(& devExt__UpperConnectData__ClassService);
#line 842
  __CrestInt(& irpStack__Parameters__DeviceIoControl__InputBufferLength);
#line 843
  __CrestInt(& sizeof__CONNECT_DATA);
#line 844
  __CrestInt(& irpStack__Parameters__DeviceIoControl__Type3InputBuffer);
#line 845
  __CrestInt(& sizeof__INTERNAL_I8042_HOOK_KEYBOARD);
#line 846
  __CrestInt(& hookKeyboard__InitializationRoutine);
#line 847
  __CrestInt(& hookKeyboard__IsrRoutine);
#line 856
  __CrestInt(& __cil_tmp20);
#line 860
  __CrestInt(& __cil_tmp24);
#line 864
  __CrestInt(& __cil_tmp28);
#line 865
  __CrestInt(& __cil_tmp29);
#line 868
  __CrestInt(& __cil_tmp32);
#line 871
  __CrestInt(& __cil_tmp35);
#line 874
  __CrestInt(& __cil_tmp38);
#line 877
  __CrestInt(& __cil_tmp41);
#line 880
  __CrestInt(& __cil_tmp44);
  __CrestLoad(874, (unsigned long )0, (long long )0);
  __CrestStore(875, (unsigned long )(& status));
#line 855
  status = 0;
  __CrestLoad(876, (unsigned long )0, (long long )0);
  __CrestStore(877, (unsigned long )(& Irp__IoStatus__Information));
#line 856
  Irp__IoStatus__Information = 0;
  {
  __CrestLoad(880, (unsigned long )(& irpStack__Parameters__DeviceIoControl__IoControlCode),
              (long long )irpStack__Parameters__DeviceIoControl__IoControlCode);
  __CrestLoad(879, (unsigned long )(& __cil_tmp20), (long long )__cil_tmp20);
  __CrestApply2(878, 12, (long long )(irpStack__Parameters__DeviceIoControl__IoControlCode == __cil_tmp20));
#line 857
  if (irpStack__Parameters__DeviceIoControl__IoControlCode == __cil_tmp20) {
    __CrestBranch(881, 308, 1);
#line 858
    goto switch_7_exp_0;
  } else {
    __CrestBranch(882, 309, 0);
    {
    __CrestLoad(885, (unsigned long )(& irpStack__Parameters__DeviceIoControl__IoControlCode),
                (long long )irpStack__Parameters__DeviceIoControl__IoControlCode);
    __CrestLoad(884, (unsigned long )(& __cil_tmp24), (long long )__cil_tmp24);
    __CrestApply2(883, 12, (long long )(irpStack__Parameters__DeviceIoControl__IoControlCode == __cil_tmp24));
#line 860
    if (irpStack__Parameters__DeviceIoControl__IoControlCode == __cil_tmp24) {
      __CrestBranch(886, 310, 1);
#line 861
      goto switch_7_exp_1;
    } else {
      __CrestBranch(887, 311, 0);
      {
      __CrestLoad(890, (unsigned long )(& irpStack__Parameters__DeviceIoControl__IoControlCode),
                  (long long )irpStack__Parameters__DeviceIoControl__IoControlCode);
      __CrestLoad(889, (unsigned long )(& __cil_tmp28), (long long )__cil_tmp28);
      __CrestApply2(888, 12, (long long )(irpStack__Parameters__DeviceIoControl__IoControlCode == __cil_tmp28));
#line 863
      if (irpStack__Parameters__DeviceIoControl__IoControlCode == __cil_tmp28) {
        __CrestBranch(891, 312, 1);
#line 864
        goto switch_7_exp_2;
      } else {
        __CrestBranch(892, 313, 0);
        {
        __CrestLoad(895, (unsigned long )(& irpStack__Parameters__DeviceIoControl__IoControlCode),
                    (long long )irpStack__Parameters__DeviceIoControl__IoControlCode);
        __CrestLoad(894, (unsigned long )(& __cil_tmp29), (long long )__cil_tmp29);
        __CrestApply2(893, 12, (long long )(irpStack__Parameters__DeviceIoControl__IoControlCode == __cil_tmp29));
#line 866
        if (irpStack__Parameters__DeviceIoControl__IoControlCode == __cil_tmp29) {
          __CrestBranch(896, 314, 1);
#line 867
          goto switch_7_exp_3;
        } else {
          __CrestBranch(897, 315, 0);
          {
          __CrestLoad(900, (unsigned long )(& irpStack__Parameters__DeviceIoControl__IoControlCode),
                      (long long )irpStack__Parameters__DeviceIoControl__IoControlCode);
          __CrestLoad(899, (unsigned long )(& __cil_tmp32), (long long )__cil_tmp32);
          __CrestApply2(898, 12, (long long )(irpStack__Parameters__DeviceIoControl__IoControlCode == __cil_tmp32));
#line 869
          if (irpStack__Parameters__DeviceIoControl__IoControlCode == __cil_tmp32) {
            __CrestBranch(901, 316, 1);
#line 870
            goto switch_7_exp_4;
          } else {
            __CrestBranch(902, 317, 0);
            {
            __CrestLoad(905, (unsigned long )(& irpStack__Parameters__DeviceIoControl__IoControlCode),
                        (long long )irpStack__Parameters__DeviceIoControl__IoControlCode);
            __CrestLoad(904, (unsigned long )(& __cil_tmp35), (long long )__cil_tmp35);
            __CrestApply2(903, 12, (long long )(irpStack__Parameters__DeviceIoControl__IoControlCode == __cil_tmp35));
#line 872
            if (irpStack__Parameters__DeviceIoControl__IoControlCode == __cil_tmp35) {
              __CrestBranch(906, 318, 1);
#line 873
              goto switch_7_exp_5;
            } else {
              __CrestBranch(907, 319, 0);
              {
              __CrestLoad(910, (unsigned long )(& irpStack__Parameters__DeviceIoControl__IoControlCode),
                          (long long )irpStack__Parameters__DeviceIoControl__IoControlCode);
              __CrestLoad(909, (unsigned long )(& __cil_tmp38), (long long )__cil_tmp38);
              __CrestApply2(908, 12, (long long )(irpStack__Parameters__DeviceIoControl__IoControlCode == __cil_tmp38));
#line 875
              if (irpStack__Parameters__DeviceIoControl__IoControlCode == __cil_tmp38) {
                __CrestBranch(911, 320, 1);
#line 876
                goto switch_7_exp_6;
              } else {
                __CrestBranch(912, 321, 0);
                {
                __CrestLoad(915, (unsigned long )(& irpStack__Parameters__DeviceIoControl__IoControlCode),
                            (long long )irpStack__Parameters__DeviceIoControl__IoControlCode);
                __CrestLoad(914, (unsigned long )(& __cil_tmp41), (long long )__cil_tmp41);
                __CrestApply2(913, 12, (long long )(irpStack__Parameters__DeviceIoControl__IoControlCode == __cil_tmp41));
#line 878
                if (irpStack__Parameters__DeviceIoControl__IoControlCode == __cil_tmp41) {
                  __CrestBranch(916, 322, 1);
#line 879
                  goto switch_7_exp_7;
                } else {
                  __CrestBranch(917, 323, 0);
                  {
                  __CrestLoad(920, (unsigned long )(& irpStack__Parameters__DeviceIoControl__IoControlCode),
                              (long long )irpStack__Parameters__DeviceIoControl__IoControlCode);
                  __CrestLoad(919, (unsigned long )(& __cil_tmp44), (long long )__cil_tmp44);
                  __CrestApply2(918, 12, (long long )(irpStack__Parameters__DeviceIoControl__IoControlCode == __cil_tmp44));
#line 881
                  if (irpStack__Parameters__DeviceIoControl__IoControlCode == __cil_tmp44) {
                    __CrestBranch(921, 324, 1);
#line 882
                    goto switch_7_exp_8;
                  } else {
                    __CrestBranch(922, 325, 0);
                    {
                    __CrestLoad(923, (unsigned long )0, (long long )(0 != 0));
#line 884
                    if (0 != 0) {
                      __CrestBranch(924, 326, 1);
                      switch_7_exp_0: ;
                      {
                      __CrestLoad(928, (unsigned long )(& devExt__UpperConnectData__ClassService),
                                  (long long )devExt__UpperConnectData__ClassService);
                      __CrestLoad(927, (unsigned long )0, (long long )0);
                      __CrestApply2(926, 13, (long long )(devExt__UpperConnectData__ClassService != 0));
#line 886
                      if (devExt__UpperConnectData__ClassService != 0) {
                        __CrestBranch(929, 328, 1);
                        __CrestLoad(931, (unsigned long )0, (long long )-1073741757);
                        __CrestStore(932, (unsigned long )(& status));
#line 887
                        status = -1073741757;
#line 888
                        goto switch_7_break;
                      } else {
                        __CrestBranch(930, 330, 0);
                        {
                        __CrestLoad(935, (unsigned long )(& irpStack__Parameters__DeviceIoControl__InputBufferLength),
                                    (long long )irpStack__Parameters__DeviceIoControl__InputBufferLength);
                        __CrestLoad(934, (unsigned long )(& sizeof__CONNECT_DATA),
                                    (long long )sizeof__CONNECT_DATA);
                        __CrestApply2(933, 16, (long long )(irpStack__Parameters__DeviceIoControl__InputBufferLength < sizeof__CONNECT_DATA));
#line 890
                        if (irpStack__Parameters__DeviceIoControl__InputBufferLength < sizeof__CONNECT_DATA) {
                          __CrestBranch(936, 331, 1);
                          __CrestLoad(938, (unsigned long )0, (long long )-1073741811);
                          __CrestStore(939, (unsigned long )(& status));
#line 891
                          status = -1073741811;
#line 892
                          goto switch_7_break;
                        } else {
                          __CrestBranch(937, 333, 0);

                        }
                        }
                      }
                      }
                      __CrestLoad(940, (unsigned long )(& irpStack__Parameters__DeviceIoControl__Type3InputBuffer),
                                  (long long )irpStack__Parameters__DeviceIoControl__Type3InputBuffer);
                      __CrestStore(941, (unsigned long )(& connectData));
#line 897
                      connectData = irpStack__Parameters__DeviceIoControl__Type3InputBuffer;
#line 898
                      goto switch_7_break;
                      switch_7_exp_1: 
                      __CrestLoad(942, (unsigned long )0, (long long )-1073741822);
                      __CrestStore(943, (unsigned long )(& status));
#line 900
                      status = -1073741822;
#line 901
                      goto switch_7_break;
                      switch_7_exp_2: ;
                      {
                      __CrestLoad(946, (unsigned long )(& irpStack__Parameters__DeviceIoControl__InputBufferLength),
                                  (long long )irpStack__Parameters__DeviceIoControl__InputBufferLength);
                      __CrestLoad(945, (unsigned long )(& sizeof__INTERNAL_I8042_HOOK_KEYBOARD),
                                  (long long )sizeof__INTERNAL_I8042_HOOK_KEYBOARD);
                      __CrestApply2(944, 16, (long long )(irpStack__Parameters__DeviceIoControl__InputBufferLength < sizeof__INTERNAL_I8042_HOOK_KEYBOARD));
#line 903
                      if (irpStack__Parameters__DeviceIoControl__InputBufferLength < sizeof__INTERNAL_I8042_HOOK_KEYBOARD) {
                        __CrestBranch(947, 340, 1);
                        __CrestLoad(949, (unsigned long )0, (long long )-1073741811);
                        __CrestStore(950, (unsigned long )(& status));
#line 904
                        status = -1073741811;
#line 905
                        goto switch_7_break;
                      } else {
                        __CrestBranch(948, 342, 0);

                      }
                      }
                      __CrestLoad(951, (unsigned long )(& irpStack__Parameters__DeviceIoControl__Type3InputBuffer),
                                  (long long )irpStack__Parameters__DeviceIoControl__Type3InputBuffer);
                      __CrestStore(952, (unsigned long )(& hookKeyboard));
#line 909
                      hookKeyboard = irpStack__Parameters__DeviceIoControl__Type3InputBuffer;
                      __CrestLoad(953, (unsigned long )0, (long long )0);
                      __CrestStore(954, (unsigned long )(& status));
#line 920
                      status = 0;
#line 921
                      goto switch_7_break;
                      switch_7_exp_3: ;
                      switch_7_exp_4: ;
                      switch_7_exp_5: ;
                      switch_7_exp_6: ;
                      switch_7_exp_7: ;
                      switch_7_exp_8: ;
#line 928
                      goto switch_7_break;
                    } else {
                      __CrestBranch(925, 352, 0);
                      switch_7_break: ;
                    }
                    }
                  }
                  }
                }
                }
              }
              }
            }
            }
          }
          }
        }
        }
      }
      }
    }
    }
  }
  }
  {
  __CrestLoad(957, (unsigned long )(& status), (long long )status);
  __CrestLoad(956, (unsigned long )0, (long long )0);
  __CrestApply2(955, 16, (long long )(status < 0));
#line 941
  if (status < 0) {
    __CrestBranch(958, 354, 1);
    __CrestLoad(960, (unsigned long )(& status), (long long )status);
    __CrestStore(961, (unsigned long )(& Irp__IoStatus__Status));
#line 943
    Irp__IoStatus__Status = status;
    __CrestLoad(962, (unsigned long )(& status), (long long )status);
    __CrestStore(963, (unsigned long )(& myStatus));
#line 944
    myStatus = status;
    __CrestLoad(964, (unsigned long )(& Irp), (long long )Irp);
    __CrestLoad(965, (unsigned long )0, (long long )0);
#line 945
    IofCompleteRequest(Irp, 0);
    __CrestClearStack(966);
    __CrestLoad(967, (unsigned long )(& status), (long long )status);
    __CrestStore(968, (unsigned long )(& __retres46));
#line 947
    __retres46 = status;
#line 947
    goto return_label;
  } else {
    __CrestBranch(959, 357, 0);

  }
  }
  __CrestLoad(969, (unsigned long )(& DeviceObject), (long long )DeviceObject);
  __CrestLoad(970, (unsigned long )(& Irp), (long long )Irp);
#line 952
  tmp = KbFilter_DispatchPassThrough(DeviceObject, Irp);
  __CrestHandleReturn(972, (long long )tmp);
  __CrestStore(971, (unsigned long )(& tmp));
  __CrestLoad(973, (unsigned long )(& tmp), (long long )tmp);
  __CrestStore(974, (unsigned long )(& __retres46));
#line 954
  __retres46 = tmp;
  return_label: /* CIL Label */ 
  {
  __CrestLoad(975, (unsigned long )(& __retres46), (long long )__retres46);
  __CrestReturn(976);
#line 838
  return (__retres46);
  }
}
}
#line 958 "kbfiltr_simpl2.cil.c"
void errorFn(void) 
{ 


  {
  __CrestCall(977, 16);

#line 962
  goto ERROR;
  ERROR: ;
  {
  __CrestReturn(978);
#line 958
  return;
  }
}
}
void __globinit_kbfiltr(void) 
{ 


  {
  __CrestInit();
}
}
