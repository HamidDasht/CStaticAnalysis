/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is true */

#line 696 "floppy_simpl4.cil.c"
void __globinit_floppy(void) ;
extern void __CrestInit(void)  __attribute__((__crest_skip__)) ;
extern void __CrestHandleReturn(int id , long long val )  __attribute__((__crest_skip__)) ;
extern void __CrestReturn(int id )  __attribute__((__crest_skip__)) ;
extern void __CrestCall(int id , unsigned int fid )  __attribute__((__crest_skip__)) ;
extern void __CrestBranch(int id , int bid , unsigned char b )  __attribute__((__crest_skip__)) ;
extern void __CrestApply2(int id , int op , long long val )  __attribute__((__crest_skip__)) ;
extern void __CrestApply1(int id , int op , long long val )  __attribute__((__crest_skip__)) ;
extern void __CrestClearStack(int id )  __attribute__((__crest_skip__)) ;
extern void __CrestStore(int id , unsigned long addr )  __attribute__((__crest_skip__)) ;
extern void __CrestLoad(int id , unsigned long addr , long long val )  __attribute__((__crest_skip__)) ;
#line 202 "../../bin/../include/crest.h"
extern void __CrestInt(int *x )  __attribute__((__crest_skip__)) ;
#line 2 "floppy.c"
void errorFn(void) ;
#line 3
void IofCompleteRequest(int Irp , int PriorityBoost ) ;
#line 5 "floppy.c"
int FloppyThread  ;
#line 6 "floppy.c"
int KernelMode  ;
#line 7 "floppy.c"
int Suspended  ;
#line 8 "floppy.c"
int Executive  ;
#line 9 "floppy.c"
int DiskController  ;
#line 10 "floppy.c"
int FloppyDiskPeripheral  ;
#line 11 "floppy.c"
int FlConfigCallBack  ;
#line 12 "floppy.c"
int MaximumInterfaceType  ;
#line 13 "floppy.c"
int MOUNTDEV_MOUNTED_DEVICE_GUID  ;
#line 14 "floppy.c"
int myStatus  ;
#line 15 "floppy.c"
int s  ;
#line 16 "floppy.c"
int UNLOADED  ;
#line 17 "floppy.c"
int NP  ;
#line 18 "floppy.c"
int DC  ;
#line 19 "floppy.c"
int SKIP1  ;
#line 20 "floppy.c"
int SKIP2  ;
#line 21 "floppy.c"
int MPR1  ;
#line 22 "floppy.c"
int MPR3  ;
#line 23 "floppy.c"
int IPC  ;
#line 24 "floppy.c"
int pended  ;
#line 25 "floppy.c"
int compRegistered  ;
#line 26 "floppy.c"
int lowerDriverReturn  ;
#line 27 "floppy.c"
int setEventCalled  ;
#line 28 "floppy.c"
int customIrp  ;
#line 30 "floppy.c"
void _BLAST_init(void) 
{ 


  {
  __CrestCall(1, 1);

  __CrestLoad(2, (unsigned long )0, (long long )0);
  __CrestStore(3, (unsigned long )(& UNLOADED));
#line 75
  UNLOADED = 0;
  __CrestLoad(4, (unsigned long )0, (long long )1);
  __CrestStore(5, (unsigned long )(& NP));
#line 76
  NP = 1;
  __CrestLoad(6, (unsigned long )0, (long long )2);
  __CrestStore(7, (unsigned long )(& DC));
#line 77
  DC = 2;
  __CrestLoad(8, (unsigned long )0, (long long )3);
  __CrestStore(9, (unsigned long )(& SKIP1));
#line 78
  SKIP1 = 3;
  __CrestLoad(10, (unsigned long )0, (long long )4);
  __CrestStore(11, (unsigned long )(& SKIP2));
#line 79
  SKIP2 = 4;
  __CrestLoad(12, (unsigned long )0, (long long )5);
  __CrestStore(13, (unsigned long )(& MPR1));
#line 80
  MPR1 = 5;
  __CrestLoad(14, (unsigned long )0, (long long )6);
  __CrestStore(15, (unsigned long )(& MPR3));
#line 81
  MPR3 = 6;
  __CrestLoad(16, (unsigned long )0, (long long )7);
  __CrestStore(17, (unsigned long )(& IPC));
#line 82
  IPC = 7;
  __CrestLoad(18, (unsigned long )(& UNLOADED), (long long )UNLOADED);
  __CrestStore(19, (unsigned long )(& s));
#line 83
  s = UNLOADED;
  __CrestLoad(20, (unsigned long )0, (long long )0);
  __CrestStore(21, (unsigned long )(& pended));
#line 84
  pended = 0;
  __CrestLoad(22, (unsigned long )0, (long long )0);
  __CrestStore(23, (unsigned long )(& compRegistered));
#line 85
  compRegistered = 0;
  __CrestLoad(24, (unsigned long )0, (long long )0);
  __CrestStore(25, (unsigned long )(& lowerDriverReturn));
#line 86
  lowerDriverReturn = 0;
  __CrestLoad(26, (unsigned long )0, (long long )0);
  __CrestStore(27, (unsigned long )(& setEventCalled));
#line 87
  setEventCalled = 0;
  __CrestLoad(28, (unsigned long )0, (long long )0);
  __CrestStore(29, (unsigned long )(& customIrp));
#line 88
  customIrp = 0;

  {
  __CrestReturn(30);
#line 30
  return;
  }
}
}
#line 92 "floppy_simpl4.cil.c"
int PagingReferenceCount  =    0;
#line 93 "floppy_simpl4.cil.c"
int PagingMutex  =    0;
#line 94 "floppy_simpl4.cil.c"
int FlAcpiConfigureFloppy(int DisketteExtension , int FdcInfo ) 
{ 
  int __retres3 ;

  {
  __CrestCall(33, 2);
  __CrestStore(32, (unsigned long )(& FdcInfo));
  __CrestStore(31, (unsigned long )(& DisketteExtension));
  __CrestLoad(34, (unsigned long )0, (long long )0);
  __CrestStore(35, (unsigned long )(& __retres3));
#line 98
  __retres3 = 0;
  {
  __CrestLoad(36, (unsigned long )(& __retres3), (long long )__retres3);
  __CrestReturn(37);
#line 94
  return (__retres3);
  }
}
}
#line 131
int PsCreateSystemThread(int ThreadHandle , int DesiredAccess , int ObjectAttributes ,
                         int ProcessHandle , int ClientId , int StartRoutine , int StartContext ) ;
#line 147
int ObReferenceObjectByHandle(int Handle , int DesiredAccess , int ObjectType , int AccessMode ,
                              int Object , int HandleInformation ) ;
#line 149
int ZwClose(int Handle ) ;
#line 101 "floppy_simpl4.cil.c"
int FlQueueIrpToThread(int Irp , int DisketteExtension ) 
{ 
  int status ;
  int threadHandle ;
  int DisketteExtension__PoweringDown ;
  int DisketteExtension__ThreadReferenceCount ;
  int DisketteExtension__FloppyThread ;
  int Irp__IoStatus__Status ;
  int Irp__IoStatus__Information ;
  int ObjAttributes ;
  int __retres14 ;

  {
  __CrestCall(40, 3);
  __CrestStore(39, (unsigned long )(& DisketteExtension));
  __CrestStore(38, (unsigned long )(& Irp));
#line 103
  __CrestInt(& threadHandle);
#line 104
  __CrestInt(& DisketteExtension__PoweringDown);
#line 105
  __CrestInt(& DisketteExtension__ThreadReferenceCount);
#line 106
  __CrestInt(& DisketteExtension__FloppyThread);
#line 110
  __CrestInt(& ObjAttributes);
  {
  __CrestLoad(43, (unsigned long )(& DisketteExtension__PoweringDown), (long long )DisketteExtension__PoweringDown);
  __CrestLoad(42, (unsigned long )0, (long long )1);
  __CrestApply2(41, 12, (long long )(DisketteExtension__PoweringDown == 1));
#line 113
  if (DisketteExtension__PoweringDown == 1) {
    __CrestBranch(44, 8, 1);
    __CrestLoad(46, (unsigned long )0, (long long )-1073741101);
    __CrestStore(47, (unsigned long )(& myStatus));
#line 114
    myStatus = -1073741101;
    __CrestLoad(48, (unsigned long )0, (long long )-1073741101);
    __CrestStore(49, (unsigned long )(& Irp__IoStatus__Status));
#line 115
    Irp__IoStatus__Status = -1073741101;
    __CrestLoad(50, (unsigned long )0, (long long )0);
    __CrestStore(51, (unsigned long )(& Irp__IoStatus__Information));
#line 116
    Irp__IoStatus__Information = 0;
    __CrestLoad(52, (unsigned long )0, (long long )-1073741101);
    __CrestStore(53, (unsigned long )(& __retres14));
#line 117
    __retres14 = -1073741101;
#line 117
    goto return_label;
  } else {
    __CrestBranch(45, 11, 0);

  }
  }
  __CrestLoad(56, (unsigned long )(& DisketteExtension__ThreadReferenceCount), (long long )DisketteExtension__ThreadReferenceCount);
  __CrestLoad(55, (unsigned long )0, (long long )1);
  __CrestApply2(54, 0, (long long )(DisketteExtension__ThreadReferenceCount + 1));
  __CrestStore(57, (unsigned long )(& DisketteExtension__ThreadReferenceCount));
#line 121
  DisketteExtension__ThreadReferenceCount ++;
  {
  __CrestLoad(60, (unsigned long )(& DisketteExtension__ThreadReferenceCount), (long long )DisketteExtension__ThreadReferenceCount);
  __CrestLoad(59, (unsigned long )0, (long long )0);
  __CrestApply2(58, 12, (long long )(DisketteExtension__ThreadReferenceCount == 0));
#line 122
  if (DisketteExtension__ThreadReferenceCount == 0) {
    __CrestBranch(61, 14, 1);
    __CrestLoad(65, (unsigned long )(& DisketteExtension__ThreadReferenceCount), (long long )DisketteExtension__ThreadReferenceCount);
    __CrestLoad(64, (unsigned long )0, (long long )1);
    __CrestApply2(63, 0, (long long )(DisketteExtension__ThreadReferenceCount + 1));
    __CrestStore(66, (unsigned long )(& DisketteExtension__ThreadReferenceCount));
#line 123
    DisketteExtension__ThreadReferenceCount ++;
    __CrestLoad(69, (unsigned long )(& PagingReferenceCount), (long long )PagingReferenceCount);
    __CrestLoad(68, (unsigned long )0, (long long )1);
    __CrestApply2(67, 0, (long long )(PagingReferenceCount + 1));
    __CrestStore(70, (unsigned long )(& PagingReferenceCount));
#line 124
    PagingReferenceCount ++;
    __CrestLoad(71, (unsigned long )(& threadHandle), (long long )threadHandle);
    __CrestLoad(72, (unsigned long )0, (long long )0);
    __CrestLoad(73, (unsigned long )(& ObjAttributes), (long long )ObjAttributes);
    __CrestLoad(74, (unsigned long )0, (long long )0);
    __CrestLoad(75, (unsigned long )0, (long long )0);
    __CrestLoad(76, (unsigned long )(& FloppyThread), (long long )FloppyThread);
    __CrestLoad(77, (unsigned long )(& DisketteExtension), (long long )DisketteExtension);
#line 131
    status = PsCreateSystemThread(threadHandle, 0, ObjAttributes, 0, 0, FloppyThread,
                                  DisketteExtension);
    __CrestHandleReturn(79, (long long )status);
    __CrestStore(78, (unsigned long )(& status));
    {
    __CrestLoad(82, (unsigned long )(& status), (long long )status);
    __CrestLoad(81, (unsigned long )0, (long long )0);
    __CrestApply2(80, 16, (long long )(status < 0));
#line 134
    if (status < 0) {
      __CrestBranch(83, 16, 1);
      __CrestLoad(85, (unsigned long )0, (long long )-1);
      __CrestStore(86, (unsigned long )(& DisketteExtension__ThreadReferenceCount));
#line 135
      DisketteExtension__ThreadReferenceCount = -1;
      __CrestLoad(89, (unsigned long )(& PagingReferenceCount), (long long )PagingReferenceCount);
      __CrestLoad(88, (unsigned long )0, (long long )1);
      __CrestApply2(87, 1, (long long )(PagingReferenceCount - 1));
      __CrestStore(90, (unsigned long )(& PagingReferenceCount));
#line 136
      PagingReferenceCount --;
      __CrestLoad(91, (unsigned long )(& status), (long long )status);
      __CrestStore(92, (unsigned long )(& __retres14));
#line 142
      __retres14 = status;
#line 142
      goto return_label;
    } else {
      __CrestBranch(84, 19, 0);

    }
    }
    __CrestLoad(93, (unsigned long )(& threadHandle), (long long )threadHandle);
    __CrestLoad(94, (unsigned long )0, (long long )1048576);
    __CrestLoad(95, (unsigned long )0, (long long )0);
    __CrestLoad(96, (unsigned long )(& KernelMode), (long long )KernelMode);
    __CrestLoad(97, (unsigned long )(& DisketteExtension__FloppyThread), (long long )DisketteExtension__FloppyThread);
    __CrestLoad(98, (unsigned long )0, (long long )0);
#line 147
    status = ObReferenceObjectByHandle(threadHandle, 1048576, 0, KernelMode, DisketteExtension__FloppyThread,
                                       0);
    __CrestHandleReturn(100, (long long )status);
    __CrestStore(99, (unsigned long )(& status));
    __CrestLoad(101, (unsigned long )(& threadHandle), (long long )threadHandle);
#line 149
    ZwClose(threadHandle);
    __CrestClearStack(102);
    {
    __CrestLoad(105, (unsigned long )(& status), (long long )status);
    __CrestLoad(104, (unsigned long )0, (long long )0);
    __CrestApply2(103, 16, (long long )(status < 0));
#line 151
    if (status < 0) {
      __CrestBranch(106, 22, 1);
      __CrestLoad(108, (unsigned long )(& status), (long long )status);
      __CrestStore(109, (unsigned long )(& __retres14));
#line 152
      __retres14 = status;
#line 152
      goto return_label;
    } else {
      __CrestBranch(107, 24, 0);

    }
    }
  } else {
    __CrestBranch(62, 25, 0);

  }
  }
  {
  __CrestLoad(112, (unsigned long )(& pended), (long long )pended);
  __CrestLoad(111, (unsigned long )0, (long long )0);
  __CrestApply2(110, 12, (long long )(pended == 0));
#line 160
  if (pended == 0) {
    __CrestBranch(113, 27, 1);
    __CrestLoad(115, (unsigned long )0, (long long )1);
    __CrestStore(116, (unsigned long )(& pended));
#line 161
    pended = 1;
  } else {
    __CrestBranch(114, 28, 0);
#line 164
    errorFn();
    __CrestClearStack(117);
  }
  }
  __CrestLoad(118, (unsigned long )0, (long long )259);
  __CrestStore(119, (unsigned long )(& __retres14));
#line 167
  __retres14 = 259;
  return_label: /* CIL Label */ 
  {
  __CrestLoad(120, (unsigned long )(& __retres14), (long long )__retres14);
  __CrestReturn(121);
#line 101
  return (__retres14);
  }
}
}
#line 245
int FloppyStartDevice(int DeviceObject , int Irp ) ;
#line 266
int IofCallDriver(int DeviceObject , int Irp ) ;
#line 278
int KeWaitForSingleObject(int Object , int WaitReason , int WaitMode , int Alertable ,
                          int Timeout ) ;
#line 415
int IoSetDeviceInterfaceState(int SymbolicLinkName , int Enable ) ;
#line 423
int IoDeleteSymbolicLink(int SymbolicLinkName ) ;
#line 170 "floppy_simpl4.cil.c"
int FloppyPnp(int DeviceObject , int Irp ) 
{ 
  int DeviceObject__DeviceExtension ;
  int Irp__Tail__Overlay__CurrentStackLocation ;
  int Irp__IoStatus__Information ;
  int Irp__IoStatus__Status ;
  int Irp__CurrentLocation ;
  int disketteExtension__IsRemoved ;
  int disketteExtension__IsStarted ;
  int disketteExtension__TargetObject ;
  int disketteExtension__HoldNewRequests ;
  int disketteExtension__FloppyThread ;
  int disketteExtension__InterfaceString__Buffer ;
  int disketteExtension__InterfaceString ;
  int disketteExtension__ArcName__Length ;
  int disketteExtension__ArcName ;
  int irpSp__MinorFunction ;
  int IoGetConfigurationInformation__FloppyCount ;
  int irpSp ;
  int disketteExtension ;
  int ntStatus ;
  int doneEvent ;
  int irpSp___0 ;
  int nextIrpSp ;
  int nextIrpSp__Control ;
  int irpSp___1 ;
  int irpSp__Context ;
  int irpSp__Control ;
  long __cil_tmp29 ;
  long __cil_tmp30 ;
  int __retres31 ;

  {
  __CrestCall(124, 4);
  __CrestStore(123, (unsigned long )(& Irp));
  __CrestStore(122, (unsigned long )(& DeviceObject));
#line 171
  __CrestInt(& DeviceObject__DeviceExtension);
#line 172
  __CrestInt(& Irp__Tail__Overlay__CurrentStackLocation);
#line 175
  __CrestInt(& Irp__CurrentLocation);
#line 176
  __CrestInt(& disketteExtension__IsRemoved);
#line 177
  __CrestInt(& disketteExtension__IsStarted);
#line 178
  __CrestInt(& disketteExtension__TargetObject);
#line 180
  __CrestInt(& disketteExtension__FloppyThread);
#line 181
  __CrestInt(& disketteExtension__InterfaceString__Buffer);
#line 182
  __CrestInt(& disketteExtension__InterfaceString);
#line 183
  __CrestInt(& disketteExtension__ArcName__Length);
#line 184
  __CrestInt(& disketteExtension__ArcName);
#line 185
  __CrestInt(& irpSp__MinorFunction);
#line 186
  __CrestInt(& IoGetConfigurationInformation__FloppyCount);
#line 190
  __CrestInt(& doneEvent);
  __CrestLoad(125, (unsigned long )0, (long long )0);
  __CrestStore(126, (unsigned long )(& ntStatus));
#line 199
  ntStatus = 0;
  __CrestLoad(129, (unsigned long )(& PagingReferenceCount), (long long )PagingReferenceCount);
  __CrestLoad(128, (unsigned long )0, (long long )1);
  __CrestApply2(127, 0, (long long )(PagingReferenceCount + 1));
  __CrestStore(130, (unsigned long )(& PagingReferenceCount));
#line 200
  PagingReferenceCount ++;
  __CrestLoad(131, (unsigned long )(& DeviceObject__DeviceExtension), (long long )DeviceObject__DeviceExtension);
  __CrestStore(132, (unsigned long )(& disketteExtension));
#line 206
  disketteExtension = DeviceObject__DeviceExtension;
  __CrestLoad(133, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation), (long long )Irp__Tail__Overlay__CurrentStackLocation);
  __CrestStore(134, (unsigned long )(& irpSp));
#line 207
  irpSp = Irp__Tail__Overlay__CurrentStackLocation;
  {
  __CrestLoad(137, (unsigned long )(& disketteExtension__IsRemoved), (long long )disketteExtension__IsRemoved);
  __CrestLoad(136, (unsigned long )0, (long long )0);
  __CrestApply2(135, 13, (long long )(disketteExtension__IsRemoved != 0));
#line 208
  if (disketteExtension__IsRemoved != 0) {
    __CrestBranch(138, 33, 1);
    __CrestLoad(140, (unsigned long )0, (long long )0);
    __CrestStore(141, (unsigned long )(& Irp__IoStatus__Information));
#line 210
    Irp__IoStatus__Information = 0;
    __CrestLoad(142, (unsigned long )0, (long long )-1073741738);
    __CrestStore(143, (unsigned long )(& Irp__IoStatus__Status));
#line 211
    Irp__IoStatus__Status = -1073741738;
    __CrestLoad(144, (unsigned long )0, (long long )-1073741738);
    __CrestStore(145, (unsigned long )(& myStatus));
#line 212
    myStatus = -1073741738;
    __CrestLoad(146, (unsigned long )(& Irp), (long long )Irp);
    __CrestLoad(147, (unsigned long )0, (long long )0);
#line 213
    IofCompleteRequest(Irp, 0);
    __CrestClearStack(148);
    __CrestLoad(149, (unsigned long )0, (long long )-1073741738);
    __CrestStore(150, (unsigned long )(& __retres31));
#line 215
    __retres31 = -1073741738;
#line 215
    goto return_label;
  } else {
    __CrestBranch(139, 36, 0);

  }
  }
  {
  __CrestLoad(153, (unsigned long )(& irpSp__MinorFunction), (long long )irpSp__MinorFunction);
  __CrestLoad(152, (unsigned long )0, (long long )0);
  __CrestApply2(151, 12, (long long )(irpSp__MinorFunction == 0));
#line 219
  if (irpSp__MinorFunction == 0) {
    __CrestBranch(154, 38, 1);
#line 220
    goto switch_0_0;
  } else {
    __CrestBranch(155, 39, 0);
    {
    __CrestLoad(158, (unsigned long )(& irpSp__MinorFunction), (long long )irpSp__MinorFunction);
    __CrestLoad(157, (unsigned long )0, (long long )5);
    __CrestApply2(156, 12, (long long )(irpSp__MinorFunction == 5));
#line 222
    if (irpSp__MinorFunction == 5) {
      __CrestBranch(159, 40, 1);
#line 223
      goto switch_0_5;
    } else {
      __CrestBranch(160, 41, 0);
      {
      __CrestLoad(163, (unsigned long )(& irpSp__MinorFunction), (long long )irpSp__MinorFunction);
      __CrestLoad(162, (unsigned long )0, (long long )1);
      __CrestApply2(161, 12, (long long )(irpSp__MinorFunction == 1));
#line 225
      if (irpSp__MinorFunction == 1) {
        __CrestBranch(164, 42, 1);
#line 226
        goto switch_0_5;
      } else {
        __CrestBranch(165, 43, 0);
        {
        __CrestLoad(168, (unsigned long )(& irpSp__MinorFunction), (long long )irpSp__MinorFunction);
        __CrestLoad(167, (unsigned long )0, (long long )6);
        __CrestApply2(166, 12, (long long )(irpSp__MinorFunction == 6));
#line 228
        if (irpSp__MinorFunction == 6) {
          __CrestBranch(169, 44, 1);
#line 229
          goto switch_0_6;
        } else {
          __CrestBranch(170, 45, 0);
          {
          __CrestLoad(173, (unsigned long )(& irpSp__MinorFunction), (long long )irpSp__MinorFunction);
          __CrestLoad(172, (unsigned long )0, (long long )3);
          __CrestApply2(171, 12, (long long )(irpSp__MinorFunction == 3));
#line 231
          if (irpSp__MinorFunction == 3) {
            __CrestBranch(174, 46, 1);
#line 232
            goto switch_0_6;
          } else {
            __CrestBranch(175, 47, 0);
            {
            __CrestLoad(178, (unsigned long )(& irpSp__MinorFunction), (long long )irpSp__MinorFunction);
            __CrestLoad(177, (unsigned long )0, (long long )4);
            __CrestApply2(176, 12, (long long )(irpSp__MinorFunction == 4));
#line 234
            if (irpSp__MinorFunction == 4) {
              __CrestBranch(179, 48, 1);
#line 235
              goto switch_0_4;
            } else {
              __CrestBranch(180, 49, 0);
              {
              __CrestLoad(183, (unsigned long )(& irpSp__MinorFunction), (long long )irpSp__MinorFunction);
              __CrestLoad(182, (unsigned long )0, (long long )2);
              __CrestApply2(181, 12, (long long )(irpSp__MinorFunction == 2));
#line 237
              if (irpSp__MinorFunction == 2) {
                __CrestBranch(184, 50, 1);
#line 238
                goto switch_0_2;
              } else {
                __CrestBranch(185, 51, 0);
#line 240
                goto switch_0_default;
                {
                __CrestLoad(186, (unsigned long )0, (long long )(0 != 0));
#line 242
                if (0 != 0) {
                  __CrestBranch(187, 53, 1);
                  switch_0_0: 
                  __CrestLoad(189, (unsigned long )(& DeviceObject), (long long )DeviceObject);
                  __CrestLoad(190, (unsigned long )(& Irp), (long long )Irp);
#line 245
                  ntStatus = FloppyStartDevice(DeviceObject, Irp);
                  __CrestHandleReturn(192, (long long )ntStatus);
                  __CrestStore(191, (unsigned long )(& ntStatus));
#line 247
                  goto switch_0_break;
                  switch_0_5: ;
                  {
                  __CrestLoad(195, (unsigned long )(& disketteExtension__IsStarted),
                              (long long )disketteExtension__IsStarted);
                  __CrestLoad(194, (unsigned long )0, (long long )0);
                  __CrestApply2(193, 12, (long long )(disketteExtension__IsStarted == 0));
#line 255
                  if (disketteExtension__IsStarted == 0) {
                    __CrestBranch(196, 57, 1);
                    {
                    __CrestLoad(200, (unsigned long )(& s), (long long )s);
                    __CrestLoad(199, (unsigned long )(& NP), (long long )NP);
                    __CrestApply2(198, 12, (long long )(s == NP));
#line 256
                    if (s == NP) {
                      __CrestBranch(201, 58, 1);
                      __CrestLoad(203, (unsigned long )(& SKIP1), (long long )SKIP1);
                      __CrestStore(204, (unsigned long )(& s));
#line 257
                      s = SKIP1;
                    } else {
                      __CrestBranch(202, 59, 0);
#line 260
                      errorFn();
                      __CrestClearStack(205);
                    }
                    }
                    __CrestLoad(208, (unsigned long )(& Irp__CurrentLocation), (long long )Irp__CurrentLocation);
                    __CrestLoad(207, (unsigned long )0, (long long )1);
                    __CrestApply2(206, 0, (long long )(Irp__CurrentLocation + 1));
                    __CrestStore(209, (unsigned long )(& Irp__CurrentLocation));
#line 264
                    Irp__CurrentLocation ++;
                    __CrestLoad(212, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation),
                                (long long )Irp__Tail__Overlay__CurrentStackLocation);
                    __CrestLoad(211, (unsigned long )0, (long long )1);
                    __CrestApply2(210, 0, (long long )(Irp__Tail__Overlay__CurrentStackLocation + 1));
                    __CrestStore(213, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation));
#line 265
                    Irp__Tail__Overlay__CurrentStackLocation ++;
                    __CrestLoad(214, (unsigned long )(& disketteExtension__TargetObject),
                                (long long )disketteExtension__TargetObject);
                    __CrestLoad(215, (unsigned long )(& Irp), (long long )Irp);
#line 266
                    ntStatus = IofCallDriver(disketteExtension__TargetObject, Irp);
                    __CrestHandleReturn(217, (long long )ntStatus);
                    __CrestStore(216, (unsigned long )(& ntStatus));
                    __CrestLoad(218, (unsigned long )(& ntStatus), (long long )ntStatus);
                    __CrestStore(219, (unsigned long )(& __retres31));
#line 268
                    __retres31 = ntStatus;
#line 268
                    goto return_label;
                  } else {
                    __CrestBranch(197, 63, 0);

                  }
                  }
                  __CrestLoad(220, (unsigned long )0, (long long )1);
                  __CrestStore(221, (unsigned long )(& disketteExtension__HoldNewRequests));
#line 273
                  disketteExtension__HoldNewRequests = 1;
                  __CrestLoad(222, (unsigned long )(& Irp), (long long )Irp);
                  __CrestLoad(223, (unsigned long )(& disketteExtension), (long long )disketteExtension);
#line 274
                  ntStatus = FlQueueIrpToThread(Irp, disketteExtension);
                  __CrestHandleReturn(225, (long long )ntStatus);
                  __CrestStore(224, (unsigned long )(& ntStatus));
                  __CrestLoad(226, (unsigned long )(& ntStatus), (long long )ntStatus);
                  __CrestStore(227, (unsigned long )(& __cil_tmp29));
#line 276
                  __cil_tmp29 = (long )ntStatus;
                  {
                  __CrestLoad(230, (unsigned long )(& __cil_tmp29), (long long )__cil_tmp29);
                  __CrestLoad(229, (unsigned long )0, (long long )259L);
                  __CrestApply2(228, 12, (long long )(__cil_tmp29 == 259L));
#line 276
                  if (__cil_tmp29 == 259L) {
                    __CrestBranch(231, 66, 1);
                    __CrestLoad(233, (unsigned long )(& disketteExtension__FloppyThread),
                                (long long )disketteExtension__FloppyThread);
                    __CrestLoad(234, (unsigned long )(& Executive), (long long )Executive);
                    __CrestLoad(235, (unsigned long )(& KernelMode), (long long )KernelMode);
                    __CrestLoad(236, (unsigned long )0, (long long )0);
                    __CrestLoad(237, (unsigned long )0, (long long )0);
#line 278
                    KeWaitForSingleObject(disketteExtension__FloppyThread, Executive,
                                          KernelMode, 0, 0);
                    __CrestClearStack(238);
                    __CrestLoad(239, (unsigned long )0, (long long )0);
                    __CrestStore(240, (unsigned long )(& disketteExtension__FloppyThread));
#line 286
                    disketteExtension__FloppyThread = 0;
                    __CrestLoad(241, (unsigned long )0, (long long )0);
                    __CrestStore(242, (unsigned long )(& Irp__IoStatus__Status));
#line 287
                    Irp__IoStatus__Status = 0;
                    __CrestLoad(243, (unsigned long )0, (long long )0);
                    __CrestStore(244, (unsigned long )(& myStatus));
#line 288
                    myStatus = 0;
                    {
                    __CrestLoad(247, (unsigned long )(& s), (long long )s);
                    __CrestLoad(246, (unsigned long )(& NP), (long long )NP);
                    __CrestApply2(245, 12, (long long )(s == NP));
#line 289
                    if (s == NP) {
                      __CrestBranch(248, 68, 1);
                      __CrestLoad(250, (unsigned long )(& SKIP1), (long long )SKIP1);
                      __CrestStore(251, (unsigned long )(& s));
#line 290
                      s = SKIP1;
                    } else {
                      __CrestBranch(249, 69, 0);
#line 293
                      errorFn();
                      __CrestClearStack(252);
                    }
                    }
                    __CrestLoad(255, (unsigned long )(& Irp__CurrentLocation), (long long )Irp__CurrentLocation);
                    __CrestLoad(254, (unsigned long )0, (long long )1);
                    __CrestApply2(253, 0, (long long )(Irp__CurrentLocation + 1));
                    __CrestStore(256, (unsigned long )(& Irp__CurrentLocation));
#line 297
                    Irp__CurrentLocation ++;
                    __CrestLoad(259, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation),
                                (long long )Irp__Tail__Overlay__CurrentStackLocation);
                    __CrestLoad(258, (unsigned long )0, (long long )1);
                    __CrestApply2(257, 0, (long long )(Irp__Tail__Overlay__CurrentStackLocation + 1));
                    __CrestStore(260, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation));
#line 298
                    Irp__Tail__Overlay__CurrentStackLocation ++;
                    __CrestLoad(261, (unsigned long )(& disketteExtension__TargetObject),
                                (long long )disketteExtension__TargetObject);
                    __CrestLoad(262, (unsigned long )(& Irp), (long long )Irp);
#line 299
                    ntStatus = IofCallDriver(disketteExtension__TargetObject, Irp);
                    __CrestHandleReturn(264, (long long )ntStatus);
                    __CrestStore(263, (unsigned long )(& ntStatus));
                  } else {
                    __CrestBranch(232, 71, 0);
                    __CrestLoad(265, (unsigned long )0, (long long )-1073741823);
                    __CrestStore(266, (unsigned long )(& ntStatus));
#line 303
                    ntStatus = -1073741823;
                    __CrestLoad(267, (unsigned long )(& ntStatus), (long long )ntStatus);
                    __CrestStore(268, (unsigned long )(& Irp__IoStatus__Status));
#line 304
                    Irp__IoStatus__Status = ntStatus;
                    __CrestLoad(269, (unsigned long )(& ntStatus), (long long )ntStatus);
                    __CrestStore(270, (unsigned long )(& myStatus));
#line 305
                    myStatus = ntStatus;
                    __CrestLoad(271, (unsigned long )0, (long long )0);
                    __CrestStore(272, (unsigned long )(& Irp__IoStatus__Information));
#line 306
                    Irp__IoStatus__Information = 0;
                    __CrestLoad(273, (unsigned long )(& Irp), (long long )Irp);
                    __CrestLoad(274, (unsigned long )0, (long long )0);
#line 307
                    IofCompleteRequest(Irp, 0);
                    __CrestClearStack(275);
                  }
                  }
#line 311
                  goto switch_0_break;
                  switch_0_6: ;
                  {
                  __CrestLoad(278, (unsigned long )(& disketteExtension__IsStarted),
                              (long long )disketteExtension__IsStarted);
                  __CrestLoad(277, (unsigned long )0, (long long )0);
                  __CrestApply2(276, 12, (long long )(disketteExtension__IsStarted == 0));
#line 318
                  if (disketteExtension__IsStarted == 0) {
                    __CrestBranch(279, 75, 1);
                    __CrestLoad(281, (unsigned long )0, (long long )0);
                    __CrestStore(282, (unsigned long )(& Irp__IoStatus__Status));
#line 319
                    Irp__IoStatus__Status = 0;
                    __CrestLoad(283, (unsigned long )0, (long long )0);
                    __CrestStore(284, (unsigned long )(& myStatus));
#line 320
                    myStatus = 0;
                    {
                    __CrestLoad(287, (unsigned long )(& s), (long long )s);
                    __CrestLoad(286, (unsigned long )(& NP), (long long )NP);
                    __CrestApply2(285, 12, (long long )(s == NP));
#line 321
                    if (s == NP) {
                      __CrestBranch(288, 77, 1);
                      __CrestLoad(290, (unsigned long )(& SKIP1), (long long )SKIP1);
                      __CrestStore(291, (unsigned long )(& s));
#line 322
                      s = SKIP1;
                    } else {
                      __CrestBranch(289, 78, 0);
#line 325
                      errorFn();
                      __CrestClearStack(292);
                    }
                    }
                    __CrestLoad(295, (unsigned long )(& Irp__CurrentLocation), (long long )Irp__CurrentLocation);
                    __CrestLoad(294, (unsigned long )0, (long long )1);
                    __CrestApply2(293, 0, (long long )(Irp__CurrentLocation + 1));
                    __CrestStore(296, (unsigned long )(& Irp__CurrentLocation));
#line 329
                    Irp__CurrentLocation ++;
                    __CrestLoad(299, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation),
                                (long long )Irp__Tail__Overlay__CurrentStackLocation);
                    __CrestLoad(298, (unsigned long )0, (long long )1);
                    __CrestApply2(297, 0, (long long )(Irp__Tail__Overlay__CurrentStackLocation + 1));
                    __CrestStore(300, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation));
#line 330
                    Irp__Tail__Overlay__CurrentStackLocation ++;
                    __CrestLoad(301, (unsigned long )(& disketteExtension__TargetObject),
                                (long long )disketteExtension__TargetObject);
                    __CrestLoad(302, (unsigned long )(& Irp), (long long )Irp);
#line 331
                    ntStatus = IofCallDriver(disketteExtension__TargetObject, Irp);
                    __CrestHandleReturn(304, (long long )ntStatus);
                    __CrestStore(303, (unsigned long )(& ntStatus));
                  } else {
                    __CrestBranch(280, 80, 0);
                    __CrestLoad(305, (unsigned long )0, (long long )0);
                    __CrestStore(306, (unsigned long )(& Irp__IoStatus__Status));
#line 334
                    Irp__IoStatus__Status = 0;
                    __CrestLoad(307, (unsigned long )0, (long long )0);
                    __CrestStore(308, (unsigned long )(& myStatus));
#line 335
                    myStatus = 0;
                    __CrestLoad(309, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation),
                                (long long )Irp__Tail__Overlay__CurrentStackLocation);
                    __CrestStore(310, (unsigned long )(& irpSp___0));
#line 336
                    irpSp___0 = Irp__Tail__Overlay__CurrentStackLocation;
                    __CrestLoad(313, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation),
                                (long long )Irp__Tail__Overlay__CurrentStackLocation);
                    __CrestLoad(312, (unsigned long )0, (long long )1);
                    __CrestApply2(311, 1, (long long )(Irp__Tail__Overlay__CurrentStackLocation - 1));
                    __CrestStore(314, (unsigned long )(& nextIrpSp));
#line 337
                    nextIrpSp = Irp__Tail__Overlay__CurrentStackLocation - 1;
                    __CrestLoad(315, (unsigned long )0, (long long )0);
                    __CrestStore(316, (unsigned long )(& nextIrpSp__Control));
#line 338
                    nextIrpSp__Control = 0;
                    {
                    __CrestLoad(319, (unsigned long )(& s), (long long )s);
                    __CrestLoad(318, (unsigned long )(& NP), (long long )NP);
                    __CrestApply2(317, 13, (long long )(s != NP));
#line 339
                    if (s != NP) {
                      __CrestBranch(320, 82, 1);
#line 341
                      errorFn();
                      __CrestClearStack(322);
                    } else {
                      __CrestBranch(321, 83, 0);
                      {
                      __CrestLoad(325, (unsigned long )(& compRegistered), (long long )compRegistered);
                      __CrestLoad(324, (unsigned long )0, (long long )0);
                      __CrestApply2(323, 13, (long long )(compRegistered != 0));
#line 344
                      if (compRegistered != 0) {
                        __CrestBranch(326, 84, 1);
#line 346
                        errorFn();
                        __CrestClearStack(328);
                      } else {
                        __CrestBranch(327, 85, 0);
                        __CrestLoad(329, (unsigned long )0, (long long )1);
                        __CrestStore(330, (unsigned long )(& compRegistered));
#line 349
                        compRegistered = 1;
                      }
                      }
                    }
                    }
                    __CrestLoad(333, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation),
                                (long long )Irp__Tail__Overlay__CurrentStackLocation);
                    __CrestLoad(332, (unsigned long )0, (long long )1);
                    __CrestApply2(331, 1, (long long )(Irp__Tail__Overlay__CurrentStackLocation - 1));
                    __CrestStore(334, (unsigned long )(& irpSp___1));
#line 353
                    irpSp___1 = Irp__Tail__Overlay__CurrentStackLocation - 1;
                    __CrestLoad(335, (unsigned long )(& doneEvent), (long long )doneEvent);
                    __CrestStore(336, (unsigned long )(& irpSp__Context));
#line 354
                    irpSp__Context = doneEvent;
                    __CrestLoad(337, (unsigned long )0, (long long )224);
                    __CrestStore(338, (unsigned long )(& irpSp__Control));
#line 355
                    irpSp__Control = 224;
                    __CrestLoad(339, (unsigned long )(& disketteExtension__TargetObject),
                                (long long )disketteExtension__TargetObject);
                    __CrestLoad(340, (unsigned long )(& Irp), (long long )Irp);
#line 359
                    ntStatus = IofCallDriver(disketteExtension__TargetObject, Irp);
                    __CrestHandleReturn(342, (long long )ntStatus);
                    __CrestStore(341, (unsigned long )(& ntStatus));
                    __CrestLoad(343, (unsigned long )(& ntStatus), (long long )ntStatus);
                    __CrestStore(344, (unsigned long )(& __cil_tmp30));
#line 361
                    __cil_tmp30 = (long )ntStatus;
                    {
                    __CrestLoad(347, (unsigned long )(& __cil_tmp30), (long long )__cil_tmp30);
                    __CrestLoad(346, (unsigned long )0, (long long )259L);
                    __CrestApply2(345, 12, (long long )(__cil_tmp30 == 259L));
#line 361
                    if (__cil_tmp30 == 259L) {
                      __CrestBranch(348, 88, 1);
                      __CrestLoad(350, (unsigned long )(& doneEvent), (long long )doneEvent);
                      __CrestLoad(351, (unsigned long )(& Executive), (long long )Executive);
                      __CrestLoad(352, (unsigned long )(& KernelMode), (long long )KernelMode);
                      __CrestLoad(353, (unsigned long )0, (long long )0);
                      __CrestLoad(354, (unsigned long )0, (long long )0);
#line 363
                      KeWaitForSingleObject(doneEvent, Executive, KernelMode, 0, 0);
                      __CrestClearStack(355);
                      __CrestLoad(356, (unsigned long )(& myStatus), (long long )myStatus);
                      __CrestStore(357, (unsigned long )(& ntStatus));
#line 364
                      ntStatus = myStatus;
                    } else {
                      __CrestBranch(349, 89, 0);

                    }
                    }
                    __CrestLoad(358, (unsigned long )0, (long long )0);
                    __CrestStore(359, (unsigned long )(& disketteExtension__HoldNewRequests));
#line 370
                    disketteExtension__HoldNewRequests = 0;
                    __CrestLoad(360, (unsigned long )(& ntStatus), (long long )ntStatus);
                    __CrestStore(361, (unsigned long )(& Irp__IoStatus__Status));
#line 371
                    Irp__IoStatus__Status = ntStatus;
                    __CrestLoad(362, (unsigned long )(& ntStatus), (long long )ntStatus);
                    __CrestStore(363, (unsigned long )(& myStatus));
#line 372
                    myStatus = ntStatus;
                    __CrestLoad(364, (unsigned long )0, (long long )0);
                    __CrestStore(365, (unsigned long )(& Irp__IoStatus__Information));
#line 373
                    Irp__IoStatus__Information = 0;
                    __CrestLoad(366, (unsigned long )(& Irp), (long long )Irp);
                    __CrestLoad(367, (unsigned long )0, (long long )0);
#line 374
                    IofCompleteRequest(Irp, 0);
                    __CrestClearStack(368);
                  }
                  }
#line 377
                  goto switch_0_break;
                  switch_0_4: 
                  __CrestLoad(369, (unsigned long )0, (long long )0);
                  __CrestStore(370, (unsigned long )(& disketteExtension__IsStarted));
#line 379
                  disketteExtension__IsStarted = 0;
                  __CrestLoad(371, (unsigned long )0, (long long )0);
                  __CrestStore(372, (unsigned long )(& Irp__IoStatus__Status));
#line 380
                  Irp__IoStatus__Status = 0;
                  __CrestLoad(373, (unsigned long )0, (long long )0);
                  __CrestStore(374, (unsigned long )(& myStatus));
#line 381
                  myStatus = 0;
                  {
                  __CrestLoad(377, (unsigned long )(& s), (long long )s);
                  __CrestLoad(376, (unsigned long )(& NP), (long long )NP);
                  __CrestApply2(375, 12, (long long )(s == NP));
#line 382
                  if (s == NP) {
                    __CrestBranch(378, 94, 1);
                    __CrestLoad(380, (unsigned long )(& SKIP1), (long long )SKIP1);
                    __CrestStore(381, (unsigned long )(& s));
#line 383
                    s = SKIP1;
                  } else {
                    __CrestBranch(379, 95, 0);
#line 386
                    errorFn();
                    __CrestClearStack(382);
                  }
                  }
                  __CrestLoad(385, (unsigned long )(& Irp__CurrentLocation), (long long )Irp__CurrentLocation);
                  __CrestLoad(384, (unsigned long )0, (long long )1);
                  __CrestApply2(383, 0, (long long )(Irp__CurrentLocation + 1));
                  __CrestStore(386, (unsigned long )(& Irp__CurrentLocation));
#line 390
                  Irp__CurrentLocation ++;
                  __CrestLoad(389, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation),
                              (long long )Irp__Tail__Overlay__CurrentStackLocation);
                  __CrestLoad(388, (unsigned long )0, (long long )1);
                  __CrestApply2(387, 0, (long long )(Irp__Tail__Overlay__CurrentStackLocation + 1));
                  __CrestStore(390, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation));
#line 391
                  Irp__Tail__Overlay__CurrentStackLocation ++;
                  __CrestLoad(391, (unsigned long )(& disketteExtension__TargetObject),
                              (long long )disketteExtension__TargetObject);
                  __CrestLoad(392, (unsigned long )(& Irp), (long long )Irp);
#line 392
                  ntStatus = IofCallDriver(disketteExtension__TargetObject, Irp);
                  __CrestHandleReturn(394, (long long )ntStatus);
                  __CrestStore(393, (unsigned long )(& ntStatus));
#line 394
                  goto switch_0_break;
                  switch_0_2: 
                  __CrestLoad(395, (unsigned long )0, (long long )0);
                  __CrestStore(396, (unsigned long )(& disketteExtension__HoldNewRequests));
#line 396
                  disketteExtension__HoldNewRequests = 0;
                  __CrestLoad(397, (unsigned long )0, (long long )0);
                  __CrestStore(398, (unsigned long )(& disketteExtension__IsStarted));
#line 397
                  disketteExtension__IsStarted = 0;
                  __CrestLoad(399, (unsigned long )0, (long long )1);
                  __CrestStore(400, (unsigned long )(& disketteExtension__IsRemoved));
#line 398
                  disketteExtension__IsRemoved = 1;
                  {
                  __CrestLoad(403, (unsigned long )(& s), (long long )s);
                  __CrestLoad(402, (unsigned long )(& NP), (long long )NP);
                  __CrestApply2(401, 12, (long long )(s == NP));
#line 399
                  if (s == NP) {
                    __CrestBranch(404, 100, 1);
                    __CrestLoad(406, (unsigned long )(& SKIP1), (long long )SKIP1);
                    __CrestStore(407, (unsigned long )(& s));
#line 400
                    s = SKIP1;
                  } else {
                    __CrestBranch(405, 101, 0);
#line 403
                    errorFn();
                    __CrestClearStack(408);
                  }
                  }
                  __CrestLoad(411, (unsigned long )(& Irp__CurrentLocation), (long long )Irp__CurrentLocation);
                  __CrestLoad(410, (unsigned long )0, (long long )1);
                  __CrestApply2(409, 0, (long long )(Irp__CurrentLocation + 1));
                  __CrestStore(412, (unsigned long )(& Irp__CurrentLocation));
#line 407
                  Irp__CurrentLocation ++;
                  __CrestLoad(415, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation),
                              (long long )Irp__Tail__Overlay__CurrentStackLocation);
                  __CrestLoad(414, (unsigned long )0, (long long )1);
                  __CrestApply2(413, 0, (long long )(Irp__Tail__Overlay__CurrentStackLocation + 1));
                  __CrestStore(416, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation));
#line 408
                  Irp__Tail__Overlay__CurrentStackLocation ++;
                  __CrestLoad(417, (unsigned long )0, (long long )0);
                  __CrestStore(418, (unsigned long )(& Irp__IoStatus__Status));
#line 409
                  Irp__IoStatus__Status = 0;
                  __CrestLoad(419, (unsigned long )0, (long long )0);
                  __CrestStore(420, (unsigned long )(& myStatus));
#line 410
                  myStatus = 0;
                  __CrestLoad(421, (unsigned long )(& disketteExtension__TargetObject),
                              (long long )disketteExtension__TargetObject);
                  __CrestLoad(422, (unsigned long )(& Irp), (long long )Irp);
#line 411
                  ntStatus = IofCallDriver(disketteExtension__TargetObject, Irp);
                  __CrestHandleReturn(424, (long long )ntStatus);
                  __CrestStore(423, (unsigned long )(& ntStatus));
                  {
                  __CrestLoad(427, (unsigned long )(& disketteExtension__InterfaceString__Buffer),
                              (long long )disketteExtension__InterfaceString__Buffer);
                  __CrestLoad(426, (unsigned long )0, (long long )0);
                  __CrestApply2(425, 13, (long long )(disketteExtension__InterfaceString__Buffer != 0));
#line 413
                  if (disketteExtension__InterfaceString__Buffer != 0) {
                    __CrestBranch(428, 104, 1);
                    __CrestLoad(430, (unsigned long )(& disketteExtension__InterfaceString),
                                (long long )disketteExtension__InterfaceString);
                    __CrestLoad(431, (unsigned long )0, (long long )0);
#line 415
                    IoSetDeviceInterfaceState(disketteExtension__InterfaceString,
                                              0);
                    __CrestClearStack(432);
                  } else {
                    __CrestBranch(429, 105, 0);

                  }
                  }
                  {
                  __CrestLoad(435, (unsigned long )(& disketteExtension__ArcName__Length),
                              (long long )disketteExtension__ArcName__Length);
                  __CrestLoad(434, (unsigned long )0, (long long )0);
                  __CrestApply2(433, 13, (long long )(disketteExtension__ArcName__Length != 0));
#line 421
                  if (disketteExtension__ArcName__Length != 0) {
                    __CrestBranch(436, 107, 1);
                    __CrestLoad(438, (unsigned long )(& disketteExtension__ArcName),
                                (long long )disketteExtension__ArcName);
#line 423
                    IoDeleteSymbolicLink(disketteExtension__ArcName);
                    __CrestClearStack(439);
                  } else {
                    __CrestBranch(437, 108, 0);

                  }
                  }
                  __CrestLoad(442, (unsigned long )(& IoGetConfigurationInformation__FloppyCount),
                              (long long )IoGetConfigurationInformation__FloppyCount);
                  __CrestLoad(441, (unsigned long )0, (long long )1);
                  __CrestApply2(440, 1, (long long )(IoGetConfigurationInformation__FloppyCount - 1));
                  __CrestStore(443, (unsigned long )(& IoGetConfigurationInformation__FloppyCount));
#line 428
                  IoGetConfigurationInformation__FloppyCount --;
#line 429
                  goto switch_0_break;
                  switch_0_default: ;
                  {
                  __CrestLoad(446, (unsigned long )(& s), (long long )s);
                  __CrestLoad(445, (unsigned long )(& NP), (long long )NP);
                  __CrestApply2(444, 12, (long long )(s == NP));
#line 431
                  if (s == NP) {
                    __CrestBranch(447, 113, 1);
                    __CrestLoad(449, (unsigned long )(& SKIP1), (long long )SKIP1);
                    __CrestStore(450, (unsigned long )(& s));
#line 432
                    s = SKIP1;
                  } else {
                    __CrestBranch(448, 114, 0);
#line 435
                    errorFn();
                    __CrestClearStack(451);
                  }
                  }
                  __CrestLoad(454, (unsigned long )(& Irp__CurrentLocation), (long long )Irp__CurrentLocation);
                  __CrestLoad(453, (unsigned long )0, (long long )1);
                  __CrestApply2(452, 0, (long long )(Irp__CurrentLocation + 1));
                  __CrestStore(455, (unsigned long )(& Irp__CurrentLocation));
#line 439
                  Irp__CurrentLocation ++;
                  __CrestLoad(458, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation),
                              (long long )Irp__Tail__Overlay__CurrentStackLocation);
                  __CrestLoad(457, (unsigned long )0, (long long )1);
                  __CrestApply2(456, 0, (long long )(Irp__Tail__Overlay__CurrentStackLocation + 1));
                  __CrestStore(459, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation));
#line 440
                  Irp__Tail__Overlay__CurrentStackLocation ++;
                  __CrestLoad(460, (unsigned long )(& disketteExtension__TargetObject),
                              (long long )disketteExtension__TargetObject);
                  __CrestLoad(461, (unsigned long )(& Irp), (long long )Irp);
#line 441
                  ntStatus = IofCallDriver(disketteExtension__TargetObject, Irp);
                  __CrestHandleReturn(463, (long long )ntStatus);
                  __CrestStore(462, (unsigned long )(& ntStatus));
                } else {
                  __CrestBranch(188, 116, 0);
                  switch_0_break: ;
                }
                }
              }
              }
            }
            }
          }
          }
        }
        }
      }
      }
    }
    }
  }
  }
  __CrestLoad(466, (unsigned long )(& PagingReferenceCount), (long long )PagingReferenceCount);
  __CrestLoad(465, (unsigned long )0, (long long )1);
  __CrestApply2(464, 1, (long long )(PagingReferenceCount - 1));
  __CrestStore(467, (unsigned long )(& PagingReferenceCount));
#line 454
  PagingReferenceCount --;
  __CrestLoad(468, (unsigned long )(& ntStatus), (long long )ntStatus);
  __CrestStore(469, (unsigned long )(& __retres31));
#line 460
  __retres31 = ntStatus;
  return_label: /* CIL Label */ 
  {
  __CrestLoad(470, (unsigned long )(& __retres31), (long long )__retres31);
  __CrestReturn(471);
#line 170
  return (__retres31);
  }
}
}
#line 545
int FlFdcDeviceIo(int DeviceObject , int Ioctl , int Data ) ;
#line 581
int IoQueryDeviceDescription(int BusType , int BusNumber , int ControllerType , int ControllerNumber ,
                             int PeripheralType , int PeripheralNumber , int CalloutRoutine ,
                             int Context ) ;
#line 604
int IoRegisterDeviceInterface(int PhysicalDeviceObject , int InterfaceClassGuid ,
                              int ReferenceString , int SymbolicLinkName ) ;
#line 463 "floppy_simpl4.cil.c"
int FloppyStartDevice(int DeviceObject , int Irp ) 
{ 
  int DeviceObject__DeviceExtension ;
  int Irp__Tail__Overlay__CurrentStackLocation ;
  int Irp__IoStatus__Status ;
  int disketteExtension__TargetObject ;
  int disketteExtension__MaxTransferSize ;
  int disketteExtension__DriveType ;
  int disketteExtension__DeviceUnit ;
  int disketteExtension__DriveOnValue ;
  int disketteExtension__UnderlyingPDO ;
  int disketteExtension__InterfaceString ;
  int disketteExtension__IsStarted ;
  int disketteExtension__HoldNewRequests ;
  int ntStatus ;
  int pnpStatus ;
  int doneEvent ;
  int fdcInfo ;
  int fdcInfo__BufferCount ;
  int fdcInfo__BufferSize ;
  int fdcInfo__MaxTransferSize ;
  int fdcInfo__AcpiBios ;
  int fdcInfo__AcpiFdiSupported ;
  int fdcInfo__PeripheralNumber ;
  int fdcInfo__BusType ;
  int fdcInfo__ControllerNumber ;
  int fdcInfo__UnitNumber ;
  int fdcInfo__BusNumber ;
  int Dc ;
  int Fp ;
  int disketteExtension ;
  int irpSp ;
  int irpSp___0 ;
  int nextIrpSp ;
  int nextIrpSp__Control ;
  int irpSp___1 ;
  int irpSp__Control ;
  int irpSp__Context ;
  int InterfaceType ;
  int KUSER_SHARED_DATA__AlternativeArchitecture_NEC98x86 ;
  long __cil_tmp42 ;
  int __cil_tmp46 ;

  {
  __CrestCall(474, 5);
  __CrestStore(473, (unsigned long )(& Irp));
  __CrestStore(472, (unsigned long )(& DeviceObject));
#line 464
  __CrestInt(& DeviceObject__DeviceExtension);
#line 465
  __CrestInt(& Irp__Tail__Overlay__CurrentStackLocation);
#line 467
  __CrestInt(& disketteExtension__TargetObject);
#line 469
  __CrestInt(& disketteExtension__DriveType);
#line 473
  __CrestInt(& disketteExtension__UnderlyingPDO);
#line 474
  __CrestInt(& disketteExtension__InterfaceString);
#line 479
  __CrestInt(& doneEvent);
#line 480
  __CrestInt(& fdcInfo);
#line 483
  __CrestInt(& fdcInfo__MaxTransferSize);
#line 484
  __CrestInt(& fdcInfo__AcpiBios);
#line 485
  __CrestInt(& fdcInfo__AcpiFdiSupported);
#line 486
  __CrestInt(& fdcInfo__PeripheralNumber);
#line 488
  __CrestInt(& fdcInfo__ControllerNumber);
#line 489
  __CrestInt(& fdcInfo__UnitNumber);
#line 490
  __CrestInt(& fdcInfo__BusNumber);
#line 502
  __CrestInt(& KUSER_SHARED_DATA__AlternativeArchitecture_NEC98x86);
#line 507
  __CrestInt(& __cil_tmp46);
  __CrestLoad(475, (unsigned long )(& DiskController), (long long )DiskController);
  __CrestStore(476, (unsigned long )(& Dc));
#line 505
  Dc = DiskController;
  __CrestLoad(477, (unsigned long )(& FloppyDiskPeripheral), (long long )FloppyDiskPeripheral);
  __CrestStore(478, (unsigned long )(& Fp));
#line 506
  Fp = FloppyDiskPeripheral;
  __CrestLoad(479, (unsigned long )(& DeviceObject__DeviceExtension), (long long )DeviceObject__DeviceExtension);
  __CrestStore(480, (unsigned long )(& disketteExtension));
#line 507
  disketteExtension = DeviceObject__DeviceExtension;
  __CrestLoad(481, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation), (long long )Irp__Tail__Overlay__CurrentStackLocation);
  __CrestStore(482, (unsigned long )(& irpSp));
#line 508
  irpSp = Irp__Tail__Overlay__CurrentStackLocation;
  __CrestLoad(483, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation), (long long )Irp__Tail__Overlay__CurrentStackLocation);
  __CrestStore(484, (unsigned long )(& irpSp___0));
#line 509
  irpSp___0 = Irp__Tail__Overlay__CurrentStackLocation;
  __CrestLoad(487, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation), (long long )Irp__Tail__Overlay__CurrentStackLocation);
  __CrestLoad(486, (unsigned long )0, (long long )1);
  __CrestApply2(485, 1, (long long )(Irp__Tail__Overlay__CurrentStackLocation - 1));
  __CrestStore(488, (unsigned long )(& nextIrpSp));
#line 510
  nextIrpSp = Irp__Tail__Overlay__CurrentStackLocation - 1;
  __CrestLoad(489, (unsigned long )0, (long long )0);
  __CrestStore(490, (unsigned long )(& nextIrpSp__Control));
#line 511
  nextIrpSp__Control = 0;
  {
  __CrestLoad(493, (unsigned long )(& s), (long long )s);
  __CrestLoad(492, (unsigned long )(& NP), (long long )NP);
  __CrestApply2(491, 13, (long long )(s != NP));
#line 512
  if (s != NP) {
    __CrestBranch(494, 122, 1);
#line 514
    errorFn();
    __CrestClearStack(496);
  } else {
    __CrestBranch(495, 123, 0);
    {
    __CrestLoad(499, (unsigned long )(& compRegistered), (long long )compRegistered);
    __CrestLoad(498, (unsigned long )0, (long long )0);
    __CrestApply2(497, 13, (long long )(compRegistered != 0));
#line 517
    if (compRegistered != 0) {
      __CrestBranch(500, 124, 1);
#line 519
      errorFn();
      __CrestClearStack(502);
    } else {
      __CrestBranch(501, 125, 0);
      __CrestLoad(503, (unsigned long )0, (long long )1);
      __CrestStore(504, (unsigned long )(& compRegistered));
#line 522
      compRegistered = 1;
    }
    }
  }
  }
  __CrestLoad(507, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation), (long long )Irp__Tail__Overlay__CurrentStackLocation);
  __CrestLoad(506, (unsigned long )0, (long long )1);
  __CrestApply2(505, 1, (long long )(Irp__Tail__Overlay__CurrentStackLocation - 1));
  __CrestStore(508, (unsigned long )(& irpSp___1));
#line 526
  irpSp___1 = Irp__Tail__Overlay__CurrentStackLocation - 1;
  __CrestLoad(509, (unsigned long )(& doneEvent), (long long )doneEvent);
  __CrestStore(510, (unsigned long )(& irpSp__Context));
#line 527
  irpSp__Context = doneEvent;
  __CrestLoad(511, (unsigned long )0, (long long )224);
  __CrestStore(512, (unsigned long )(& irpSp__Control));
#line 528
  irpSp__Control = 224;
  __CrestLoad(513, (unsigned long )(& disketteExtension__TargetObject), (long long )disketteExtension__TargetObject);
  __CrestLoad(514, (unsigned long )(& Irp), (long long )Irp);
#line 532
  ntStatus = IofCallDriver(disketteExtension__TargetObject, Irp);
  __CrestHandleReturn(516, (long long )ntStatus);
  __CrestStore(515, (unsigned long )(& ntStatus));
  __CrestLoad(517, (unsigned long )(& ntStatus), (long long )ntStatus);
  __CrestStore(518, (unsigned long )(& __cil_tmp42));
#line 534
  __cil_tmp42 = (long )ntStatus;
  {
  __CrestLoad(521, (unsigned long )(& __cil_tmp42), (long long )__cil_tmp42);
  __CrestLoad(520, (unsigned long )0, (long long )259L);
  __CrestApply2(519, 12, (long long )(__cil_tmp42 == 259L));
#line 534
  if (__cil_tmp42 == 259L) {
    __CrestBranch(522, 128, 1);
    __CrestLoad(524, (unsigned long )(& doneEvent), (long long )doneEvent);
    __CrestLoad(525, (unsigned long )(& Executive), (long long )Executive);
    __CrestLoad(526, (unsigned long )(& KernelMode), (long long )KernelMode);
    __CrestLoad(527, (unsigned long )0, (long long )0);
    __CrestLoad(528, (unsigned long )0, (long long )0);
#line 536
    ntStatus = KeWaitForSingleObject(doneEvent, Executive, KernelMode, 0, 0);
    __CrestHandleReturn(530, (long long )ntStatus);
    __CrestStore(529, (unsigned long )(& ntStatus));
    __CrestLoad(531, (unsigned long )(& myStatus), (long long )myStatus);
    __CrestStore(532, (unsigned long )(& ntStatus));
#line 537
    ntStatus = myStatus;
  } else {
    __CrestBranch(523, 129, 0);

  }
  }
  __CrestLoad(533, (unsigned long )0, (long long )0);
  __CrestStore(534, (unsigned long )(& fdcInfo__BufferCount));
#line 543
  fdcInfo__BufferCount = 0;
  __CrestLoad(535, (unsigned long )0, (long long )0);
  __CrestStore(536, (unsigned long )(& fdcInfo__BufferSize));
#line 544
  fdcInfo__BufferSize = 0;
  __CrestLoad(537, (unsigned long )(& disketteExtension__TargetObject), (long long )disketteExtension__TargetObject);
  __CrestLoad(538, (unsigned long )(& __cil_tmp46), (long long )__cil_tmp46);
  __CrestLoad(539, (unsigned long )(& fdcInfo), (long long )fdcInfo);
#line 545
  ntStatus = FlFdcDeviceIo(disketteExtension__TargetObject, __cil_tmp46, fdcInfo);
  __CrestHandleReturn(541, (long long )ntStatus);
  __CrestStore(540, (unsigned long )(& ntStatus));
  {
  __CrestLoad(544, (unsigned long )(& ntStatus), (long long )ntStatus);
  __CrestLoad(543, (unsigned long )0, (long long )0);
  __CrestApply2(542, 17, (long long )(ntStatus >= 0));
#line 548
  if (ntStatus >= 0) {
    __CrestBranch(545, 132, 1);
    __CrestLoad(547, (unsigned long )(& fdcInfo__MaxTransferSize), (long long )fdcInfo__MaxTransferSize);
    __CrestStore(548, (unsigned long )(& disketteExtension__MaxTransferSize));
#line 549
    disketteExtension__MaxTransferSize = fdcInfo__MaxTransferSize;
    {
    __CrestLoad(551, (unsigned long )(& fdcInfo__AcpiBios), (long long )fdcInfo__AcpiBios);
    __CrestLoad(550, (unsigned long )0, (long long )0);
    __CrestApply2(549, 13, (long long )(fdcInfo__AcpiBios != 0));
#line 550
    if (fdcInfo__AcpiBios != 0) {
      __CrestBranch(552, 134, 1);
      {
      __CrestLoad(556, (unsigned long )(& fdcInfo__AcpiFdiSupported), (long long )fdcInfo__AcpiFdiSupported);
      __CrestLoad(555, (unsigned long )0, (long long )0);
      __CrestApply2(554, 13, (long long )(fdcInfo__AcpiFdiSupported != 0));
#line 551
      if (fdcInfo__AcpiFdiSupported != 0) {
        __CrestBranch(557, 135, 1);
        __CrestLoad(559, (unsigned long )(& disketteExtension), (long long )disketteExtension);
        __CrestLoad(560, (unsigned long )(& fdcInfo), (long long )fdcInfo);
#line 553
        ntStatus = FlAcpiConfigureFloppy(disketteExtension, fdcInfo);
        __CrestHandleReturn(562, (long long )ntStatus);
        __CrestStore(561, (unsigned long )(& ntStatus));
      } else {
        __CrestBranch(558, 136, 0);
#line 559
        goto _L;
      }
      }
    } else {
      __CrestBranch(553, 137, 0);
      _L: 
      __CrestLoad(563, (unsigned long )0, (long long )0);
      __CrestStore(564, (unsigned long )(& InterfaceType));
#line 570
      InterfaceType = 0;
      {
#line 572
      while (1) {
        while_continue: /* CIL Label */ ;

        {
        __CrestLoad(567, (unsigned long )(& InterfaceType), (long long )InterfaceType);
        __CrestLoad(566, (unsigned long )(& MaximumInterfaceType), (long long )MaximumInterfaceType);
        __CrestApply2(565, 17, (long long )(InterfaceType >= MaximumInterfaceType));
#line 574
        if (InterfaceType >= MaximumInterfaceType) {
          __CrestBranch(568, 143, 1);
#line 575
          goto while_1_break;
        } else {
          __CrestBranch(569, 144, 0);

        }
        }
        __CrestLoad(570, (unsigned long )(& InterfaceType), (long long )InterfaceType);
        __CrestStore(571, (unsigned long )(& fdcInfo__BusType));
#line 580
        fdcInfo__BusType = InterfaceType;
        __CrestLoad(572, (unsigned long )(& fdcInfo__BusType), (long long )fdcInfo__BusType);
        __CrestLoad(573, (unsigned long )(& fdcInfo__BusNumber), (long long )fdcInfo__BusNumber);
        __CrestLoad(574, (unsigned long )(& Dc), (long long )Dc);
        __CrestLoad(575, (unsigned long )(& fdcInfo__ControllerNumber), (long long )fdcInfo__ControllerNumber);
        __CrestLoad(576, (unsigned long )(& Fp), (long long )Fp);
        __CrestLoad(577, (unsigned long )(& fdcInfo__PeripheralNumber), (long long )fdcInfo__PeripheralNumber);
        __CrestLoad(578, (unsigned long )(& FlConfigCallBack), (long long )FlConfigCallBack);
        __CrestLoad(579, (unsigned long )(& disketteExtension), (long long )disketteExtension);
#line 581
        ntStatus = IoQueryDeviceDescription(fdcInfo__BusType, fdcInfo__BusNumber,
                                            Dc, fdcInfo__ControllerNumber, Fp, fdcInfo__PeripheralNumber,
                                            FlConfigCallBack, disketteExtension);
        __CrestHandleReturn(581, (long long )ntStatus);
        __CrestStore(580, (unsigned long )(& ntStatus));
        {
        __CrestLoad(584, (unsigned long )(& ntStatus), (long long )ntStatus);
        __CrestLoad(583, (unsigned long )0, (long long )0);
        __CrestApply2(582, 17, (long long )(ntStatus >= 0));
#line 585
        if (ntStatus >= 0) {
          __CrestBranch(585, 147, 1);
#line 586
          goto while_1_break;
        } else {
          __CrestBranch(586, 148, 0);

        }
        }
        __CrestLoad(589, (unsigned long )(& InterfaceType), (long long )InterfaceType);
        __CrestLoad(588, (unsigned long )0, (long long )1);
        __CrestApply2(587, 0, (long long )(InterfaceType + 1));
        __CrestStore(590, (unsigned long )(& InterfaceType));
#line 590
        InterfaceType ++;
      }
      while_break: /* CIL Label */ ;
      }

      while_1_break: ;
    }
    }
    {
    __CrestLoad(593, (unsigned long )(& ntStatus), (long long )ntStatus);
    __CrestLoad(592, (unsigned long )0, (long long )0);
    __CrestApply2(591, 17, (long long )(ntStatus >= 0));
#line 595
    if (ntStatus >= 0) {
      __CrestBranch(594, 154, 1);
      {
      __CrestLoad(598, (unsigned long )(& KUSER_SHARED_DATA__AlternativeArchitecture_NEC98x86),
                  (long long )KUSER_SHARED_DATA__AlternativeArchitecture_NEC98x86);
      __CrestLoad(597, (unsigned long )0, (long long )0);
      __CrestApply2(596, 13, (long long )(KUSER_SHARED_DATA__AlternativeArchitecture_NEC98x86 != 0));
#line 596
      if (KUSER_SHARED_DATA__AlternativeArchitecture_NEC98x86 != 0) {
        __CrestBranch(599, 155, 1);
        __CrestLoad(601, (unsigned long )(& fdcInfo__UnitNumber), (long long )fdcInfo__UnitNumber);
        __CrestStore(602, (unsigned long )(& disketteExtension__DeviceUnit));
#line 597
        disketteExtension__DeviceUnit = fdcInfo__UnitNumber;
        __CrestLoad(603, (unsigned long )(& fdcInfo__UnitNumber), (long long )fdcInfo__UnitNumber);
        __CrestStore(604, (unsigned long )(& disketteExtension__DriveOnValue));
#line 598
        disketteExtension__DriveOnValue = fdcInfo__UnitNumber;
      } else {
        __CrestBranch(600, 156, 0);
        __CrestLoad(605, (unsigned long )(& fdcInfo__PeripheralNumber), (long long )fdcInfo__PeripheralNumber);
        __CrestStore(606, (unsigned long )(& disketteExtension__DeviceUnit));
#line 600
        disketteExtension__DeviceUnit = fdcInfo__PeripheralNumber;
      }
      }
      __CrestLoad(607, (unsigned long )(& disketteExtension__UnderlyingPDO), (long long )disketteExtension__UnderlyingPDO);
      __CrestLoad(608, (unsigned long )(& MOUNTDEV_MOUNTED_DEVICE_GUID), (long long )MOUNTDEV_MOUNTED_DEVICE_GUID);
      __CrestLoad(609, (unsigned long )0, (long long )0);
      __CrestLoad(610, (unsigned long )(& disketteExtension__InterfaceString), (long long )disketteExtension__InterfaceString);
#line 604
      pnpStatus = IoRegisterDeviceInterface(disketteExtension__UnderlyingPDO, MOUNTDEV_MOUNTED_DEVICE_GUID,
                                            0, disketteExtension__InterfaceString);
      __CrestHandleReturn(612, (long long )pnpStatus);
      __CrestStore(611, (unsigned long )(& pnpStatus));
      {
      __CrestLoad(615, (unsigned long )(& pnpStatus), (long long )pnpStatus);
      __CrestLoad(614, (unsigned long )0, (long long )0);
      __CrestApply2(613, 17, (long long )(pnpStatus >= 0));
#line 607
      if (pnpStatus >= 0) {
        __CrestBranch(616, 159, 1);
        __CrestLoad(618, (unsigned long )(& disketteExtension__InterfaceString), (long long )disketteExtension__InterfaceString);
        __CrestLoad(619, (unsigned long )0, (long long )1);
#line 609
        pnpStatus = IoSetDeviceInterfaceState(disketteExtension__InterfaceString,
                                              1);
        __CrestHandleReturn(621, (long long )pnpStatus);
        __CrestStore(620, (unsigned long )(& pnpStatus));
      } else {
        __CrestBranch(617, 160, 0);

      }
      }
      __CrestLoad(622, (unsigned long )0, (long long )1);
      __CrestStore(623, (unsigned long )(& disketteExtension__IsStarted));
#line 615
      disketteExtension__IsStarted = 1;
      __CrestLoad(624, (unsigned long )0, (long long )0);
      __CrestStore(625, (unsigned long )(& disketteExtension__HoldNewRequests));
#line 616
      disketteExtension__HoldNewRequests = 0;
    } else {
      __CrestBranch(595, 162, 0);

    }
    }
  } else {
    __CrestBranch(546, 163, 0);

  }
  }
  __CrestLoad(626, (unsigned long )(& ntStatus), (long long )ntStatus);
  __CrestStore(627, (unsigned long )(& Irp__IoStatus__Status));
#line 624
  Irp__IoStatus__Status = ntStatus;
  __CrestLoad(628, (unsigned long )(& ntStatus), (long long )ntStatus);
  __CrestStore(629, (unsigned long )(& myStatus));
#line 625
  myStatus = ntStatus;
  __CrestLoad(630, (unsigned long )(& Irp), (long long )Irp);
  __CrestLoad(631, (unsigned long )0, (long long )0);
#line 626
  IofCompleteRequest(Irp, 0);
  __CrestClearStack(632);
  {
  __CrestLoad(633, (unsigned long )(& ntStatus), (long long )ntStatus);
  __CrestReturn(634);
#line 628
  return (ntStatus);
  }
}
}
#line 636
int KeSetEvent(int Event , int Increment , int Wait ) ;
#line 631 "floppy_simpl4.cil.c"
int FloppyPnpComplete(int DeviceObject , int Irp , int Context ) 
{ 
  int __retres4 ;

  {
  __CrestCall(638, 6);
  __CrestStore(637, (unsigned long )(& Context));
  __CrestStore(636, (unsigned long )(& Irp));
  __CrestStore(635, (unsigned long )(& DeviceObject));
  __CrestLoad(639, (unsigned long )(& Context), (long long )Context);
  __CrestLoad(640, (unsigned long )0, (long long )1);
  __CrestLoad(641, (unsigned long )0, (long long )0);
#line 636
  KeSetEvent(Context, 1, 0);
  __CrestClearStack(642);
  __CrestLoad(643, (unsigned long )0, (long long )-1073741802);
  __CrestStore(644, (unsigned long )(& __retres4));
#line 638
  __retres4 = -1073741802;
  {
  __CrestLoad(645, (unsigned long )(& __retres4), (long long )__retres4);
  __CrestReturn(646);
#line 631
  return (__retres4);
  }
}
}
#line 652
int IoBuildDeviceIoControlRequest(int IoControlCode , int DeviceObject , int InputBuffer ,
                                  int InputBufferLength , int OutputBuffer , int OutputBufferLength ,
                                  int InternalDeviceIoControl , int Event , int IoStatusBlock ) ;
#line 641 "floppy_simpl4.cil.c"
int FlFdcDeviceIo(int DeviceObject , int Ioctl , int Data ) 
{ 
  int ntStatus ;
  int irp ;
  int irpStack ;
  int doneEvent ;
  int ioStatus ;
  int irp__Tail__Overlay__CurrentStackLocation ;
  int irpStack__Parameters__DeviceIoControl__Type3InputBuffer ;
  long __cil_tmp11 ;
  int __retres12 ;

  {
  __CrestCall(650, 7);
  __CrestStore(649, (unsigned long )(& Data));
  __CrestStore(648, (unsigned long )(& Ioctl));
  __CrestStore(647, (unsigned long )(& DeviceObject));
#line 645
  __CrestInt(& doneEvent);
#line 646
  __CrestInt(& ioStatus);
#line 647
  __CrestInt(& irp__Tail__Overlay__CurrentStackLocation);
  __CrestLoad(651, (unsigned long )(& Ioctl), (long long )Ioctl);
  __CrestLoad(652, (unsigned long )(& DeviceObject), (long long )DeviceObject);
  __CrestLoad(653, (unsigned long )0, (long long )0);
  __CrestLoad(654, (unsigned long )0, (long long )0);
  __CrestLoad(655, (unsigned long )0, (long long )0);
  __CrestLoad(656, (unsigned long )0, (long long )0);
  __CrestLoad(657, (unsigned long )0, (long long )1);
  __CrestLoad(658, (unsigned long )(& doneEvent), (long long )doneEvent);
  __CrestLoad(659, (unsigned long )(& ioStatus), (long long )ioStatus);
#line 652
  irp = IoBuildDeviceIoControlRequest(Ioctl, DeviceObject, 0, 0, 0, 0, 1, doneEvent,
                                      ioStatus);
  __CrestHandleReturn(661, (long long )irp);
  __CrestStore(660, (unsigned long )(& irp));
  {
  __CrestLoad(664, (unsigned long )(& irp), (long long )irp);
  __CrestLoad(663, (unsigned long )0, (long long )0);
  __CrestApply2(662, 12, (long long )(irp == 0));
#line 655
  if (irp == 0) {
    __CrestBranch(665, 171, 1);
    __CrestLoad(667, (unsigned long )0, (long long )-1073741670);
    __CrestStore(668, (unsigned long )(& __retres12));
#line 656
    __retres12 = -1073741670;
#line 656
    goto return_label;
  } else {
    __CrestBranch(666, 173, 0);

  }
  }
  __CrestLoad(671, (unsigned long )(& irp__Tail__Overlay__CurrentStackLocation), (long long )irp__Tail__Overlay__CurrentStackLocation);
  __CrestLoad(670, (unsigned long )0, (long long )1);
  __CrestApply2(669, 1, (long long )(irp__Tail__Overlay__CurrentStackLocation - 1));
  __CrestStore(672, (unsigned long )(& irpStack));
#line 661
  irpStack = irp__Tail__Overlay__CurrentStackLocation - 1;
  __CrestLoad(673, (unsigned long )(& Data), (long long )Data);
  __CrestStore(674, (unsigned long )(& irpStack__Parameters__DeviceIoControl__Type3InputBuffer));
#line 662
  irpStack__Parameters__DeviceIoControl__Type3InputBuffer = Data;
  __CrestLoad(675, (unsigned long )(& DeviceObject), (long long )DeviceObject);
  __CrestLoad(676, (unsigned long )(& irp), (long long )irp);
#line 663
  ntStatus = IofCallDriver(DeviceObject, irp);
  __CrestHandleReturn(678, (long long )ntStatus);
  __CrestStore(677, (unsigned long )(& ntStatus));
  __CrestLoad(679, (unsigned long )(& ntStatus), (long long )ntStatus);
  __CrestStore(680, (unsigned long )(& __cil_tmp11));
#line 665
  __cil_tmp11 = (long )ntStatus;
  {
  __CrestLoad(683, (unsigned long )(& __cil_tmp11), (long long )__cil_tmp11);
  __CrestLoad(682, (unsigned long )0, (long long )259L);
  __CrestApply2(681, 12, (long long )(__cil_tmp11 == 259L));
#line 665
  if (__cil_tmp11 == 259L) {
    __CrestBranch(684, 176, 1);
    __CrestLoad(686, (unsigned long )(& doneEvent), (long long )doneEvent);
    __CrestLoad(687, (unsigned long )(& Suspended), (long long )Suspended);
    __CrestLoad(688, (unsigned long )(& KernelMode), (long long )KernelMode);
    __CrestLoad(689, (unsigned long )0, (long long )0);
    __CrestLoad(690, (unsigned long )0, (long long )0);
#line 667
    KeWaitForSingleObject(doneEvent, Suspended, KernelMode, 0, 0);
    __CrestClearStack(691);
    __CrestLoad(692, (unsigned long )(& myStatus), (long long )myStatus);
    __CrestStore(693, (unsigned long )(& ntStatus));
#line 668
    ntStatus = myStatus;
  } else {
    __CrestBranch(685, 177, 0);

  }
  }
  __CrestLoad(694, (unsigned long )(& ntStatus), (long long )ntStatus);
  __CrestStore(695, (unsigned long )(& __retres12));
#line 673
  __retres12 = ntStatus;
  return_label: /* CIL Label */ 
  {
  __CrestLoad(696, (unsigned long )(& __retres12), (long long )__retres12);
  __CrestReturn(697);
#line 641
  return (__retres12);
  }
}
}
#line 676 "floppy_simpl4.cil.c"
void FloppyProcessQueuedRequests(int DisketteExtension ) 
{ 


  {
  __CrestCall(699, 8);
  __CrestStore(698, (unsigned long )(& DisketteExtension));

  {
  __CrestReturn(700);
#line 676
  return;
  }
}
}
#line 683 "floppy_simpl4.cil.c"
void stub_driver_init(void) 
{ 


  {
  __CrestCall(701, 9);

  __CrestLoad(702, (unsigned long )(& NP), (long long )NP);
  __CrestStore(703, (unsigned long )(& s));
#line 687
  s = NP;
  __CrestLoad(704, (unsigned long )0, (long long )0);
  __CrestStore(705, (unsigned long )(& pended));
#line 688
  pended = 0;
  __CrestLoad(706, (unsigned long )0, (long long )0);
  __CrestStore(707, (unsigned long )(& compRegistered));
#line 689
  compRegistered = 0;
  __CrestLoad(708, (unsigned long )0, (long long )0);
  __CrestStore(709, (unsigned long )(& lowerDriverReturn));
#line 690
  lowerDriverReturn = 0;
  __CrestLoad(710, (unsigned long )0, (long long )0);
  __CrestStore(711, (unsigned long )(& setEventCalled));
#line 691
  setEventCalled = 0;
  __CrestLoad(712, (unsigned long )0, (long long )0);
  __CrestStore(713, (unsigned long )(& customIrp));
#line 692
  customIrp = 0;

  {
  __CrestReturn(714);
#line 683
  return;
  }
}
}
#line 751
int FloppyCreateClose(int DeviceObject , int Irp ) ;
#line 761
int FloppyDeviceControl(int DeviceObject , int Irp ) ;
#line 696 "floppy_simpl4.cil.c"
int main(void) 
{ 
  int status ;
  int irp ;
  int pirp ;
  int pirp__IoStatus__Status ;
  int irp_choice ;
  int devobj ;
  int tmp_ndt_1 ;
  int tmp_ndt_2 ;
  int tmp_ndt_3 ;
  int tmp_ndt_4 ;
  int __retres12 ;

  {
  __globinit_floppy();
  __CrestCall(715, 10);
#line 698
  __CrestInt(& irp);
#line 701
  __CrestInt(& irp_choice);
#line 702
  __CrestInt(& devobj);
  __CrestLoad(716, (unsigned long )0, (long long )0);
  __CrestStore(717, (unsigned long )(& FloppyThread));
#line 705
  FloppyThread = 0;
  __CrestLoad(718, (unsigned long )0, (long long )0);
  __CrestStore(719, (unsigned long )(& KernelMode));
#line 706
  KernelMode = 0;
  __CrestLoad(720, (unsigned long )0, (long long )0);
  __CrestStore(721, (unsigned long )(& Suspended));
#line 707
  Suspended = 0;
  __CrestLoad(722, (unsigned long )0, (long long )0);
  __CrestStore(723, (unsigned long )(& Executive));
#line 708
  Executive = 0;
  __CrestLoad(724, (unsigned long )0, (long long )0);
  __CrestStore(725, (unsigned long )(& DiskController));
#line 709
  DiskController = 0;
  __CrestLoad(726, (unsigned long )0, (long long )0);
  __CrestStore(727, (unsigned long )(& FloppyDiskPeripheral));
#line 710
  FloppyDiskPeripheral = 0;
  __CrestLoad(728, (unsigned long )0, (long long )0);
  __CrestStore(729, (unsigned long )(& FlConfigCallBack));
#line 711
  FlConfigCallBack = 0;
  __CrestLoad(730, (unsigned long )0, (long long )0);
  __CrestStore(731, (unsigned long )(& MaximumInterfaceType));
#line 712
  MaximumInterfaceType = 0;
  __CrestLoad(732, (unsigned long )0, (long long )0);
  __CrestStore(733, (unsigned long )(& MOUNTDEV_MOUNTED_DEVICE_GUID));
#line 713
  MOUNTDEV_MOUNTED_DEVICE_GUID = 0;
  __CrestLoad(734, (unsigned long )0, (long long )0);
  __CrestStore(735, (unsigned long )(& myStatus));
#line 714
  myStatus = 0;
  __CrestLoad(736, (unsigned long )0, (long long )0);
  __CrestStore(737, (unsigned long )(& s));
#line 715
  s = 0;
  __CrestLoad(738, (unsigned long )0, (long long )0);
  __CrestStore(739, (unsigned long )(& UNLOADED));
#line 716
  UNLOADED = 0;
  __CrestLoad(740, (unsigned long )0, (long long )0);
  __CrestStore(741, (unsigned long )(& NP));
#line 717
  NP = 0;
  __CrestLoad(742, (unsigned long )0, (long long )0);
  __CrestStore(743, (unsigned long )(& DC));
#line 718
  DC = 0;
  __CrestLoad(744, (unsigned long )0, (long long )0);
  __CrestStore(745, (unsigned long )(& SKIP1));
#line 719
  SKIP1 = 0;
  __CrestLoad(746, (unsigned long )0, (long long )0);
  __CrestStore(747, (unsigned long )(& SKIP2));
#line 720
  SKIP2 = 0;
  __CrestLoad(748, (unsigned long )0, (long long )0);
  __CrestStore(749, (unsigned long )(& MPR1));
#line 721
  MPR1 = 0;
  __CrestLoad(750, (unsigned long )0, (long long )0);
  __CrestStore(751, (unsigned long )(& MPR3));
#line 722
  MPR3 = 0;
  __CrestLoad(752, (unsigned long )0, (long long )0);
  __CrestStore(753, (unsigned long )(& IPC));
#line 723
  IPC = 0;
  __CrestLoad(754, (unsigned long )0, (long long )0);
  __CrestStore(755, (unsigned long )(& pended));
#line 724
  pended = 0;
  __CrestLoad(756, (unsigned long )0, (long long )0);
  __CrestStore(757, (unsigned long )(& compRegistered));
#line 725
  compRegistered = 0;
  __CrestLoad(758, (unsigned long )0, (long long )0);
  __CrestStore(759, (unsigned long )(& lowerDriverReturn));
#line 726
  lowerDriverReturn = 0;
  __CrestLoad(760, (unsigned long )0, (long long )0);
  __CrestStore(761, (unsigned long )(& setEventCalled));
#line 727
  setEventCalled = 0;
  __CrestLoad(762, (unsigned long )0, (long long )0);
  __CrestStore(763, (unsigned long )(& customIrp));
#line 728
  customIrp = 0;
  __CrestLoad(764, (unsigned long )0, (long long )0);
  __CrestStore(765, (unsigned long )(& status));
#line 707
  status = 0;
  __CrestLoad(766, (unsigned long )(& irp), (long long )irp);
  __CrestStore(767, (unsigned long )(& pirp));
#line 708
  pirp = irp;
#line 709
  _BLAST_init();
  __CrestClearStack(768);
  __CrestLoad(771, (unsigned long )(& status), (long long )status);
  __CrestLoad(770, (unsigned long )0, (long long )0);
  __CrestApply2(769, 17, (long long )(status >= 0));
#line 711
  if (status >= 0) {
    __CrestBranch(772, 187, 1);
    __CrestLoad(774, (unsigned long )(& NP), (long long )NP);
    __CrestStore(775, (unsigned long )(& s));
#line 712
    s = NP;
    __CrestLoad(776, (unsigned long )0, (long long )0);
    __CrestStore(777, (unsigned long )(& customIrp));
#line 713
    customIrp = 0;
    __CrestLoad(778, (unsigned long )(& customIrp), (long long )customIrp);
    __CrestStore(779, (unsigned long )(& setEventCalled));
#line 714
    setEventCalled = customIrp;
    __CrestLoad(780, (unsigned long )(& setEventCalled), (long long )setEventCalled);
    __CrestStore(781, (unsigned long )(& lowerDriverReturn));
#line 715
    lowerDriverReturn = setEventCalled;
    __CrestLoad(782, (unsigned long )(& lowerDriverReturn), (long long )lowerDriverReturn);
    __CrestStore(783, (unsigned long )(& compRegistered));
#line 716
    compRegistered = lowerDriverReturn;
    __CrestLoad(784, (unsigned long )(& compRegistered), (long long )compRegistered);
    __CrestStore(785, (unsigned long )(& pended));
#line 717
    pended = compRegistered;
    __CrestLoad(786, (unsigned long )0, (long long )0);
    __CrestStore(787, (unsigned long )(& pirp__IoStatus__Status));
#line 718
    pirp__IoStatus__Status = 0;
    __CrestLoad(788, (unsigned long )0, (long long )0);
    __CrestStore(789, (unsigned long )(& myStatus));
#line 719
    myStatus = 0;
    {
    __CrestLoad(792, (unsigned long )(& irp_choice), (long long )irp_choice);
    __CrestLoad(791, (unsigned long )0, (long long )0);
    __CrestApply2(790, 12, (long long )(irp_choice == 0));
#line 720
    if (irp_choice == 0) {
      __CrestBranch(793, 189, 1);
      __CrestLoad(795, (unsigned long )0, (long long )-1073741637);
      __CrestStore(796, (unsigned long )(& pirp__IoStatus__Status));
#line 721
      pirp__IoStatus__Status = -1073741637;
      __CrestLoad(797, (unsigned long )0, (long long )-1073741637);
      __CrestStore(798, (unsigned long )(& myStatus));
#line 722
      myStatus = -1073741637;
    } else {
      __CrestBranch(794, 190, 0);

    }
    }
#line 727
    stub_driver_init();
    __CrestClearStack(799);
    {
    __CrestLoad(802, (unsigned long )(& status), (long long )status);
    __CrestLoad(801, (unsigned long )0, (long long )0);
    __CrestApply2(800, 16, (long long )(status < 0));
#line 729
    if (status < 0) {
      __CrestBranch(803, 193, 1);
      __CrestLoad(805, (unsigned long )0, (long long )-1);
      __CrestStore(806, (unsigned long )(& __retres12));
#line 730
      __retres12 = -1;
#line 730
      goto return_label;
    } else {
      __CrestBranch(804, 195, 0);

    }
    }
#line 735
    __CrestInt(& tmp_ndt_1);
    {
    __CrestLoad(809, (unsigned long )(& tmp_ndt_1), (long long )tmp_ndt_1);
    __CrestLoad(808, (unsigned long )0, (long long )0);
    __CrestApply2(807, 12, (long long )(tmp_ndt_1 == 0));
#line 736
    if (tmp_ndt_1 == 0) {
      __CrestBranch(810, 198, 1);
#line 737
      goto switch_2_0;
    } else {
      __CrestBranch(811, 199, 0);
#line 738
      __CrestInt(& tmp_ndt_2);
      {
      __CrestLoad(814, (unsigned long )(& tmp_ndt_2), (long long )tmp_ndt_2);
      __CrestLoad(813, (unsigned long )0, (long long )1);
      __CrestApply2(812, 12, (long long )(tmp_ndt_2 == 1));
#line 739
      if (tmp_ndt_2 == 1) {
        __CrestBranch(815, 201, 1);
#line 740
        goto switch_2_1;
      } else {
        __CrestBranch(816, 202, 0);
#line 741
        __CrestInt(& tmp_ndt_3);
        {
        __CrestLoad(819, (unsigned long )(& tmp_ndt_3), (long long )tmp_ndt_3);
        __CrestLoad(818, (unsigned long )0, (long long )2);
        __CrestApply2(817, 12, (long long )(tmp_ndt_3 == 2));
#line 742
        if (tmp_ndt_3 == 2) {
          __CrestBranch(820, 204, 1);
#line 743
          goto switch_2_2;
        } else {
          __CrestBranch(821, 205, 0);
#line 744
          __CrestInt(& tmp_ndt_4);
          {
          __CrestLoad(824, (unsigned long )(& tmp_ndt_4), (long long )tmp_ndt_4);
          __CrestLoad(823, (unsigned long )0, (long long )3);
          __CrestApply2(822, 12, (long long )(tmp_ndt_4 == 3));
#line 745
          if (tmp_ndt_4 == 3) {
            __CrestBranch(825, 207, 1);
#line 746
            goto switch_2_3;
          } else {
            __CrestBranch(826, 208, 0);
#line 748
            goto switch_2_default;
            {
            __CrestLoad(827, (unsigned long )0, (long long )(0 != 0));
#line 748
            if (0 != 0) {
              __CrestBranch(828, 210, 1);
              switch_2_0: 
              __CrestLoad(830, (unsigned long )(& devobj), (long long )devobj);
              __CrestLoad(831, (unsigned long )(& pirp), (long long )pirp);
#line 751
              status = FloppyCreateClose(devobj, pirp);
              __CrestHandleReturn(833, (long long )status);
              __CrestStore(832, (unsigned long )(& status));
#line 753
              goto switch_2_break;
              switch_2_1: 
              __CrestLoad(834, (unsigned long )(& devobj), (long long )devobj);
              __CrestLoad(835, (unsigned long )(& pirp), (long long )pirp);
#line 756
              status = FloppyCreateClose(devobj, pirp);
              __CrestHandleReturn(837, (long long )status);
              __CrestStore(836, (unsigned long )(& status));
#line 758
              goto switch_2_break;
              switch_2_2: 
              __CrestLoad(838, (unsigned long )(& devobj), (long long )devobj);
              __CrestLoad(839, (unsigned long )(& pirp), (long long )pirp);
#line 761
              status = FloppyDeviceControl(devobj, pirp);
              __CrestHandleReturn(841, (long long )status);
              __CrestStore(840, (unsigned long )(& status));
#line 763
              goto switch_2_break;
              switch_2_3: 
              __CrestLoad(842, (unsigned long )(& devobj), (long long )devobj);
              __CrestLoad(843, (unsigned long )(& pirp), (long long )pirp);
#line 766
              status = FloppyPnp(devobj, pirp);
              __CrestHandleReturn(845, (long long )status);
              __CrestStore(844, (unsigned long )(& status));
#line 768
              goto switch_2_break;
              switch_2_default: ;
              __CrestLoad(846, (unsigned long )0, (long long )-1);
              __CrestStore(847, (unsigned long )(& __retres12));
#line 770
              __retres12 = -1;
#line 770
              goto return_label;
            } else {
              __CrestBranch(829, 221, 0);
              switch_2_break: ;
            }
            }
          }
          }
        }
        }
      }
      }
    }
    }
  } else {
    __CrestBranch(773, 222, 0);

  }
  __CrestLoad(850, (unsigned long )(& pended), (long long )pended);
  __CrestLoad(849, (unsigned long )0, (long long )1);
  __CrestApply2(848, 12, (long long )(pended == 1));
#line 782
  if (pended == 1) {
    __CrestBranch(851, 224, 1);
    {
    __CrestLoad(855, (unsigned long )(& s), (long long )s);
    __CrestLoad(854, (unsigned long )(& NP), (long long )NP);
    __CrestApply2(853, 12, (long long )(s == NP));
#line 783
    if (s == NP) {
      __CrestBranch(856, 225, 1);
      __CrestLoad(858, (unsigned long )(& NP), (long long )NP);
      __CrestStore(859, (unsigned long )(& s));
#line 784
      s = NP;
    } else {
      __CrestBranch(857, 226, 0);
#line 786
      goto _L___2;
    }
    }
  } else {
    __CrestBranch(852, 227, 0);
    _L___2: 
    {
    __CrestLoad(862, (unsigned long )(& pended), (long long )pended);
    __CrestLoad(861, (unsigned long )0, (long long )1);
    __CrestApply2(860, 12, (long long )(pended == 1));
#line 790
    if (pended == 1) {
      __CrestBranch(863, 228, 1);
      {
      __CrestLoad(867, (unsigned long )(& s), (long long )s);
      __CrestLoad(866, (unsigned long )(& MPR3), (long long )MPR3);
      __CrestApply2(865, 12, (long long )(s == MPR3));
#line 791
      if (s == MPR3) {
        __CrestBranch(868, 229, 1);
        __CrestLoad(870, (unsigned long )(& MPR3), (long long )MPR3);
        __CrestStore(871, (unsigned long )(& s));
#line 792
        s = MPR3;
      } else {
        __CrestBranch(869, 230, 0);
#line 794
        goto _L___1;
      }
      }
    } else {
      __CrestBranch(864, 231, 0);
      _L___1: 
      {
      __CrestLoad(874, (unsigned long )(& s), (long long )s);
      __CrestLoad(873, (unsigned long )(& UNLOADED), (long long )UNLOADED);
      __CrestApply2(872, 13, (long long )(s != UNLOADED));
#line 798
      if (s != UNLOADED) {
        __CrestBranch(875, 232, 1);
        {
        __CrestLoad(879, (unsigned long )(& status), (long long )status);
        __CrestLoad(878, (unsigned long )0, (long long )-1);
        __CrestApply2(877, 13, (long long )(status != -1));
#line 801
        if (status != -1) {
          __CrestBranch(880, 233, 1);
          {
          __CrestLoad(884, (unsigned long )(& s), (long long )s);
          __CrestLoad(883, (unsigned long )(& SKIP2), (long long )SKIP2);
          __CrestApply2(882, 13, (long long )(s != SKIP2));
#line 804
          if (s != SKIP2) {
            __CrestBranch(885, 234, 1);
            {
            __CrestLoad(889, (unsigned long )(& s), (long long )s);
            __CrestLoad(888, (unsigned long )(& IPC), (long long )IPC);
            __CrestApply2(887, 13, (long long )(s != IPC));
#line 805
            if (s != IPC) {
              __CrestBranch(890, 235, 1);
              {
              __CrestLoad(894, (unsigned long )(& s), (long long )s);
              __CrestLoad(893, (unsigned long )(& DC), (long long )DC);
              __CrestApply2(892, 13, (long long )(s != DC));
#line 806
              if (s != DC) {
                __CrestBranch(895, 236, 1);
#line 808
                errorFn();
                __CrestClearStack(897);
              } else {
                __CrestBranch(896, 237, 0);
#line 811
                goto _L___0;
              }
              }
            } else {
              __CrestBranch(891, 238, 0);
#line 814
              goto _L___0;
            }
            }
          } else {
            __CrestBranch(886, 239, 0);
            _L___0: 
            {
            __CrestLoad(900, (unsigned long )(& pended), (long long )pended);
            __CrestLoad(899, (unsigned long )0, (long long )1);
            __CrestApply2(898, 12, (long long )(pended == 1));
#line 818
            if (pended == 1) {
              __CrestBranch(901, 240, 1);
              {
              __CrestLoad(905, (unsigned long )(& status), (long long )status);
              __CrestLoad(904, (unsigned long )0, (long long )259);
              __CrestApply2(903, 13, (long long )(status != 259));
#line 819
              if (status != 259) {
                __CrestBranch(906, 241, 1);
#line 820
                errorFn();
                __CrestClearStack(908);
              } else {
                __CrestBranch(907, 242, 0);

              }
              }
            } else {
              __CrestBranch(902, 243, 0);
              {
              __CrestLoad(911, (unsigned long )(& s), (long long )s);
              __CrestLoad(910, (unsigned long )(& DC), (long long )DC);
              __CrestApply2(909, 12, (long long )(s == DC));
#line 825
              if (s == DC) {
                __CrestBranch(912, 244, 1);
                {
                __CrestLoad(916, (unsigned long )(& status), (long long )status);
                __CrestLoad(915, (unsigned long )0, (long long )259);
                __CrestApply2(914, 12, (long long )(status == 259));
#line 826
                if (status == 259) {
                  __CrestBranch(917, 245, 1);
#line 828
                  errorFn();
                  __CrestClearStack(919);
                } else {
                  __CrestBranch(918, 246, 0);

                }
                }
              } else {
                __CrestBranch(913, 247, 0);
                {
                __CrestLoad(922, (unsigned long )(& status), (long long )status);
                __CrestLoad(921, (unsigned long )(& lowerDriverReturn), (long long )lowerDriverReturn);
                __CrestApply2(920, 13, (long long )(status != lowerDriverReturn));
#line 834
                if (status != lowerDriverReturn) {
                  __CrestBranch(923, 248, 1);
#line 836
                  errorFn();
                  __CrestClearStack(925);
                } else {
                  __CrestBranch(924, 249, 0);

                }
                }
              }
              }
            }
            }
          }
          }
        } else {
          __CrestBranch(881, 250, 0);

        }
        }
      } else {
        __CrestBranch(876, 251, 0);

      }
      }
    }
    }
  }
  __CrestLoad(926, (unsigned long )0, (long long )0);
  __CrestStore(927, (unsigned long )(& status));
#line 848
  status = 0;
  __CrestLoad(928, (unsigned long )(& status), (long long )status);
  __CrestStore(929, (unsigned long )(& __retres12));
#line 849
  __retres12 = status;
  return_label: /* CIL Label */ 
  {
  __CrestLoad(930, (unsigned long )(& __retres12), (long long )__retres12);
  __CrestReturn(931);
#line 696
  return (__retres12);
  }
}
}
#line 852 "floppy_simpl4.cil.c"
int IoBuildDeviceIoControlRequest(int IoControlCode , int DeviceObject , int InputBuffer ,
                                  int InputBufferLength , int OutputBuffer , int OutputBufferLength ,
                                  int InternalDeviceIoControl , int Event , int IoStatusBlock ) 
{ 
  int malloc ;
  int tmp_ndt_5 ;
  int __retres12 ;

  {
  __CrestCall(941, 11);
  __CrestStore(940, (unsigned long )(& IoStatusBlock));
  __CrestStore(939, (unsigned long )(& Event));
  __CrestStore(938, (unsigned long )(& InternalDeviceIoControl));
  __CrestStore(937, (unsigned long )(& OutputBufferLength));
  __CrestStore(936, (unsigned long )(& OutputBuffer));
  __CrestStore(935, (unsigned long )(& InputBufferLength));
  __CrestStore(934, (unsigned long )(& InputBuffer));
  __CrestStore(933, (unsigned long )(& DeviceObject));
  __CrestStore(932, (unsigned long )(& IoControlCode));
#line 856
  __CrestInt(& malloc);
  __CrestLoad(942, (unsigned long )0, (long long )1);
  __CrestStore(943, (unsigned long )(& customIrp));
#line 859
  customIrp = 1;
#line 861
  __CrestInt(& tmp_ndt_5);
  {
  __CrestLoad(946, (unsigned long )(& tmp_ndt_5), (long long )tmp_ndt_5);
  __CrestLoad(945, (unsigned long )0, (long long )0);
  __CrestApply2(944, 12, (long long )(tmp_ndt_5 == 0));
#line 862
  if (tmp_ndt_5 == 0) {
    __CrestBranch(947, 257, 1);
#line 863
    goto switch_3_0;
  } else {
    __CrestBranch(948, 258, 0);
#line 865
    goto switch_3_default;
    {
    __CrestLoad(949, (unsigned long )0, (long long )(0 != 0));
#line 865
    if (0 != 0) {
      __CrestBranch(950, 260, 1);
      switch_3_0: 
      __CrestLoad(952, (unsigned long )(& malloc), (long long )malloc);
      __CrestStore(953, (unsigned long )(& __retres12));
#line 867
      __retres12 = malloc;
#line 867
      goto return_label;
      switch_3_default: ;
      __CrestLoad(954, (unsigned long )0, (long long )0);
      __CrestStore(955, (unsigned long )(& __retres12));
#line 869
      __retres12 = 0;
#line 869
      goto return_label;
    } else {
      __CrestBranch(951, 265, 0);

    }
    }
  }
  }
  return_label: /* CIL Label */ 
  {
  __CrestLoad(956, (unsigned long )(& __retres12), (long long )__retres12);
  __CrestReturn(957);
#line 852
  return (__retres12);
  }
}
}
#line 877 "floppy_simpl4.cil.c"
int IoDeleteSymbolicLink(int SymbolicLinkName ) 
{ 
  int tmp_ndt_6 ;
  int __retres3 ;

  {
  __CrestCall(959, 12);
  __CrestStore(958, (unsigned long )(& SymbolicLinkName));
#line 882
  __CrestInt(& tmp_ndt_6);
  {
  __CrestLoad(962, (unsigned long )(& tmp_ndt_6), (long long )tmp_ndt_6);
  __CrestLoad(961, (unsigned long )0, (long long )0);
  __CrestApply2(960, 12, (long long )(tmp_ndt_6 == 0));
#line 883
  if (tmp_ndt_6 == 0) {
    __CrestBranch(963, 269, 1);
#line 884
    goto switch_4_0;
  } else {
    __CrestBranch(964, 270, 0);
#line 886
    goto switch_4_default;
    {
    __CrestLoad(965, (unsigned long )0, (long long )(0 != 0));
#line 886
    if (0 != 0) {
      __CrestBranch(966, 272, 1);
      switch_4_0: 
      __CrestLoad(968, (unsigned long )0, (long long )0);
      __CrestStore(969, (unsigned long )(& __retres3));
#line 888
      __retres3 = 0;
#line 888
      goto return_label;
      switch_4_default: ;
      __CrestLoad(970, (unsigned long )0, (long long )-1073741823);
      __CrestStore(971, (unsigned long )(& __retres3));
#line 890
      __retres3 = -1073741823;
#line 890
      goto return_label;
    } else {
      __CrestBranch(967, 277, 0);

    }
    }
  }
  }
  return_label: /* CIL Label */ 
  {
  __CrestLoad(972, (unsigned long )(& __retres3), (long long )__retres3);
  __CrestReturn(973);
#line 877
  return (__retres3);
  }
}
}
#line 898 "floppy_simpl4.cil.c"
int IoQueryDeviceDescription(int BusType , int BusNumber , int ControllerType , int ControllerNumber ,
                             int PeripheralType , int PeripheralNumber , int CalloutRoutine ,
                             int Context ) 
{ 
  int tmp_ndt_7 ;
  int __retres10 ;

  {
  __CrestCall(982, 13);
  __CrestStore(981, (unsigned long )(& Context));
  __CrestStore(980, (unsigned long )(& CalloutRoutine));
  __CrestStore(979, (unsigned long )(& PeripheralNumber));
  __CrestStore(978, (unsigned long )(& PeripheralType));
  __CrestStore(977, (unsigned long )(& ControllerNumber));
  __CrestStore(976, (unsigned long )(& ControllerType));
  __CrestStore(975, (unsigned long )(& BusNumber));
  __CrestStore(974, (unsigned long )(& BusType));
#line 905
  __CrestInt(& tmp_ndt_7);
  {
  __CrestLoad(985, (unsigned long )(& tmp_ndt_7), (long long )tmp_ndt_7);
  __CrestLoad(984, (unsigned long )0, (long long )0);
  __CrestApply2(983, 12, (long long )(tmp_ndt_7 == 0));
#line 906
  if (tmp_ndt_7 == 0) {
    __CrestBranch(986, 281, 1);
#line 907
    goto switch_5_0;
  } else {
    __CrestBranch(987, 282, 0);
#line 909
    goto switch_5_default;
    {
    __CrestLoad(988, (unsigned long )0, (long long )(0 != 0));
#line 909
    if (0 != 0) {
      __CrestBranch(989, 284, 1);
      switch_5_0: 
      __CrestLoad(991, (unsigned long )0, (long long )0);
      __CrestStore(992, (unsigned long )(& __retres10));
#line 911
      __retres10 = 0;
#line 911
      goto return_label;
      switch_5_default: ;
      __CrestLoad(993, (unsigned long )0, (long long )-1073741823);
      __CrestStore(994, (unsigned long )(& __retres10));
#line 913
      __retres10 = -1073741823;
#line 913
      goto return_label;
    } else {
      __CrestBranch(990, 289, 0);

    }
    }
  }
  }
  return_label: /* CIL Label */ 
  {
  __CrestLoad(995, (unsigned long )(& __retres10), (long long )__retres10);
  __CrestReturn(996);
#line 898
  return (__retres10);
  }
}
}
#line 921 "floppy_simpl4.cil.c"
int IoRegisterDeviceInterface(int PhysicalDeviceObject , int InterfaceClassGuid ,
                              int ReferenceString , int SymbolicLinkName ) 
{ 
  int tmp_ndt_8 ;
  int __retres6 ;

  {
  __CrestCall(1001, 14);
  __CrestStore(1000, (unsigned long )(& SymbolicLinkName));
  __CrestStore(999, (unsigned long )(& ReferenceString));
  __CrestStore(998, (unsigned long )(& InterfaceClassGuid));
  __CrestStore(997, (unsigned long )(& PhysicalDeviceObject));
#line 927
  __CrestInt(& tmp_ndt_8);
  {
  __CrestLoad(1004, (unsigned long )(& tmp_ndt_8), (long long )tmp_ndt_8);
  __CrestLoad(1003, (unsigned long )0, (long long )0);
  __CrestApply2(1002, 12, (long long )(tmp_ndt_8 == 0));
#line 928
  if (tmp_ndt_8 == 0) {
    __CrestBranch(1005, 293, 1);
#line 929
    goto switch_6_0;
  } else {
    __CrestBranch(1006, 294, 0);
#line 931
    goto switch_6_default;
    {
    __CrestLoad(1007, (unsigned long )0, (long long )(0 != 0));
#line 931
    if (0 != 0) {
      __CrestBranch(1008, 296, 1);
      switch_6_0: 
      __CrestLoad(1010, (unsigned long )0, (long long )0);
      __CrestStore(1011, (unsigned long )(& __retres6));
#line 933
      __retres6 = 0;
#line 933
      goto return_label;
      switch_6_default: ;
      __CrestLoad(1012, (unsigned long )0, (long long )-1073741808);
      __CrestStore(1013, (unsigned long )(& __retres6));
#line 935
      __retres6 = -1073741808;
#line 935
      goto return_label;
    } else {
      __CrestBranch(1009, 301, 0);

    }
    }
  }
  }
  return_label: /* CIL Label */ 
  {
  __CrestLoad(1014, (unsigned long )(& __retres6), (long long )__retres6);
  __CrestReturn(1015);
#line 921
  return (__retres6);
  }
}
}
#line 943 "floppy_simpl4.cil.c"
int IoSetDeviceInterfaceState(int SymbolicLinkName , int Enable ) 
{ 
  int tmp_ndt_9 ;
  int __retres4 ;

  {
  __CrestCall(1018, 15);
  __CrestStore(1017, (unsigned long )(& Enable));
  __CrestStore(1016, (unsigned long )(& SymbolicLinkName));
#line 948
  __CrestInt(& tmp_ndt_9);
  {
  __CrestLoad(1021, (unsigned long )(& tmp_ndt_9), (long long )tmp_ndt_9);
  __CrestLoad(1020, (unsigned long )0, (long long )0);
  __CrestApply2(1019, 12, (long long )(tmp_ndt_9 == 0));
#line 949
  if (tmp_ndt_9 == 0) {
    __CrestBranch(1022, 305, 1);
#line 950
    goto switch_7_0;
  } else {
    __CrestBranch(1023, 306, 0);
#line 952
    goto switch_7_default;
    {
    __CrestLoad(1024, (unsigned long )0, (long long )(0 != 0));
#line 952
    if (0 != 0) {
      __CrestBranch(1025, 308, 1);
      switch_7_0: 
      __CrestLoad(1027, (unsigned long )0, (long long )0);
      __CrestStore(1028, (unsigned long )(& __retres4));
#line 954
      __retres4 = 0;
#line 954
      goto return_label;
      switch_7_default: ;
      __CrestLoad(1029, (unsigned long )0, (long long )-1073741823);
      __CrestStore(1030, (unsigned long )(& __retres4));
#line 956
      __retres4 = -1073741823;
#line 956
      goto return_label;
    } else {
      __CrestBranch(1026, 313, 0);

    }
    }
  }
  }
  return_label: /* CIL Label */ 
  {
  __CrestLoad(1031, (unsigned long )(& __retres4), (long long )__retres4);
  __CrestReturn(1032);
#line 943
  return (__retres4);
  }
}
}
#line 964 "floppy_simpl4.cil.c"
void stubMoreProcessingRequired(void) 
{ 


  {
  __CrestCall(1033, 16);

  {
  __CrestLoad(1036, (unsigned long )(& s), (long long )s);
  __CrestLoad(1035, (unsigned long )(& NP), (long long )NP);
  __CrestApply2(1034, 12, (long long )(s == NP));
#line 968
  if (s == NP) {
    __CrestBranch(1037, 316, 1);
    __CrestLoad(1039, (unsigned long )(& MPR1), (long long )MPR1);
    __CrestStore(1040, (unsigned long )(& s));
#line 969
    s = MPR1;
  } else {
    __CrestBranch(1038, 317, 0);
#line 972
    errorFn();
    __CrestClearStack(1041);
  }
  }

  {
  __CrestReturn(1042);
#line 964
  return;
  }
}
}
#line 978 "floppy_simpl4.cil.c"
int IofCallDriver(int DeviceObject , int Irp ) 
{ 
  int returnVal2 ;
  int compRetStatus1 ;
  int lcontext ;
  unsigned long __cil_tmp7 ;
  int tmp_ndt_10 ;
  int tmp_ndt_11 ;

  {
  __CrestCall(1045, 17);
  __CrestStore(1044, (unsigned long )(& Irp));
  __CrestStore(1043, (unsigned long )(& DeviceObject));
#line 982
  __CrestInt(& lcontext);
  {
  __CrestLoad(1048, (unsigned long )(& compRegistered), (long long )compRegistered);
  __CrestLoad(1047, (unsigned long )0, (long long )0);
  __CrestApply2(1046, 13, (long long )(compRegistered != 0));
#line 985
  if (compRegistered != 0) {
    __CrestBranch(1049, 322, 1);
    __CrestLoad(1051, (unsigned long )(& DeviceObject), (long long )DeviceObject);
    __CrestLoad(1052, (unsigned long )(& Irp), (long long )Irp);
    __CrestLoad(1053, (unsigned long )(& lcontext), (long long )lcontext);
#line 987
    compRetStatus1 = FloppyPnpComplete(DeviceObject, Irp, lcontext);
    __CrestHandleReturn(1055, (long long )compRetStatus1);
    __CrestStore(1054, (unsigned long )(& compRetStatus1));
    __CrestLoad(1056, (unsigned long )(& compRetStatus1), (long long )compRetStatus1);
    __CrestStore(1057, (unsigned long )(& __cil_tmp7));
#line 989
    __cil_tmp7 = (unsigned long )compRetStatus1;
    {
    __CrestLoad(1060, (unsigned long )(& __cil_tmp7), (long long )__cil_tmp7);
    __CrestLoad(1059, (unsigned long )0, (long long )0xffffffffc0000016UL);
    __CrestApply2(1058, 12, (long long )(__cil_tmp7 == 0xffffffffc0000016UL));
#line 989
    if (__cil_tmp7 == 0xffffffffc0000016UL) {
      __CrestBranch(1061, 324, 1);
#line 991
      stubMoreProcessingRequired();
      __CrestClearStack(1063);
    } else {
      __CrestBranch(1062, 325, 0);

    }
    }
  } else {
    __CrestBranch(1050, 326, 0);

  }
  }
#line 1000
  __CrestInt(& tmp_ndt_10);
  {
  __CrestLoad(1066, (unsigned long )(& tmp_ndt_10), (long long )tmp_ndt_10);
  __CrestLoad(1065, (unsigned long )0, (long long )0);
  __CrestApply2(1064, 12, (long long )(tmp_ndt_10 == 0));
#line 1001
  if (tmp_ndt_10 == 0) {
    __CrestBranch(1067, 329, 1);
#line 1002
    goto switch_8_0;
  } else {
    __CrestBranch(1068, 330, 0);
#line 1003
    __CrestInt(& tmp_ndt_11);
    {
    __CrestLoad(1071, (unsigned long )(& tmp_ndt_11), (long long )tmp_ndt_11);
    __CrestLoad(1070, (unsigned long )0, (long long )1);
    __CrestApply2(1069, 12, (long long )(tmp_ndt_11 == 1));
#line 1004
    if (tmp_ndt_11 == 1) {
      __CrestBranch(1072, 332, 1);
#line 1005
      goto switch_8_1;
    } else {
      __CrestBranch(1073, 333, 0);
#line 1007
      goto switch_8_default;
      {
      __CrestLoad(1074, (unsigned long )0, (long long )(0 != 0));
#line 1007
      if (0 != 0) {
        __CrestBranch(1075, 335, 1);
        switch_8_0: 
        __CrestLoad(1077, (unsigned long )0, (long long )0);
        __CrestStore(1078, (unsigned long )(& returnVal2));
#line 1009
        returnVal2 = 0;
#line 1010
        goto switch_8_break;
        switch_8_1: 
        __CrestLoad(1079, (unsigned long )0, (long long )-1073741823);
        __CrestStore(1080, (unsigned long )(& returnVal2));
#line 1012
        returnVal2 = -1073741823;
#line 1013
        goto switch_8_break;
        switch_8_default: 
        __CrestLoad(1081, (unsigned long )0, (long long )259);
        __CrestStore(1082, (unsigned long )(& returnVal2));
#line 1015
        returnVal2 = 259;
#line 1016
        goto switch_8_break;
      } else {
        __CrestBranch(1076, 341, 0);
        switch_8_break: ;
      }
      }
    }
    }
  }
  }
  {
  __CrestLoad(1085, (unsigned long )(& s), (long long )s);
  __CrestLoad(1084, (unsigned long )(& NP), (long long )NP);
  __CrestApply2(1083, 12, (long long )(s == NP));
#line 1023
  if (s == NP) {
    __CrestBranch(1086, 343, 1);
    __CrestLoad(1088, (unsigned long )(& IPC), (long long )IPC);
    __CrestStore(1089, (unsigned long )(& s));
#line 1024
    s = IPC;
    __CrestLoad(1090, (unsigned long )(& returnVal2), (long long )returnVal2);
    __CrestStore(1091, (unsigned long )(& lowerDriverReturn));
#line 1025
    lowerDriverReturn = returnVal2;
  } else {
    __CrestBranch(1087, 344, 0);
    {
    __CrestLoad(1094, (unsigned long )(& s), (long long )s);
    __CrestLoad(1093, (unsigned long )(& MPR1), (long long )MPR1);
    __CrestApply2(1092, 12, (long long )(s == MPR1));
#line 1027
    if (s == MPR1) {
      __CrestBranch(1095, 345, 1);
      {
      __CrestLoad(1099, (unsigned long )(& returnVal2), (long long )returnVal2);
      __CrestLoad(1098, (unsigned long )0, (long long )259);
      __CrestApply2(1097, 12, (long long )(returnVal2 == 259));
#line 1028
      if (returnVal2 == 259) {
        __CrestBranch(1100, 346, 1);
        __CrestLoad(1102, (unsigned long )(& MPR3), (long long )MPR3);
        __CrestStore(1103, (unsigned long )(& s));
#line 1029
        s = MPR3;
        __CrestLoad(1104, (unsigned long )(& returnVal2), (long long )returnVal2);
        __CrestStore(1105, (unsigned long )(& lowerDriverReturn));
#line 1030
        lowerDriverReturn = returnVal2;
      } else {
        __CrestBranch(1101, 347, 0);
        __CrestLoad(1106, (unsigned long )(& NP), (long long )NP);
        __CrestStore(1107, (unsigned long )(& s));
#line 1032
        s = NP;
        __CrestLoad(1108, (unsigned long )(& returnVal2), (long long )returnVal2);
        __CrestStore(1109, (unsigned long )(& lowerDriverReturn));
#line 1033
        lowerDriverReturn = returnVal2;
      }
      }
    } else {
      __CrestBranch(1096, 348, 0);
      {
      __CrestLoad(1112, (unsigned long )(& s), (long long )s);
      __CrestLoad(1111, (unsigned long )(& SKIP1), (long long )SKIP1);
      __CrestApply2(1110, 12, (long long )(s == SKIP1));
#line 1036
      if (s == SKIP1) {
        __CrestBranch(1113, 349, 1);
        __CrestLoad(1115, (unsigned long )(& SKIP2), (long long )SKIP2);
        __CrestStore(1116, (unsigned long )(& s));
#line 1037
        s = SKIP2;
        __CrestLoad(1117, (unsigned long )(& returnVal2), (long long )returnVal2);
        __CrestStore(1118, (unsigned long )(& lowerDriverReturn));
#line 1038
        lowerDriverReturn = returnVal2;
      } else {
        __CrestBranch(1114, 350, 0);
#line 1041
        errorFn();
        __CrestClearStack(1119);
      }
      }
    }
    }
  }
  }
  {
  __CrestLoad(1120, (unsigned long )(& returnVal2), (long long )returnVal2);
  __CrestReturn(1121);
#line 1046
  return (returnVal2);
  }
}
}
#line 1049 "floppy_simpl4.cil.c"
void IofCompleteRequest(int Irp , int PriorityBoost ) 
{ 


  {
  __CrestCall(1124, 18);
  __CrestStore(1123, (unsigned long )(& PriorityBoost));
  __CrestStore(1122, (unsigned long )(& Irp));
  {
  __CrestLoad(1127, (unsigned long )(& s), (long long )s);
  __CrestLoad(1126, (unsigned long )(& NP), (long long )NP);
  __CrestApply2(1125, 12, (long long )(s == NP));
#line 1053
  if (s == NP) {
    __CrestBranch(1128, 353, 1);
    __CrestLoad(1130, (unsigned long )(& DC), (long long )DC);
    __CrestStore(1131, (unsigned long )(& s));
#line 1054
    s = DC;
  } else {
    __CrestBranch(1129, 354, 0);
#line 1057
    errorFn();
    __CrestClearStack(1132);
  }
  }

  {
  __CrestReturn(1133);
#line 1049
  return;
  }
}
}
#line 1063 "floppy_simpl4.cil.c"
int KeSetEvent(int Event , int Increment , int Wait ) 
{ 
  int l ;

  {
  __CrestCall(1137, 19);
  __CrestStore(1136, (unsigned long )(& Wait));
  __CrestStore(1135, (unsigned long )(& Increment));
  __CrestStore(1134, (unsigned long )(& Event));
#line 1064
  __CrestInt(& l);
  __CrestLoad(1138, (unsigned long )0, (long long )1);
  __CrestStore(1139, (unsigned long )(& setEventCalled));
#line 1067
  setEventCalled = 1;
  {
  __CrestLoad(1140, (unsigned long )(& l), (long long )l);
  __CrestReturn(1141);
#line 1068
  return (l);
  }
}
}
#line 1071 "floppy_simpl4.cil.c"
int KeWaitForSingleObject(int Object , int WaitReason , int WaitMode , int Alertable ,
                          int Timeout ) 
{ 
  int tmp_ndt_12 ;
  int __retres7 ;

  {
  __CrestCall(1147, 20);
  __CrestStore(1146, (unsigned long )(& Timeout));
  __CrestStore(1145, (unsigned long )(& Alertable));
  __CrestStore(1144, (unsigned long )(& WaitMode));
  __CrestStore(1143, (unsigned long )(& WaitReason));
  __CrestStore(1142, (unsigned long )(& Object));
  {
  __CrestLoad(1150, (unsigned long )(& s), (long long )s);
  __CrestLoad(1149, (unsigned long )(& MPR3), (long long )MPR3);
  __CrestApply2(1148, 12, (long long )(s == MPR3));
#line 1076
  if (s == MPR3) {
    __CrestBranch(1151, 360, 1);
    {
    __CrestLoad(1155, (unsigned long )(& setEventCalled), (long long )setEventCalled);
    __CrestLoad(1154, (unsigned long )0, (long long )1);
    __CrestApply2(1153, 12, (long long )(setEventCalled == 1));
#line 1077
    if (setEventCalled == 1) {
      __CrestBranch(1156, 361, 1);
      __CrestLoad(1158, (unsigned long )(& NP), (long long )NP);
      __CrestStore(1159, (unsigned long )(& s));
#line 1078
      s = NP;
      __CrestLoad(1160, (unsigned long )0, (long long )0);
      __CrestStore(1161, (unsigned long )(& setEventCalled));
#line 1079
      setEventCalled = 0;
    } else {
      __CrestBranch(1157, 362, 0);
#line 1081
      goto _L;
    }
    }
  } else {
    __CrestBranch(1152, 363, 0);
    _L: 
    {
    __CrestLoad(1164, (unsigned long )(& customIrp), (long long )customIrp);
    __CrestLoad(1163, (unsigned long )0, (long long )1);
    __CrestApply2(1162, 12, (long long )(customIrp == 1));
#line 1085
    if (customIrp == 1) {
      __CrestBranch(1165, 364, 1);
      __CrestLoad(1167, (unsigned long )(& NP), (long long )NP);
      __CrestStore(1168, (unsigned long )(& s));
#line 1086
      s = NP;
      __CrestLoad(1169, (unsigned long )0, (long long )0);
      __CrestStore(1170, (unsigned long )(& customIrp));
#line 1087
      customIrp = 0;
    } else {
      __CrestBranch(1166, 365, 0);
      {
      __CrestLoad(1173, (unsigned long )(& s), (long long )s);
      __CrestLoad(1172, (unsigned long )(& MPR3), (long long )MPR3);
      __CrestApply2(1171, 12, (long long )(s == MPR3));
#line 1089
      if (s == MPR3) {
        __CrestBranch(1174, 366, 1);
#line 1091
        errorFn();
        __CrestClearStack(1176);
      } else {
        __CrestBranch(1175, 367, 0);

      }
      }
    }
    }
  }
  }
#line 1099
  __CrestInt(& tmp_ndt_12);
  {
  __CrestLoad(1179, (unsigned long )(& tmp_ndt_12), (long long )tmp_ndt_12);
  __CrestLoad(1178, (unsigned long )0, (long long )0);
  __CrestApply2(1177, 12, (long long )(tmp_ndt_12 == 0));
#line 1100
  if (tmp_ndt_12 == 0) {
    __CrestBranch(1180, 370, 1);
#line 1101
    goto switch_9_0;
  } else {
    __CrestBranch(1181, 371, 0);
#line 1103
    goto switch_9_default;
    {
    __CrestLoad(1182, (unsigned long )0, (long long )(0 != 0));
#line 1103
    if (0 != 0) {
      __CrestBranch(1183, 373, 1);
      switch_9_0: 
      __CrestLoad(1185, (unsigned long )0, (long long )0);
      __CrestStore(1186, (unsigned long )(& __retres7));
#line 1105
      __retres7 = 0;
#line 1105
      goto return_label;
      switch_9_default: ;
      __CrestLoad(1187, (unsigned long )0, (long long )-1073741823);
      __CrestStore(1188, (unsigned long )(& __retres7));
#line 1107
      __retres7 = -1073741823;
#line 1107
      goto return_label;
    } else {
      __CrestBranch(1184, 378, 0);

    }
    }
  }
  }
  return_label: /* CIL Label */ 
  {
  __CrestLoad(1189, (unsigned long )(& __retres7), (long long )__retres7);
  __CrestReturn(1190);
#line 1071
  return (__retres7);
  }
}
}
#line 1115 "floppy_simpl4.cil.c"
int ObReferenceObjectByHandle(int Handle , int DesiredAccess , int ObjectType , int AccessMode ,
                              int Object , int HandleInformation ) 
{ 
  int tmp_ndt_13 ;
  int __retres8 ;

  {
  __CrestCall(1197, 21);
  __CrestStore(1196, (unsigned long )(& HandleInformation));
  __CrestStore(1195, (unsigned long )(& Object));
  __CrestStore(1194, (unsigned long )(& AccessMode));
  __CrestStore(1193, (unsigned long )(& ObjectType));
  __CrestStore(1192, (unsigned long )(& DesiredAccess));
  __CrestStore(1191, (unsigned long )(& Handle));
#line 1121
  __CrestInt(& tmp_ndt_13);
  {
  __CrestLoad(1200, (unsigned long )(& tmp_ndt_13), (long long )tmp_ndt_13);
  __CrestLoad(1199, (unsigned long )0, (long long )0);
  __CrestApply2(1198, 12, (long long )(tmp_ndt_13 == 0));
#line 1122
  if (tmp_ndt_13 == 0) {
    __CrestBranch(1201, 382, 1);
#line 1123
    goto switch_10_0;
  } else {
    __CrestBranch(1202, 383, 0);
#line 1125
    goto switch_10_default;
    {
    __CrestLoad(1203, (unsigned long )0, (long long )(0 != 0));
#line 1125
    if (0 != 0) {
      __CrestBranch(1204, 385, 1);
      switch_10_0: 
      __CrestLoad(1206, (unsigned long )0, (long long )0);
      __CrestStore(1207, (unsigned long )(& __retres8));
#line 1127
      __retres8 = 0;
#line 1127
      goto return_label;
      switch_10_default: ;
      __CrestLoad(1208, (unsigned long )0, (long long )-1073741823);
      __CrestStore(1209, (unsigned long )(& __retres8));
#line 1129
      __retres8 = -1073741823;
#line 1129
      goto return_label;
    } else {
      __CrestBranch(1205, 390, 0);

    }
    }
  }
  }
  return_label: /* CIL Label */ 
  {
  __CrestLoad(1210, (unsigned long )(& __retres8), (long long )__retres8);
  __CrestReturn(1211);
#line 1115
  return (__retres8);
  }
}
}
#line 1137 "floppy_simpl4.cil.c"
int PsCreateSystemThread(int ThreadHandle , int DesiredAccess , int ObjectAttributes ,
                         int ProcessHandle , int ClientId , int StartRoutine , int StartContext ) 
{ 
  int tmp_ndt_14 ;
  int __retres9 ;

  {
  __CrestCall(1219, 22);
  __CrestStore(1218, (unsigned long )(& StartContext));
  __CrestStore(1217, (unsigned long )(& StartRoutine));
  __CrestStore(1216, (unsigned long )(& ClientId));
  __CrestStore(1215, (unsigned long )(& ProcessHandle));
  __CrestStore(1214, (unsigned long )(& ObjectAttributes));
  __CrestStore(1213, (unsigned long )(& DesiredAccess));
  __CrestStore(1212, (unsigned long )(& ThreadHandle));
#line 1143
  __CrestInt(& tmp_ndt_14);
  {
  __CrestLoad(1222, (unsigned long )(& tmp_ndt_14), (long long )tmp_ndt_14);
  __CrestLoad(1221, (unsigned long )0, (long long )0);
  __CrestApply2(1220, 12, (long long )(tmp_ndt_14 == 0));
#line 1144
  if (tmp_ndt_14 == 0) {
    __CrestBranch(1223, 394, 1);
#line 1145
    goto switch_11_0;
  } else {
    __CrestBranch(1224, 395, 0);
#line 1147
    goto switch_11_default;
    {
    __CrestLoad(1225, (unsigned long )0, (long long )(0 != 0));
#line 1147
    if (0 != 0) {
      __CrestBranch(1226, 397, 1);
      switch_11_0: 
      __CrestLoad(1228, (unsigned long )0, (long long )0);
      __CrestStore(1229, (unsigned long )(& __retres9));
#line 1149
      __retres9 = 0;
#line 1149
      goto return_label;
      switch_11_default: ;
      __CrestLoad(1230, (unsigned long )0, (long long )-1073741823);
      __CrestStore(1231, (unsigned long )(& __retres9));
#line 1151
      __retres9 = -1073741823;
#line 1151
      goto return_label;
    } else {
      __CrestBranch(1227, 402, 0);

    }
    }
  }
  }
  return_label: /* CIL Label */ 
  {
  __CrestLoad(1232, (unsigned long )(& __retres9), (long long )__retres9);
  __CrestReturn(1233);
#line 1137
  return (__retres9);
  }
}
}
#line 1159 "floppy_simpl4.cil.c"
int ZwClose(int Handle ) 
{ 
  int tmp_ndt_15 ;
  int __retres3 ;

  {
  __CrestCall(1235, 23);
  __CrestStore(1234, (unsigned long )(& Handle));
#line 1164
  __CrestInt(& tmp_ndt_15);
  {
  __CrestLoad(1238, (unsigned long )(& tmp_ndt_15), (long long )tmp_ndt_15);
  __CrestLoad(1237, (unsigned long )0, (long long )0);
  __CrestApply2(1236, 12, (long long )(tmp_ndt_15 == 0));
#line 1165
  if (tmp_ndt_15 == 0) {
    __CrestBranch(1239, 406, 1);
#line 1166
    goto switch_12_0;
  } else {
    __CrestBranch(1240, 407, 0);
#line 1168
    goto switch_12_default;
    {
    __CrestLoad(1241, (unsigned long )0, (long long )(0 != 0));
#line 1168
    if (0 != 0) {
      __CrestBranch(1242, 409, 1);
      switch_12_0: 
      __CrestLoad(1244, (unsigned long )0, (long long )0);
      __CrestStore(1245, (unsigned long )(& __retres3));
#line 1170
      __retres3 = 0;
#line 1170
      goto return_label;
      switch_12_default: ;
      __CrestLoad(1246, (unsigned long )0, (long long )-1073741823);
      __CrestStore(1247, (unsigned long )(& __retres3));
#line 1172
      __retres3 = -1073741823;
#line 1172
      goto return_label;
    } else {
      __CrestBranch(1243, 414, 0);

    }
    }
  }
  }
  return_label: /* CIL Label */ 
  {
  __CrestLoad(1248, (unsigned long )(& __retres3), (long long )__retres3);
  __CrestReturn(1249);
#line 1159
  return (__retres3);
  }
}
}
#line 1180 "floppy_simpl4.cil.c"
int FloppyCreateClose(int DeviceObject , int Irp ) 
{ 
  int Irp__IoStatus__Status ;
  int Irp__IoStatus__Information ;
  int __retres5 ;

  {
  __CrestCall(1252, 24);
  __CrestStore(1251, (unsigned long )(& Irp));
  __CrestStore(1250, (unsigned long )(& DeviceObject));
  __CrestLoad(1253, (unsigned long )0, (long long )0);
  __CrestStore(1254, (unsigned long )(& myStatus));
#line 1186
  myStatus = 0;
  __CrestLoad(1255, (unsigned long )0, (long long )0);
  __CrestStore(1256, (unsigned long )(& Irp__IoStatus__Status));
#line 1187
  Irp__IoStatus__Status = 0;
  __CrestLoad(1257, (unsigned long )0, (long long )1);
  __CrestStore(1258, (unsigned long )(& Irp__IoStatus__Information));
#line 1188
  Irp__IoStatus__Information = 1;
  __CrestLoad(1259, (unsigned long )(& Irp), (long long )Irp);
  __CrestLoad(1260, (unsigned long )0, (long long )0);
#line 1189
  IofCompleteRequest(Irp, 0);
  __CrestClearStack(1261);
  __CrestLoad(1262, (unsigned long )0, (long long )0);
  __CrestStore(1263, (unsigned long )(& __retres5));
#line 1191
  __retres5 = 0;
  {
  __CrestLoad(1264, (unsigned long )(& __retres5), (long long )__retres5);
  __CrestReturn(1265);
#line 1180
  return (__retres5);
  }
}
}
#line 1194
int FloppyQueueRequest(int DisketteExtension , int Irp ) ;
#line 1365
int FlCheckFormatParameters(int DisketteExtension , int FormatParameters ) ;
#line 1195 "floppy_simpl4.cil.c"
int FloppyDeviceControl(int DeviceObject , int Irp ) 
{ 
  int disketteExtension__HoldNewRequests ;
  int disketteExtension__IsRemoved ;
  int Irp__IoStatus__Information ;
  int disketteExtension__IsStarted ;
  int Irp__CurrentLocation ;
  int Irp__Tail__Overlay__CurrentStackLocation ;
  int disketteExtension__TargetObject ;
  int irpSp__Parameters__DeviceIoControl__OutputBufferLength ;
  int sizeof__MOUNTDEV_NAME ;
  int Irp__AssociatedIrp__SystemBuffer ;
  int mountName__NameLength ;
  int disketteExtension__DeviceName__Length ;
  int sizeof__USHORT ;
  int disketteExtension__InterfaceString__Buffer ;
  int uniqueId__UniqueIdLength ;
  int disketteExtension__InterfaceString__Length ;
  int sizeof__MOUNTDEV_UNIQUE_ID ;
  int irpSp__Parameters__DeviceIoControl__InputBufferLength ;
  int sizeof__FORMAT_PARAMETERS ;
  int irpSp__Parameters__DeviceIoControl__IoControlCode___1 ;
  int sizeof__FORMAT_EX_PARAMETERS ;
  int formatExParameters__FormatGapLength ;
  int formatExParameters__SectorsPerTrack ;
  int sizeof__DISK_GEOMETRY ;
  int Irp__IoStatus__Status___0 ;
  int disketteExtension ;
  int ntStatus ;
  int outputBufferLength ;
  int lowestDriveMediaType ;
  int highestDriveMediaType ;
  int formatExParametersSize ;
  int formatExParameters ;
  int tmp ;
  int mountName ;
  int uniqueId ;
  int tmp___0 ;
  int __cil_tmp41 ;
  int __cil_tmp44 ;
  int __cil_tmp45 ;
  int __cil_tmp50 ;
  int __cil_tmp55 ;
  int __cil_tmp60 ;
  int __cil_tmp65 ;
  int __cil_tmp66 ;
  int __cil_tmp69 ;
  int __cil_tmp72 ;
  int __cil_tmp75 ;
  int __cil_tmp78 ;
  int __cil_tmp81 ;
  int __cil_tmp82 ;
  int __cil_tmp83 ;
  int __cil_tmp88 ;
  int __cil_tmp89 ;
  int __cil_tmp90 ;
  long __cil_tmp91 ;
  int __retres92 ;

  {
  __CrestCall(1268, 25);
  __CrestStore(1267, (unsigned long )(& Irp));
  __CrestStore(1266, (unsigned long )(& DeviceObject));
#line 1196
  __CrestInt(& disketteExtension__HoldNewRequests);
#line 1197
  __CrestInt(& disketteExtension__IsRemoved);
#line 1199
  __CrestInt(& disketteExtension__IsStarted);
#line 1200
  __CrestInt(& Irp__CurrentLocation);
#line 1201
  __CrestInt(& Irp__Tail__Overlay__CurrentStackLocation);
#line 1202
  __CrestInt(& disketteExtension__TargetObject);
#line 1203
  __CrestInt(& irpSp__Parameters__DeviceIoControl__OutputBufferLength);
#line 1204
  __CrestInt(& sizeof__MOUNTDEV_NAME);
#line 1205
  __CrestInt(& Irp__AssociatedIrp__SystemBuffer);
#line 1207
  __CrestInt(& disketteExtension__DeviceName__Length);
#line 1208
  __CrestInt(& sizeof__USHORT);
#line 1209
  __CrestInt(& disketteExtension__InterfaceString__Buffer);
#line 1211
  __CrestInt(& disketteExtension__InterfaceString__Length);
#line 1212
  __CrestInt(& sizeof__MOUNTDEV_UNIQUE_ID);
#line 1213
  __CrestInt(& irpSp__Parameters__DeviceIoControl__InputBufferLength);
#line 1214
  __CrestInt(& sizeof__FORMAT_PARAMETERS);
#line 1215
  __CrestInt(& irpSp__Parameters__DeviceIoControl__IoControlCode___1);
#line 1216
  __CrestInt(& sizeof__FORMAT_EX_PARAMETERS);
#line 1217
  __CrestInt(& formatExParameters__FormatGapLength);
#line 1218
  __CrestInt(& formatExParameters__SectorsPerTrack);
#line 1219
  __CrestInt(& sizeof__DISK_GEOMETRY);
#line 1221
  __CrestInt(& disketteExtension);
#line 1224
  __CrestInt(& lowestDriveMediaType);
#line 1225
  __CrestInt(& highestDriveMediaType);
#line 1226
  __CrestInt(& formatExParametersSize);
#line 1234
  __CrestInt(& __cil_tmp41);
#line 1237
  __CrestInt(& __cil_tmp44);
#line 1238
  __CrestInt(& __cil_tmp45);
#line 1243
  __CrestInt(& __cil_tmp50);
#line 1248
  __CrestInt(& __cil_tmp55);
#line 1253
  __CrestInt(& __cil_tmp60);
#line 1258
  __CrestInt(& __cil_tmp65);
#line 1259
  __CrestInt(& __cil_tmp66);
#line 1262
  __CrestInt(& __cil_tmp69);
#line 1265
  __CrestInt(& __cil_tmp72);
#line 1268
  __CrestInt(& __cil_tmp75);
#line 1271
  __CrestInt(& __cil_tmp78);
#line 1274
  __CrestInt(& __cil_tmp81);
#line 1281
  __CrestInt(& __cil_tmp88);
  {
  __CrestLoad(1271, (unsigned long )(& disketteExtension__HoldNewRequests), (long long )disketteExtension__HoldNewRequests);
  __CrestLoad(1270, (unsigned long )0, (long long )0);
  __CrestApply2(1269, 13, (long long )(disketteExtension__HoldNewRequests != 0));
#line 1234
  if (disketteExtension__HoldNewRequests != 0) {
    __CrestBranch(1272, 421, 1);
    {
    __CrestLoad(1276, (unsigned long )(& irpSp__Parameters__DeviceIoControl__IoControlCode___1),
                (long long )irpSp__Parameters__DeviceIoControl__IoControlCode___1);
    __CrestLoad(1275, (unsigned long )(& __cil_tmp41), (long long )__cil_tmp41);
    __CrestApply2(1274, 13, (long long )(irpSp__Parameters__DeviceIoControl__IoControlCode___1 != __cil_tmp41));
#line 1235
    if (irpSp__Parameters__DeviceIoControl__IoControlCode___1 != __cil_tmp41) {
      __CrestBranch(1277, 422, 1);
      __CrestLoad(1279, (unsigned long )(& disketteExtension), (long long )disketteExtension);
      __CrestLoad(1280, (unsigned long )(& Irp), (long long )Irp);
#line 1237
      ntStatus = FloppyQueueRequest(disketteExtension, Irp);
      __CrestHandleReturn(1282, (long long )ntStatus);
      __CrestStore(1281, (unsigned long )(& ntStatus));
      __CrestLoad(1283, (unsigned long )(& ntStatus), (long long )ntStatus);
      __CrestStore(1284, (unsigned long )(& __retres92));
#line 1239
      __retres92 = ntStatus;
#line 1239
      goto return_label;
    } else {
      __CrestBranch(1278, 425, 0);

    }
    }
  } else {
    __CrestBranch(1273, 426, 0);

  }
  }
  {
  __CrestLoad(1287, (unsigned long )(& disketteExtension__IsRemoved), (long long )disketteExtension__IsRemoved);
  __CrestLoad(1286, (unsigned long )0, (long long )0);
  __CrestApply2(1285, 13, (long long )(disketteExtension__IsRemoved != 0));
#line 1246
  if (disketteExtension__IsRemoved != 0) {
    __CrestBranch(1288, 428, 1);
    __CrestLoad(1290, (unsigned long )0, (long long )0);
    __CrestStore(1291, (unsigned long )(& Irp__IoStatus__Information));
#line 1248
    Irp__IoStatus__Information = 0;
    __CrestLoad(1292, (unsigned long )0, (long long )-1073741738);
    __CrestStore(1293, (unsigned long )(& Irp__IoStatus__Status___0));
#line 1249
    Irp__IoStatus__Status___0 = -1073741738;
    __CrestLoad(1294, (unsigned long )0, (long long )-1073741738);
    __CrestStore(1295, (unsigned long )(& myStatus));
#line 1250
    myStatus = -1073741738;
    __CrestLoad(1296, (unsigned long )(& Irp), (long long )Irp);
    __CrestLoad(1297, (unsigned long )0, (long long )0);
#line 1251
    IofCompleteRequest(Irp, 0);
    __CrestClearStack(1298);
    __CrestLoad(1299, (unsigned long )0, (long long )-1073741738);
    __CrestStore(1300, (unsigned long )(& __retres92));
#line 1253
    __retres92 = -1073741738;
#line 1253
    goto return_label;
  } else {
    __CrestBranch(1289, 431, 0);

  }
  }
  {
  __CrestLoad(1303, (unsigned long )(& disketteExtension__IsStarted), (long long )disketteExtension__IsStarted);
  __CrestLoad(1302, (unsigned long )0, (long long )0);
  __CrestApply2(1301, 12, (long long )(disketteExtension__IsStarted == 0));
#line 1257
  if (disketteExtension__IsStarted == 0) {
    __CrestBranch(1304, 433, 1);
    {
    __CrestLoad(1308, (unsigned long )(& s), (long long )s);
    __CrestLoad(1307, (unsigned long )(& NP), (long long )NP);
    __CrestApply2(1306, 12, (long long )(s == NP));
#line 1258
    if (s == NP) {
      __CrestBranch(1309, 434, 1);
      __CrestLoad(1311, (unsigned long )(& SKIP1), (long long )SKIP1);
      __CrestStore(1312, (unsigned long )(& s));
#line 1259
      s = SKIP1;
    } else {
      __CrestBranch(1310, 435, 0);
#line 1262
      errorFn();
      __CrestClearStack(1313);
    }
    }
    __CrestLoad(1316, (unsigned long )(& Irp__CurrentLocation), (long long )Irp__CurrentLocation);
    __CrestLoad(1315, (unsigned long )0, (long long )1);
    __CrestApply2(1314, 0, (long long )(Irp__CurrentLocation + 1));
    __CrestStore(1317, (unsigned long )(& Irp__CurrentLocation));
#line 1266
    Irp__CurrentLocation ++;
    __CrestLoad(1320, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation),
                (long long )Irp__Tail__Overlay__CurrentStackLocation);
    __CrestLoad(1319, (unsigned long )0, (long long )1);
    __CrestApply2(1318, 0, (long long )(Irp__Tail__Overlay__CurrentStackLocation + 1));
    __CrestStore(1321, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation));
#line 1267
    Irp__Tail__Overlay__CurrentStackLocation ++;
    __CrestLoad(1322, (unsigned long )(& disketteExtension__TargetObject), (long long )disketteExtension__TargetObject);
    __CrestLoad(1323, (unsigned long )(& Irp), (long long )Irp);
#line 1268
    tmp = IofCallDriver(disketteExtension__TargetObject, Irp);
    __CrestHandleReturn(1325, (long long )tmp);
    __CrestStore(1324, (unsigned long )(& tmp));
    __CrestLoad(1326, (unsigned long )(& tmp), (long long )tmp);
    __CrestStore(1327, (unsigned long )(& __retres92));
#line 1270
    __retres92 = tmp;
#line 1270
    goto return_label;
  } else {
    __CrestBranch(1305, 439, 0);

  }
  }
  {
  __CrestLoad(1330, (unsigned long )(& irpSp__Parameters__DeviceIoControl__IoControlCode___1),
              (long long )irpSp__Parameters__DeviceIoControl__IoControlCode___1);
  __CrestLoad(1329, (unsigned long )(& __cil_tmp44), (long long )__cil_tmp44);
  __CrestApply2(1328, 12, (long long )(irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp44));
#line 1274
  if (irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp44) {
    __CrestBranch(1331, 441, 1);
#line 1275
    goto switch_13_exp_0;
  } else {
    __CrestBranch(1332, 442, 0);
    {
    __CrestLoad(1335, (unsigned long )(& irpSp__Parameters__DeviceIoControl__IoControlCode___1),
                (long long )irpSp__Parameters__DeviceIoControl__IoControlCode___1);
    __CrestLoad(1334, (unsigned long )(& __cil_tmp45), (long long )__cil_tmp45);
    __CrestApply2(1333, 12, (long long )(irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp45));
#line 1277
    if (irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp45) {
      __CrestBranch(1336, 443, 1);
#line 1278
      goto switch_13_exp_1;
    } else {
      __CrestBranch(1337, 444, 0);
      {
      __CrestLoad(1340, (unsigned long )(& irpSp__Parameters__DeviceIoControl__IoControlCode___1),
                  (long long )irpSp__Parameters__DeviceIoControl__IoControlCode___1);
      __CrestLoad(1339, (unsigned long )(& __cil_tmp50), (long long )__cil_tmp50);
      __CrestApply2(1338, 12, (long long )(irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp50));
#line 1280
      if (irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp50) {
        __CrestBranch(1341, 445, 1);
#line 1281
        goto switch_13_exp_2;
      } else {
        __CrestBranch(1342, 446, 0);
        {
        __CrestLoad(1345, (unsigned long )(& irpSp__Parameters__DeviceIoControl__IoControlCode___1),
                    (long long )irpSp__Parameters__DeviceIoControl__IoControlCode___1);
        __CrestLoad(1344, (unsigned long )(& __cil_tmp55), (long long )__cil_tmp55);
        __CrestApply2(1343, 12, (long long )(irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp55));
#line 1283
        if (irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp55) {
          __CrestBranch(1346, 447, 1);
#line 1284
          goto switch_13_exp_3;
        } else {
          __CrestBranch(1347, 448, 0);
          {
          __CrestLoad(1350, (unsigned long )(& irpSp__Parameters__DeviceIoControl__IoControlCode___1),
                      (long long )irpSp__Parameters__DeviceIoControl__IoControlCode___1);
          __CrestLoad(1349, (unsigned long )(& __cil_tmp60), (long long )__cil_tmp60);
          __CrestApply2(1348, 12, (long long )(irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp60));
#line 1286
          if (irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp60) {
            __CrestBranch(1351, 449, 1);
#line 1287
            goto switch_13_exp_4;
          } else {
            __CrestBranch(1352, 450, 0);
            {
            __CrestLoad(1355, (unsigned long )(& irpSp__Parameters__DeviceIoControl__IoControlCode___1),
                        (long long )irpSp__Parameters__DeviceIoControl__IoControlCode___1);
            __CrestLoad(1354, (unsigned long )(& __cil_tmp65), (long long )__cil_tmp65);
            __CrestApply2(1353, 12, (long long )(irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp65));
#line 1289
            if (irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp65) {
              __CrestBranch(1356, 451, 1);
#line 1290
              goto switch_13_exp_5;
            } else {
              __CrestBranch(1357, 452, 0);
              {
              __CrestLoad(1360, (unsigned long )(& irpSp__Parameters__DeviceIoControl__IoControlCode___1),
                          (long long )irpSp__Parameters__DeviceIoControl__IoControlCode___1);
              __CrestLoad(1359, (unsigned long )(& __cil_tmp66), (long long )__cil_tmp66);
              __CrestApply2(1358, 12, (long long )(irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp66));
#line 1292
              if (irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp66) {
                __CrestBranch(1361, 453, 1);
#line 1293
                goto switch_13_exp_6;
              } else {
                __CrestBranch(1362, 454, 0);
                {
                __CrestLoad(1365, (unsigned long )(& irpSp__Parameters__DeviceIoControl__IoControlCode___1),
                            (long long )irpSp__Parameters__DeviceIoControl__IoControlCode___1);
                __CrestLoad(1364, (unsigned long )(& __cil_tmp69), (long long )__cil_tmp69);
                __CrestApply2(1363, 12, (long long )(irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp69));
#line 1295
                if (irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp69) {
                  __CrestBranch(1366, 455, 1);
#line 1296
                  goto switch_13_exp_7;
                } else {
                  __CrestBranch(1367, 456, 0);
                  {
                  __CrestLoad(1370, (unsigned long )(& irpSp__Parameters__DeviceIoControl__IoControlCode___1),
                              (long long )irpSp__Parameters__DeviceIoControl__IoControlCode___1);
                  __CrestLoad(1369, (unsigned long )(& __cil_tmp72), (long long )__cil_tmp72);
                  __CrestApply2(1368, 12, (long long )(irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp72));
#line 1298
                  if (irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp72) {
                    __CrestBranch(1371, 457, 1);
#line 1299
                    goto switch_13_exp_8;
                  } else {
                    __CrestBranch(1372, 458, 0);
                    {
                    __CrestLoad(1375, (unsigned long )(& irpSp__Parameters__DeviceIoControl__IoControlCode___1),
                                (long long )irpSp__Parameters__DeviceIoControl__IoControlCode___1);
                    __CrestLoad(1374, (unsigned long )(& __cil_tmp75), (long long )__cil_tmp75);
                    __CrestApply2(1373, 12, (long long )(irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp75));
#line 1301
                    if (irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp75) {
                      __CrestBranch(1376, 459, 1);
#line 1302
                      goto switch_13_exp_9;
                    } else {
                      __CrestBranch(1377, 460, 0);
                      {
                      __CrestLoad(1380, (unsigned long )(& irpSp__Parameters__DeviceIoControl__IoControlCode___1),
                                  (long long )irpSp__Parameters__DeviceIoControl__IoControlCode___1);
                      __CrestLoad(1379, (unsigned long )(& __cil_tmp78), (long long )__cil_tmp78);
                      __CrestApply2(1378, 12, (long long )(irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp78));
#line 1304
                      if (irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp78) {
                        __CrestBranch(1381, 461, 1);
#line 1305
                        goto switch_13_exp_10;
                      } else {
                        __CrestBranch(1382, 462, 0);
                        {
                        __CrestLoad(1385, (unsigned long )(& irpSp__Parameters__DeviceIoControl__IoControlCode___1),
                                    (long long )irpSp__Parameters__DeviceIoControl__IoControlCode___1);
                        __CrestLoad(1384, (unsigned long )(& __cil_tmp81), (long long )__cil_tmp81);
                        __CrestApply2(1383, 12, (long long )(irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp81));
#line 1307
                        if (irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp81) {
                          __CrestBranch(1386, 463, 1);
#line 1308
                          goto switch_13_exp_11;
                        } else {
                          __CrestBranch(1387, 464, 0);
#line 1310
                          goto switch_13_default;
                          {
                          __CrestLoad(1388, (unsigned long )0, (long long )(0 != 0));
#line 1312
                          if (0 != 0) {
                            __CrestBranch(1389, 466, 1);
                            switch_13_exp_0: ;
                            {
                            __CrestLoad(1393, (unsigned long )(& irpSp__Parameters__DeviceIoControl__OutputBufferLength),
                                        (long long )irpSp__Parameters__DeviceIoControl__OutputBufferLength);
                            __CrestLoad(1392, (unsigned long )(& sizeof__MOUNTDEV_NAME),
                                        (long long )sizeof__MOUNTDEV_NAME);
                            __CrestApply2(1391, 16, (long long )(irpSp__Parameters__DeviceIoControl__OutputBufferLength < sizeof__MOUNTDEV_NAME));
#line 1314
                            if (irpSp__Parameters__DeviceIoControl__OutputBufferLength < sizeof__MOUNTDEV_NAME) {
                              __CrestBranch(1394, 468, 1);
                              __CrestLoad(1396, (unsigned long )0, (long long )-1073741811);
                              __CrestStore(1397, (unsigned long )(& ntStatus));
#line 1315
                              ntStatus = -1073741811;
#line 1316
                              goto switch_13_break;
                            } else {
                              __CrestBranch(1395, 470, 0);

                            }
                            }
                            __CrestLoad(1398, (unsigned long )(& Irp__AssociatedIrp__SystemBuffer),
                                        (long long )Irp__AssociatedIrp__SystemBuffer);
                            __CrestStore(1399, (unsigned long )(& mountName));
#line 1320
                            mountName = Irp__AssociatedIrp__SystemBuffer;
                            __CrestLoad(1400, (unsigned long )(& disketteExtension__DeviceName__Length),
                                        (long long )disketteExtension__DeviceName__Length);
                            __CrestStore(1401, (unsigned long )(& mountName__NameLength));
#line 1321
                            mountName__NameLength = disketteExtension__DeviceName__Length;
                            __CrestLoad(1404, (unsigned long )(& sizeof__USHORT),
                                        (long long )sizeof__USHORT);
                            __CrestLoad(1403, (unsigned long )(& mountName__NameLength),
                                        (long long )mountName__NameLength);
                            __CrestApply2(1402, 0, (long long )(sizeof__USHORT + mountName__NameLength));
                            __CrestStore(1405, (unsigned long )(& __cil_tmp82));
#line 1322
                            __cil_tmp82 = sizeof__USHORT + mountName__NameLength;
                            {
                            __CrestLoad(1408, (unsigned long )(& irpSp__Parameters__DeviceIoControl__OutputBufferLength),
                                        (long long )irpSp__Parameters__DeviceIoControl__OutputBufferLength);
                            __CrestLoad(1407, (unsigned long )(& __cil_tmp82), (long long )__cil_tmp82);
                            __CrestApply2(1406, 16, (long long )(irpSp__Parameters__DeviceIoControl__OutputBufferLength < __cil_tmp82));
#line 1322
                            if (irpSp__Parameters__DeviceIoControl__OutputBufferLength < __cil_tmp82) {
                              __CrestBranch(1409, 473, 1);
                              __CrestLoad(1411, (unsigned long )0, (long long )-2147483643);
                              __CrestStore(1412, (unsigned long )(& ntStatus));
#line 1323
                              ntStatus = -2147483643;
                              __CrestLoad(1413, (unsigned long )(& sizeof__MOUNTDEV_NAME),
                                          (long long )sizeof__MOUNTDEV_NAME);
                              __CrestStore(1414, (unsigned long )(& Irp__IoStatus__Information));
#line 1324
                              Irp__IoStatus__Information = sizeof__MOUNTDEV_NAME;
#line 1325
                              goto switch_13_break;
                            } else {
                              __CrestBranch(1410, 475, 0);

                            }
                            }
                            __CrestLoad(1415, (unsigned long )0, (long long )0);
                            __CrestStore(1416, (unsigned long )(& ntStatus));
#line 1329
                            ntStatus = 0;
                            __CrestLoad(1419, (unsigned long )(& sizeof__USHORT),
                                        (long long )sizeof__USHORT);
                            __CrestLoad(1418, (unsigned long )(& mountName__NameLength),
                                        (long long )mountName__NameLength);
                            __CrestApply2(1417, 0, (long long )(sizeof__USHORT + mountName__NameLength));
                            __CrestStore(1420, (unsigned long )(& Irp__IoStatus__Information));
#line 1330
                            Irp__IoStatus__Information = sizeof__USHORT + mountName__NameLength;
#line 1331
                            goto switch_13_break;
                            switch_13_exp_1: ;
                            {
                            __CrestLoad(1423, (unsigned long )(& disketteExtension__InterfaceString__Buffer),
                                        (long long )disketteExtension__InterfaceString__Buffer);
                            __CrestLoad(1422, (unsigned long )0, (long long )0);
                            __CrestApply2(1421, 12, (long long )(disketteExtension__InterfaceString__Buffer == 0));
#line 1333
                            if (disketteExtension__InterfaceString__Buffer == 0) {
                              __CrestBranch(1424, 480, 1);
                              __CrestLoad(1426, (unsigned long )0, (long long )-1073741811);
                              __CrestStore(1427, (unsigned long )(& ntStatus));
#line 1334
                              ntStatus = -1073741811;
#line 1335
                              goto switch_13_break;
                            } else {
                              __CrestBranch(1425, 482, 0);
                              {
                              __CrestLoad(1430, (unsigned long )(& irpSp__Parameters__DeviceIoControl__OutputBufferLength),
                                          (long long )irpSp__Parameters__DeviceIoControl__OutputBufferLength);
                              __CrestLoad(1429, (unsigned long )(& sizeof__MOUNTDEV_UNIQUE_ID),
                                          (long long )sizeof__MOUNTDEV_UNIQUE_ID);
                              __CrestApply2(1428, 16, (long long )(irpSp__Parameters__DeviceIoControl__OutputBufferLength < sizeof__MOUNTDEV_UNIQUE_ID));
#line 1337
                              if (irpSp__Parameters__DeviceIoControl__OutputBufferLength < sizeof__MOUNTDEV_UNIQUE_ID) {
                                __CrestBranch(1431, 483, 1);
                                __CrestLoad(1433, (unsigned long )0, (long long )-1073741811);
                                __CrestStore(1434, (unsigned long )(& ntStatus));
#line 1338
                                ntStatus = -1073741811;
#line 1339
                                goto switch_13_break;
                              } else {
                                __CrestBranch(1432, 485, 0);

                              }
                              }
                            }
                            }
                            __CrestLoad(1435, (unsigned long )(& Irp__AssociatedIrp__SystemBuffer),
                                        (long long )Irp__AssociatedIrp__SystemBuffer);
                            __CrestStore(1436, (unsigned long )(& uniqueId));
#line 1344
                            uniqueId = Irp__AssociatedIrp__SystemBuffer;
                            __CrestLoad(1437, (unsigned long )(& disketteExtension__InterfaceString__Length),
                                        (long long )disketteExtension__InterfaceString__Length);
                            __CrestStore(1438, (unsigned long )(& uniqueId__UniqueIdLength));
#line 1345
                            uniqueId__UniqueIdLength = disketteExtension__InterfaceString__Length;
                            __CrestLoad(1441, (unsigned long )(& sizeof__USHORT),
                                        (long long )sizeof__USHORT);
                            __CrestLoad(1440, (unsigned long )(& uniqueId__UniqueIdLength),
                                        (long long )uniqueId__UniqueIdLength);
                            __CrestApply2(1439, 0, (long long )(sizeof__USHORT + uniqueId__UniqueIdLength));
                            __CrestStore(1442, (unsigned long )(& __cil_tmp83));
#line 1346
                            __cil_tmp83 = sizeof__USHORT + uniqueId__UniqueIdLength;
                            {
                            __CrestLoad(1445, (unsigned long )(& irpSp__Parameters__DeviceIoControl__OutputBufferLength),
                                        (long long )irpSp__Parameters__DeviceIoControl__OutputBufferLength);
                            __CrestLoad(1444, (unsigned long )(& __cil_tmp83), (long long )__cil_tmp83);
                            __CrestApply2(1443, 16, (long long )(irpSp__Parameters__DeviceIoControl__OutputBufferLength < __cil_tmp83));
#line 1346
                            if (irpSp__Parameters__DeviceIoControl__OutputBufferLength < __cil_tmp83) {
                              __CrestBranch(1446, 488, 1);
                              __CrestLoad(1448, (unsigned long )0, (long long )-2147483643);
                              __CrestStore(1449, (unsigned long )(& ntStatus));
#line 1347
                              ntStatus = -2147483643;
                              __CrestLoad(1450, (unsigned long )(& sizeof__MOUNTDEV_UNIQUE_ID),
                                          (long long )sizeof__MOUNTDEV_UNIQUE_ID);
                              __CrestStore(1451, (unsigned long )(& Irp__IoStatus__Information));
#line 1348
                              Irp__IoStatus__Information = sizeof__MOUNTDEV_UNIQUE_ID;
#line 1349
                              goto switch_13_break;
                            } else {
                              __CrestBranch(1447, 490, 0);

                            }
                            }
                            __CrestLoad(1452, (unsigned long )0, (long long )0);
                            __CrestStore(1453, (unsigned long )(& ntStatus));
#line 1353
                            ntStatus = 0;
                            __CrestLoad(1456, (unsigned long )(& sizeof__USHORT),
                                        (long long )sizeof__USHORT);
                            __CrestLoad(1455, (unsigned long )(& uniqueId__UniqueIdLength),
                                        (long long )uniqueId__UniqueIdLength);
                            __CrestApply2(1454, 0, (long long )(sizeof__USHORT + uniqueId__UniqueIdLength));
                            __CrestStore(1457, (unsigned long )(& Irp__IoStatus__Information));
#line 1354
                            Irp__IoStatus__Information = sizeof__USHORT + uniqueId__UniqueIdLength;
#line 1355
                            goto switch_13_break;
                            switch_13_exp_2: ;
                            switch_13_exp_3: ;
                            {
                            __CrestLoad(1460, (unsigned long )(& irpSp__Parameters__DeviceIoControl__InputBufferLength),
                                        (long long )irpSp__Parameters__DeviceIoControl__InputBufferLength);
                            __CrestLoad(1459, (unsigned long )(& sizeof__FORMAT_PARAMETERS),
                                        (long long )sizeof__FORMAT_PARAMETERS);
                            __CrestApply2(1458, 16, (long long )(irpSp__Parameters__DeviceIoControl__InputBufferLength < sizeof__FORMAT_PARAMETERS));
#line 1358
                            if (irpSp__Parameters__DeviceIoControl__InputBufferLength < sizeof__FORMAT_PARAMETERS) {
                              __CrestBranch(1461, 496, 1);
                              __CrestLoad(1463, (unsigned long )0, (long long )-1073741811);
                              __CrestStore(1464, (unsigned long )(& ntStatus));
#line 1359
                              ntStatus = -1073741811;
#line 1360
                              goto switch_13_break;
                            } else {
                              __CrestBranch(1462, 498, 0);

                            }
                            }
                            __CrestLoad(1465, (unsigned long )(& disketteExtension),
                                        (long long )disketteExtension);
                            __CrestLoad(1466, (unsigned long )(& Irp__AssociatedIrp__SystemBuffer),
                                        (long long )Irp__AssociatedIrp__SystemBuffer);
#line 1365
                            tmp___0 = FlCheckFormatParameters(disketteExtension, Irp__AssociatedIrp__SystemBuffer);
                            __CrestHandleReturn(1468, (long long )tmp___0);
                            __CrestStore(1467, (unsigned long )(& tmp___0));
                            {
                            __CrestLoad(1471, (unsigned long )(& tmp___0), (long long )tmp___0);
                            __CrestLoad(1470, (unsigned long )0, (long long )0);
                            __CrestApply2(1469, 12, (long long )(tmp___0 == 0));
#line 1367
                            if (tmp___0 == 0) {
                              __CrestBranch(1472, 501, 1);
                              __CrestLoad(1474, (unsigned long )0, (long long )-1073741811);
                              __CrestStore(1475, (unsigned long )(& ntStatus));
#line 1370
                              ntStatus = -1073741811;
#line 1371
                              goto switch_13_break;
                            } else {
                              __CrestBranch(1473, 503, 0);

                            }
                            }
                            {
                            __CrestLoad(1478, (unsigned long )(& irpSp__Parameters__DeviceIoControl__IoControlCode___1),
                                        (long long )irpSp__Parameters__DeviceIoControl__IoControlCode___1);
                            __CrestLoad(1477, (unsigned long )(& __cil_tmp88), (long long )__cil_tmp88);
                            __CrestApply2(1476, 12, (long long )(irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp88));
#line 1373
                            if (irpSp__Parameters__DeviceIoControl__IoControlCode___1 == __cil_tmp88) {
                              __CrestBranch(1479, 505, 1);
                              {
                              __CrestLoad(1483, (unsigned long )(& irpSp__Parameters__DeviceIoControl__InputBufferLength),
                                          (long long )irpSp__Parameters__DeviceIoControl__InputBufferLength);
                              __CrestLoad(1482, (unsigned long )(& sizeof__FORMAT_EX_PARAMETERS),
                                          (long long )sizeof__FORMAT_EX_PARAMETERS);
                              __CrestApply2(1481, 16, (long long )(irpSp__Parameters__DeviceIoControl__InputBufferLength < sizeof__FORMAT_EX_PARAMETERS));
#line 1374
                              if (irpSp__Parameters__DeviceIoControl__InputBufferLength < sizeof__FORMAT_EX_PARAMETERS) {
                                __CrestBranch(1484, 506, 1);
                                __CrestLoad(1486, (unsigned long )0, (long long )-1073741811);
                                __CrestStore(1487, (unsigned long )(& ntStatus));
#line 1375
                                ntStatus = -1073741811;
#line 1376
                                goto switch_13_break;
                              } else {
                                __CrestBranch(1485, 508, 0);

                              }
                              }
                              __CrestLoad(1488, (unsigned long )(& Irp__AssociatedIrp__SystemBuffer),
                                          (long long )Irp__AssociatedIrp__SystemBuffer);
                              __CrestStore(1489, (unsigned long )(& formatExParameters));
#line 1380
                              formatExParameters = Irp__AssociatedIrp__SystemBuffer;
                              {
                              __CrestLoad(1492, (unsigned long )(& irpSp__Parameters__DeviceIoControl__InputBufferLength),
                                          (long long )irpSp__Parameters__DeviceIoControl__InputBufferLength);
                              __CrestLoad(1491, (unsigned long )(& formatExParametersSize),
                                          (long long )formatExParametersSize);
                              __CrestApply2(1490, 16, (long long )(irpSp__Parameters__DeviceIoControl__InputBufferLength < formatExParametersSize));
#line 1381
                              if (irpSp__Parameters__DeviceIoControl__InputBufferLength < formatExParametersSize) {
                                __CrestBranch(1493, 511, 1);
                                __CrestLoad(1495, (unsigned long )0, (long long )-1073741811);
                                __CrestStore(1496, (unsigned long )(& ntStatus));
#line 1382
                                ntStatus = -1073741811;
#line 1383
                                goto switch_13_break;
                              } else {
                                __CrestBranch(1494, 513, 0);
                                {
                                __CrestLoad(1499, (unsigned long )(& formatExParameters__FormatGapLength),
                                            (long long )formatExParameters__FormatGapLength);
                                __CrestLoad(1498, (unsigned long )0, (long long )256);
                                __CrestApply2(1497, 17, (long long )(formatExParameters__FormatGapLength >= 256));
#line 1385
                                if (formatExParameters__FormatGapLength >= 256) {
                                  __CrestBranch(1500, 514, 1);
                                  __CrestLoad(1502, (unsigned long )0, (long long )-1073741811);
                                  __CrestStore(1503, (unsigned long )(& ntStatus));
#line 1386
                                  ntStatus = -1073741811;
#line 1387
                                  goto switch_13_break;
                                } else {
                                  __CrestBranch(1501, 516, 0);
                                  {
                                  __CrestLoad(1506, (unsigned long )(& formatExParameters__SectorsPerTrack),
                                              (long long )formatExParameters__SectorsPerTrack);
                                  __CrestLoad(1505, (unsigned long )0, (long long )256);
                                  __CrestApply2(1504, 17, (long long )(formatExParameters__SectorsPerTrack >= 256));
#line 1389
                                  if (formatExParameters__SectorsPerTrack >= 256) {
                                    __CrestBranch(1507, 517, 1);
                                    __CrestLoad(1509, (unsigned long )0, (long long )-1073741811);
                                    __CrestStore(1510, (unsigned long )(& ntStatus));
#line 1390
                                    ntStatus = -1073741811;
#line 1391
                                    goto switch_13_break;
                                  } else {
                                    __CrestBranch(1508, 519, 0);

                                  }
                                  }
                                }
                                }
                              }
                              }
                            } else {
                              __CrestBranch(1480, 520, 0);

                            }
                            }
                            switch_13_exp_4: ;
                            switch_13_exp_5: ;
                            switch_13_exp_6: ;
                            switch_13_exp_7: 
                            __CrestLoad(1511, (unsigned long )(& Irp), (long long )Irp);
                            __CrestLoad(1512, (unsigned long )(& disketteExtension),
                                        (long long )disketteExtension);
#line 1405
                            ntStatus = FlQueueIrpToThread(Irp, disketteExtension);
                            __CrestHandleReturn(1514, (long long )ntStatus);
                            __CrestStore(1513, (unsigned long )(& ntStatus));
#line 1407
                            goto switch_13_break;
                            switch_13_exp_8: ;
                            switch_13_exp_9: 
                            __CrestLoad(1515, (unsigned long )(& irpSp__Parameters__DeviceIoControl__OutputBufferLength),
                                        (long long )irpSp__Parameters__DeviceIoControl__OutputBufferLength);
                            __CrestStore(1516, (unsigned long )(& outputBufferLength));
#line 1410
                            outputBufferLength = irpSp__Parameters__DeviceIoControl__OutputBufferLength;
                            {
                            __CrestLoad(1519, (unsigned long )(& outputBufferLength),
                                        (long long )outputBufferLength);
                            __CrestLoad(1518, (unsigned long )(& sizeof__DISK_GEOMETRY),
                                        (long long )sizeof__DISK_GEOMETRY);
                            __CrestApply2(1517, 16, (long long )(outputBufferLength < sizeof__DISK_GEOMETRY));
#line 1411
                            if (outputBufferLength < sizeof__DISK_GEOMETRY) {
                              __CrestBranch(1520, 529, 1);
                              __CrestLoad(1522, (unsigned long )0, (long long )-1073741789);
                              __CrestStore(1523, (unsigned long )(& ntStatus));
#line 1412
                              ntStatus = -1073741789;
#line 1413
                              goto switch_13_break;
                            } else {
                              __CrestBranch(1521, 531, 0);

                            }
                            }
                            __CrestLoad(1524, (unsigned long )0, (long long )0);
                            __CrestStore(1525, (unsigned long )(& ntStatus));
#line 1417
                            ntStatus = 0;
                            __CrestLoad(1528, (unsigned long )(& highestDriveMediaType),
                                        (long long )highestDriveMediaType);
                            __CrestLoad(1527, (unsigned long )(& lowestDriveMediaType),
                                        (long long )lowestDriveMediaType);
                            __CrestApply2(1526, 1, (long long )(highestDriveMediaType - lowestDriveMediaType));
                            __CrestStore(1529, (unsigned long )(& __cil_tmp89));
#line 1418
                            __cil_tmp89 = highestDriveMediaType - lowestDriveMediaType;
                            __CrestLoad(1532, (unsigned long )(& __cil_tmp89), (long long )__cil_tmp89);
                            __CrestLoad(1531, (unsigned long )0, (long long )1);
                            __CrestApply2(1530, 0, (long long )(__cil_tmp89 + 1));
                            __CrestStore(1533, (unsigned long )(& __cil_tmp90));
#line 1418
                            __cil_tmp90 = __cil_tmp89 + 1;
                            {
                            __CrestLoad(1536, (unsigned long )(& outputBufferLength),
                                        (long long )outputBufferLength);
                            __CrestLoad(1535, (unsigned long )(& __cil_tmp90), (long long )__cil_tmp90);
                            __CrestApply2(1534, 16, (long long )(outputBufferLength < __cil_tmp90));
#line 1418
                            if (outputBufferLength < __cil_tmp90) {
                              __CrestBranch(1537, 534, 1);
                              __CrestLoad(1539, (unsigned long )0, (long long )-2147483643);
                              __CrestStore(1540, (unsigned long )(& ntStatus));
#line 1419
                              ntStatus = -2147483643;
                            } else {
                              __CrestBranch(1538, 535, 0);

                            }
                            }
#line 1422
                            goto switch_13_break;
                            switch_13_exp_10: ;
                            switch_13_exp_11: ;
                            switch_13_default: ;
                            {
                            __CrestLoad(1543, (unsigned long )(& s), (long long )s);
                            __CrestLoad(1542, (unsigned long )(& NP), (long long )NP);
                            __CrestApply2(1541, 12, (long long )(s == NP));
#line 1427
                            if (s == NP) {
                              __CrestBranch(1544, 541, 1);
                              __CrestLoad(1546, (unsigned long )(& SKIP1), (long long )SKIP1);
                              __CrestStore(1547, (unsigned long )(& s));
#line 1428
                              s = SKIP1;
                            } else {
                              __CrestBranch(1545, 542, 0);
#line 1431
                              errorFn();
                              __CrestClearStack(1548);
                            }
                            }
                            __CrestLoad(1551, (unsigned long )(& Irp__CurrentLocation),
                                        (long long )Irp__CurrentLocation);
                            __CrestLoad(1550, (unsigned long )0, (long long )1);
                            __CrestApply2(1549, 0, (long long )(Irp__CurrentLocation + 1));
                            __CrestStore(1552, (unsigned long )(& Irp__CurrentLocation));
#line 1435
                            Irp__CurrentLocation ++;
                            __CrestLoad(1555, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation),
                                        (long long )Irp__Tail__Overlay__CurrentStackLocation);
                            __CrestLoad(1554, (unsigned long )0, (long long )1);
                            __CrestApply2(1553, 0, (long long )(Irp__Tail__Overlay__CurrentStackLocation + 1));
                            __CrestStore(1556, (unsigned long )(& Irp__Tail__Overlay__CurrentStackLocation));
#line 1436
                            Irp__Tail__Overlay__CurrentStackLocation ++;
                            __CrestLoad(1557, (unsigned long )(& disketteExtension__TargetObject),
                                        (long long )disketteExtension__TargetObject);
                            __CrestLoad(1558, (unsigned long )(& Irp), (long long )Irp);
#line 1437
                            ntStatus = IofCallDriver(disketteExtension__TargetObject,
                                                     Irp);
                            __CrestHandleReturn(1560, (long long )ntStatus);
                            __CrestStore(1559, (unsigned long )(& ntStatus));
                            __CrestLoad(1561, (unsigned long )(& ntStatus), (long long )ntStatus);
                            __CrestStore(1562, (unsigned long )(& __retres92));
#line 1440
                            __retres92 = ntStatus;
#line 1440
                            goto return_label;
                          } else {
                            __CrestBranch(1390, 546, 0);
                            switch_13_break: ;
                          }
                          }
                        }
                        }
                      }
                      }
                    }
                    }
                  }
                  }
                }
                }
              }
              }
            }
            }
          }
          }
        }
        }
      }
      }
    }
    }
  }
  }
  __CrestLoad(1563, (unsigned long )(& ntStatus), (long long )ntStatus);
  __CrestStore(1564, (unsigned long )(& __cil_tmp91));
#line 1457
  __cil_tmp91 = (long )ntStatus;
  {
  __CrestLoad(1567, (unsigned long )(& __cil_tmp91), (long long )__cil_tmp91);
  __CrestLoad(1566, (unsigned long )0, (long long )259L);
  __CrestApply2(1565, 13, (long long )(__cil_tmp91 != 259L));
#line 1457
  if (__cil_tmp91 != 259L) {
    __CrestBranch(1568, 549, 1);
    __CrestLoad(1570, (unsigned long )(& ntStatus), (long long )ntStatus);
    __CrestStore(1571, (unsigned long )(& Irp__IoStatus__Status___0));
#line 1459
    Irp__IoStatus__Status___0 = ntStatus;
    __CrestLoad(1572, (unsigned long )(& ntStatus), (long long )ntStatus);
    __CrestStore(1573, (unsigned long )(& myStatus));
#line 1460
    myStatus = ntStatus;
    __CrestLoad(1574, (unsigned long )(& Irp), (long long )Irp);
    __CrestLoad(1575, (unsigned long )0, (long long )0);
#line 1461
    IofCompleteRequest(Irp, 0);
    __CrestClearStack(1576);
  } else {
    __CrestBranch(1569, 550, 0);

  }
  }
  __CrestLoad(1577, (unsigned long )(& ntStatus), (long long )ntStatus);
  __CrestStore(1578, (unsigned long )(& __retres92));
#line 1466
  __retres92 = ntStatus;
  return_label: /* CIL Label */ 
  {
  __CrestLoad(1579, (unsigned long )(& __retres92), (long long )__retres92);
  __CrestReturn(1580);
#line 1195
  return (__retres92);
  }
}
}
#line 1469 "floppy_simpl4.cil.c"
int FlCheckFormatParameters(int DisketteExtension , int FormatParameters ) 
{ 
  int DriveMediaConstants__driveMediaType__MediaType ;
  int FormatParameters__MediaType ;
  int FAKE_CONDITION ;
  int __retres6 ;

  {
  __CrestCall(1583, 26);
  __CrestStore(1582, (unsigned long )(& FormatParameters));
  __CrestStore(1581, (unsigned long )(& DisketteExtension));
#line 1470
  __CrestInt(& DriveMediaConstants__driveMediaType__MediaType);
#line 1471
  __CrestInt(& FormatParameters__MediaType);
#line 1472
  __CrestInt(& FAKE_CONDITION);
  {
  __CrestLoad(1586, (unsigned long )(& DriveMediaConstants__driveMediaType__MediaType),
              (long long )DriveMediaConstants__driveMediaType__MediaType);
  __CrestLoad(1585, (unsigned long )(& FormatParameters__MediaType), (long long )FormatParameters__MediaType);
  __CrestApply2(1584, 13, (long long )(DriveMediaConstants__driveMediaType__MediaType != FormatParameters__MediaType));
#line 1475
  if (DriveMediaConstants__driveMediaType__MediaType != FormatParameters__MediaType) {
    __CrestBranch(1587, 555, 1);
    __CrestLoad(1589, (unsigned long )0, (long long )0);
    __CrestStore(1590, (unsigned long )(& __retres6));
#line 1476
    __retres6 = 0;
#line 1476
    goto return_label;
  } else {
    __CrestBranch(1588, 557, 0);
    {
    __CrestLoad(1593, (unsigned long )(& FAKE_CONDITION), (long long )FAKE_CONDITION);
    __CrestLoad(1592, (unsigned long )0, (long long )0);
    __CrestApply2(1591, 13, (long long )(FAKE_CONDITION != 0));
#line 1478
    if (FAKE_CONDITION != 0) {
      __CrestBranch(1594, 558, 1);
      __CrestLoad(1596, (unsigned long )0, (long long )0);
      __CrestStore(1597, (unsigned long )(& __retres6));
#line 1479
      __retres6 = 0;
#line 1479
      goto return_label;
    } else {
      __CrestBranch(1595, 560, 0);
      __CrestLoad(1598, (unsigned long )0, (long long )1);
      __CrestStore(1599, (unsigned long )(& __retres6));
#line 1481
      __retres6 = 1;
#line 1481
      goto return_label;
    }
    }
  }
  }
  return_label: /* CIL Label */ 
  {
  __CrestLoad(1600, (unsigned long )(& __retres6), (long long )__retres6);
  __CrestReturn(1601);
#line 1469
  return (__retres6);
  }
}
}
#line 1486 "floppy_simpl4.cil.c"
int FloppyQueueRequest(int DisketteExtension , int Irp ) 
{ 
  int Irp__IoStatus__Status ;
  int Irp__IoStatus__Information ;
  int ntStatus ;
  int FAKE_CONDITION ;

  {
  __CrestCall(1604, 27);
  __CrestStore(1603, (unsigned long )(& Irp));
  __CrestStore(1602, (unsigned long )(& DisketteExtension));
#line 1491
  __CrestInt(& FAKE_CONDITION);
  __CrestLoad(1607, (unsigned long )(& PagingReferenceCount), (long long )PagingReferenceCount);
  __CrestLoad(1606, (unsigned long )0, (long long )1);
  __CrestApply2(1605, 0, (long long )(PagingReferenceCount + 1));
  __CrestStore(1608, (unsigned long )(& PagingReferenceCount));
#line 1494
  PagingReferenceCount ++;
  {
  __CrestLoad(1611, (unsigned long )(& FAKE_CONDITION), (long long )FAKE_CONDITION);
  __CrestLoad(1610, (unsigned long )0, (long long )0);
  __CrestApply2(1609, 13, (long long )(FAKE_CONDITION != 0));
#line 1500
  if (FAKE_CONDITION != 0) {
    __CrestBranch(1612, 565, 1);
    __CrestLoad(1614, (unsigned long )0, (long long )-1073741536);
    __CrestStore(1615, (unsigned long )(& Irp__IoStatus__Status));
#line 1502
    Irp__IoStatus__Status = -1073741536;
    __CrestLoad(1616, (unsigned long )0, (long long )-1073741536);
    __CrestStore(1617, (unsigned long )(& myStatus));
#line 1503
    myStatus = -1073741536;
    __CrestLoad(1618, (unsigned long )0, (long long )0);
    __CrestStore(1619, (unsigned long )(& Irp__IoStatus__Information));
#line 1504
    Irp__IoStatus__Information = 0;
    __CrestLoad(1620, (unsigned long )(& Irp), (long long )Irp);
    __CrestLoad(1621, (unsigned long )0, (long long )0);
#line 1505
    IofCompleteRequest(Irp, 0);
    __CrestClearStack(1622);
    __CrestLoad(1625, (unsigned long )(& PagingReferenceCount), (long long )PagingReferenceCount);
    __CrestLoad(1624, (unsigned long )0, (long long )1);
    __CrestApply2(1623, 1, (long long )(PagingReferenceCount - 1));
    __CrestStore(1626, (unsigned long )(& PagingReferenceCount));
#line 1506
    PagingReferenceCount --;
    __CrestLoad(1627, (unsigned long )0, (long long )-1073741536);
    __CrestStore(1628, (unsigned long )(& ntStatus));
#line 1513
    ntStatus = -1073741536;
  } else {
    __CrestBranch(1613, 566, 0);
    __CrestLoad(1629, (unsigned long )0, (long long )259);
    __CrestStore(1630, (unsigned long )(& Irp__IoStatus__Status));
#line 1515
    Irp__IoStatus__Status = 259;
    __CrestLoad(1631, (unsigned long )0, (long long )259);
    __CrestStore(1632, (unsigned long )(& myStatus));
#line 1516
    myStatus = 259;
    {
    __CrestLoad(1635, (unsigned long )(& pended), (long long )pended);
    __CrestLoad(1634, (unsigned long )0, (long long )0);
    __CrestApply2(1633, 12, (long long )(pended == 0));
#line 1518
    if (pended == 0) {
      __CrestBranch(1636, 568, 1);
      __CrestLoad(1638, (unsigned long )0, (long long )1);
      __CrestStore(1639, (unsigned long )(& pended));
#line 1519
      pended = 1;
    } else {
      __CrestBranch(1637, 569, 0);
#line 1522
      errorFn();
      __CrestClearStack(1640);
    }
    }
    __CrestLoad(1641, (unsigned long )0, (long long )259);
    __CrestStore(1642, (unsigned long )(& ntStatus));
#line 1525
    ntStatus = 259;
  }
  }
  {
  __CrestLoad(1643, (unsigned long )(& ntStatus), (long long )ntStatus);
  __CrestReturn(1644);
#line 1527
  return (ntStatus);
  }
}
}
#line 1531 "floppy_simpl4.cil.c"
void errorFn(void) 
{ 


  {
  __CrestCall(1645, 28);

#line 1535
  goto ERROR;
  ERROR: ;
  {
  __CrestReturn(1646);
#line 1531
  return;
  }
}
}
void __globinit_floppy(void) 
{ 


  {
  __CrestInit();
}
}
